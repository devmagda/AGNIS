function e(e,t){return Object.keys(t).forEach(function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[r]}})}),e}function t(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}function r(e){return e&&e.__esModule?e.default:e}var n,i=globalThis,a={},o={},s=i.parcelRequire7c1d;null==s&&((s=function(e){if(e in a)return a[e].exports;if(e in o){var t=o[e];delete o[e];var r={id:e,exports:{}};return a[e]=r,t.call(r.exports,r,r.exports),r.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){o[e]=t},i.parcelRequire7c1d=s);var u=s.register;u("cmoHh",function(e,t){!function(e,t,r){function n(e){var t,r=this,n=(t=0xefc8249d,function(e){e=String(e);for(var r=0;r<e.length;r++){var n=.02519603282416938*(t+=e.charCodeAt(r));t=n>>>0,n-=t,n*=t,t=n>>>0,n-=t,t+=0x100000000*n}return(t>>>0)*23283064365386963e-26});r.next=function(){var e=2091639*r.s0+23283064365386963e-26*r.c;return r.s0=r.s1,r.s1=r.s2,r.s2=e-(r.c=0|e)},r.c=1,r.s0=n(" "),r.s1=n(" "),r.s2=n(" "),r.s0-=n(e),r.s0<0&&(r.s0+=1),r.s1-=n(e),r.s1<0&&(r.s1+=1),r.s2-=n(e),r.s2<0&&(r.s2+=1)}function i(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function a(e,t){var r=new n(e),a=t&&t.state,o=r.next;return o.int32=function(){return 0x100000000*r.next()|0},o.double=function(){return o()+(2097152*o()|0)*11102230246251565e-32},o.quick=o,a&&("object"==typeof a&&i(a,r),o.state=function(){return i(r,{})}),o}t&&t.exports?t.exports=a:r&&r.amd?r(function(){return a}):this.alea=a}(0,e,"function"==typeof define&&define)}),u("euRi5",function(e,t){!function(e,t,r){function n(e){var t=this,r="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:r+=e;for(var n=0;n<r.length+64;n++)t.x^=0|r.charCodeAt(n),t.next()}function i(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function a(e,t){var r=new n(e),a=t&&t.state,o=function(){return(r.next()>>>0)/0x100000000};return o.double=function(){do var e=r.next()>>>11,t=(r.next()>>>0)/0x100000000,n=(e+t)/2097152;while(0===n)return n},o.int32=r.next,o.quick=o,a&&("object"==typeof a&&i(a,r),o.state=function(){return i(r,{})}),o}t&&t.exports?t.exports=a:r&&r.amd?r(function(){return a}):this.xor128=a}(0,e,"function"==typeof define&&define)}),u("hDsEw",function(e,t){!function(e,t,r){function n(e){var t=this,r="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^(e^e<<1))|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:r+=e;for(var n=0;n<r.length+64;n++)t.x^=0|r.charCodeAt(n),n==r.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function i(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function a(e,t){var r=new n(e),a=t&&t.state,o=function(){return(r.next()>>>0)/0x100000000};return o.double=function(){do var e=r.next()>>>11,t=(r.next()>>>0)/0x100000000,n=(e+t)/2097152;while(0===n)return n},o.int32=r.next,o.quick=o,a&&("object"==typeof a&&i(a,r),o.state=function(){return i(r,{})}),o}t&&t.exports?t.exports=a:r&&r.amd?r(function(){return a}):this.xorwow=a}(0,e,"function"==typeof define&&define)}),u("3J2Zm",function(e,t){!function(e,t,r){function n(e){var t=this;t.next=function(){var e,r,n=t.x,i=t.i;return e=n[i],e^=e>>>7,r=e^e<<24^((e=n[i+1&7])^e>>>10)^((e=n[i+3&7])^e>>>3)^((e=n[i+4&7])^e<<7),e=n[i+7&7],e^=e<<13,r^=e^e<<9,n[i]=r,t.i=i+1&7,r};var r,n=e,i=[];if(n===(0|n))i[0]=n;else for(r=0,n=""+n;r<n.length;++r)i[7&r]=i[7&r]<<15^n.charCodeAt(r)+i[r+1&7]<<13;for(;i.length<8;)i.push(0);for(r=0;r<8&&0===i[r];++r);for(8==r?i[7]=-1:i[r],t.x=i,t.i=0,r=256;r>0;--r)t.next()}function i(e,t){return t.x=e.x.slice(),t.i=e.i,t}function a(e,t){null==e&&(e=+new Date);var r=new n(e),a=t&&t.state,o=function(){return(r.next()>>>0)/0x100000000};return o.double=function(){do var e=r.next()>>>11,t=(r.next()>>>0)/0x100000000,n=(e+t)/2097152;while(0===n)return n},o.int32=r.next,o.quick=o,a&&(a.x&&i(a,r),o.state=function(){return i(r,{})}),o}t&&t.exports?t.exports=a:r&&r.amd?r(function(){return a}):this.xorshift7=a}(0,e,"function"==typeof define&&define)}),u("6Px8M",function(e,t){!function(e,t,r){function n(e){var t=this;t.next=function(){var e,r,n=t.w,i=t.X,a=t.i;return t.w=n=n+0x61c88647|0,r=i[a+34&127],e=i[a=a+1&127],r^=r<<13,e^=e<<17,r^=r>>>15,e^=e>>>12,r=i[a]=r^e,t.i=a,r+(n^n>>>16)|0},!function(e,t){var r,n,i,a,o,s=[],u=128;for(t===(0|t)?(n=t,t=null):(t+="\0",n=0,u=Math.max(u,t.length)),i=0,a=-32;a<u;++a)t&&(n^=t.charCodeAt((a+32)%t.length)),0===a&&(o=n),n^=n<<10,n^=n>>>15,n^=n<<4,n^=n>>>13,a>=0&&(o=o+0x61c88647|0,i=0==(r=s[127&a]^=n+o)?i+1:0);for(i>=128&&(s[127&(t&&t.length||0)]=-1),i=127,a=512;a>0;--a)n=s[i+34&127],r=s[i=i+1&127],n^=n<<13,r^=r<<17,n^=n>>>15,r^=r>>>12,s[i]=n^r;e.w=o,e.X=s,e.i=i}(t,e)}function i(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function a(e,t){null==e&&(e=+new Date);var r=new n(e),a=t&&t.state,o=function(){return(r.next()>>>0)/0x100000000};return o.double=function(){do var e=r.next()>>>11,t=(r.next()>>>0)/0x100000000,n=(e+t)/2097152;while(0===n)return n},o.int32=r.next,o.quick=o,a&&(a.X&&i(a,r),o.state=function(){return i(r,{})}),o}t&&t.exports?t.exports=a:r&&r.amd?r(function(){return a}):this.xor4096=a}(0,e,"function"==typeof define&&define)}),u("lDm0S",function(e,t){!function(e,t,r){function n(e){var t=this,r="";t.next=function(){var e=t.b,r=t.c,n=t.d,i=t.a;return e=e<<25^e>>>7^r,r=r-n|0,n=n<<24^n>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^r,t.c=r=r-n|0,t.d=n<<16^r>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-0x61c88647,t.d=0x517cc1b7,e===Math.floor(e)?(t.a=e/0x100000000|0,t.b=0|e):r+=e;for(var n=0;n<r.length+20;n++)t.b^=0|r.charCodeAt(n),t.next()}function i(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function a(e,t){var r=new n(e),a=t&&t.state,o=function(){return(r.next()>>>0)/0x100000000};return o.double=function(){do var e=r.next()>>>11,t=(r.next()>>>0)/0x100000000,n=(e+t)/2097152;while(0===n)return n},o.int32=r.next,o.quick=o,a&&("object"==typeof a&&i(a,r),o.state=function(){return i(r,{})}),o}t&&t.exports?t.exports=a:r&&r.amd?r(function(){return a}):this.tychei=a}(0,e,"function"==typeof define&&define)}),u("kjyEk",function(e,t){});var l={};t(l,"popperGenerator",()=>ez),t(l,"detectOverflow",()=>eA),t(l,"createPopperBase",()=>eR),t(l,"createPopper",()=>ek),t(l,"createPopperLite",()=>eL);var c={};t(c,"top",()=>f),t(c,"bottom",()=>h),t(c,"right",()=>d),t(c,"left",()=>p),t(c,"auto",()=>m),t(c,"basePlacements",()=>g),t(c,"start",()=>v),t(c,"end",()=>y),t(c,"clippingParents",()=>b),t(c,"viewport",()=>D),t(c,"popper",()=>_),t(c,"reference",()=>x),t(c,"variationPlacements",()=>w),t(c,"placements",()=>E),t(c,"beforeRead",()=>A),t(c,"read",()=>C),t(c,"afterRead",()=>M),t(c,"beforeMain",()=>S),t(c,"main",()=>N),t(c,"afterMain",()=>F),t(c,"beforeWrite",()=>T),t(c,"write",()=>B),t(c,"afterWrite",()=>O),t(c,"modifierPhases",()=>I);var f="top",h="bottom",d="right",p="left",m="auto",g=[f,h,d,p],v="start",y="end",b="clippingParents",D="viewport",_="popper",x="reference",w=g.reduce(function(e,t){return e.concat([t+"-"+v,t+"-"+y])},[]),E=[].concat(g,[m]).reduce(function(e,t){return e.concat([t,t+"-"+v,t+"-"+y])},[]),A="beforeRead",C="read",M="afterRead",S="beforeMain",N="main",F="afterMain",T="beforeWrite",B="write",O="afterWrite",I=[A,C,M,S,N,F,T,B,O],z={};function R(e){return e?(e.nodeName||"").toLowerCase():null}function k(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function L(e){var t=k(e).Element;return e instanceof t||e instanceof Element}function P(e){var t=k(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function q(e){if("undefined"==typeof ShadowRoot)return!1;var t=k(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}t(z,"applyStyles",()=>U),t(z,"arrow",()=>es),t(z,"computeStyles",()=>ef),t(z,"eventListeners",()=>ed),t(z,"flip",()=>eC),t(z,"hide",()=>eN),t(z,"offset",()=>eF),t(z,"popperOffsets",()=>eT),t(z,"preventOverflow",()=>eB);var U={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var r=t.styles[e]||{},n=t.attributes[e]||{},i=t.elements[e];P(i)&&R(i)&&(Object.assign(i.style,r),Object.keys(n).forEach(function(e){var t=n[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(e){var n=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:r[e]).reduce(function(e,t){return e[t]="",e},{});P(n)&&R(n)&&(Object.assign(n.style,a),Object.keys(i).forEach(function(e){n.removeAttribute(e)}))})}},requires:["computeStyles"]};function j(e){return e.split("-")[0]}var H=Math.max,$=Math.min,G=Math.round;function V(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function W(){return!/^((?!chrome|android).)*safari/i.test(V())}function Y(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!1);var n=e.getBoundingClientRect(),i=1,a=1;t&&P(e)&&(i=e.offsetWidth>0&&G(n.width)/e.offsetWidth||1,a=e.offsetHeight>0&&G(n.height)/e.offsetHeight||1);var o=(L(e)?k(e):window).visualViewport,s=!W()&&r,u=(n.left+(s&&o?o.offsetLeft:0))/i,l=(n.top+(s&&o?o.offsetTop:0))/a,c=n.width/i,f=n.height/a;return{width:c,height:f,top:l,right:u+c,bottom:l+f,left:u,x:u,y:l}}function Z(e){var t=Y(e),r=e.offsetWidth,n=e.offsetHeight;return 1>=Math.abs(t.width-r)&&(r=t.width),1>=Math.abs(t.height-n)&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function X(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&q(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function J(e){return k(e).getComputedStyle(e)}function Q(e){return((L(e)?e.ownerDocument:e.document)||window.document).documentElement}function K(e){return"html"===R(e)?e:e.assignedSlot||e.parentNode||(q(e)?e.host:null)||Q(e)}function ee(e){return P(e)&&"fixed"!==J(e).position?e.offsetParent:null}function et(e){for(var t=k(e),r=ee(e);r&&["table","td","th"].indexOf(R(r))>=0&&"static"===J(r).position;)r=ee(r);return r&&("html"===R(r)||"body"===R(r)&&"static"===J(r).position)?t:r||function(e){var t=/firefox/i.test(V());if(/Trident/i.test(V())&&P(e)&&"fixed"===J(e).position)return null;var r=K(e);for(q(r)&&(r=r.host);P(r)&&0>["html","body"].indexOf(R(r));){var n=J(r);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return r;r=r.parentNode}return null}(e)||t}function er(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function en(e,t,r){return H(e,$(t,r))}function ei(){return{top:0,right:0,bottom:0,left:0}}function ea(e){return Object.assign({},ei(),e)}function eo(e,t){return t.reduce(function(t,r){return t[r]=e,t},{})}var es={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,r=e.state,n=e.name,i=e.options,a=r.elements.arrow,o=r.modifiersData.popperOffsets,s=j(r.placement),u=er(s),l=[p,d].indexOf(s)>=0?"height":"width";if(a&&o){var c,m=(c=i.padding,ea("number"!=typeof(c="function"==typeof c?c(Object.assign({},r.rects,{placement:r.placement})):c)?c:eo(c,g))),v=Z(a),y="y"===u?f:p,b="y"===u?h:d,D=r.rects.reference[l]+r.rects.reference[u]-o[u]-r.rects.popper[l],_=o[u]-r.rects.reference[u],x=et(a),w=x?"y"===u?x.clientHeight||0:x.clientWidth||0:0,E=m[y],A=w-v[l]-m[b],C=w/2-v[l]/2+(D/2-_/2),M=en(E,C,A);r.modifiersData[n]=((t={})[u]=M,t.centerOffset=M-C,t)}},effect:function(e){var t=e.state,r=e.options.element,n=void 0===r?"[data-popper-arrow]":r;if(null!=n)("string"!=typeof n||(n=t.elements.popper.querySelector(n)))&&X(t.elements.popper,n)&&(t.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function eu(e){return e.split("-")[1]}var el={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ec(e){var t,r,n,i,a,o,s,u=e.popper,l=e.popperRect,c=e.placement,m=e.variation,g=e.offsets,v=e.position,b=e.gpuAcceleration,D=e.adaptive,_=e.roundOffsets,x=e.isFixed,w=g.x,E=void 0===w?0:w,A=g.y,C=void 0===A?0:A,M="function"==typeof _?_({x:E,y:C}):{x:E,y:C};E=M.x,C=M.y;var S=g.hasOwnProperty("x"),N=g.hasOwnProperty("y"),F=p,T=f,B=window;if(D){var O=et(u),I="clientHeight",z="clientWidth";O===k(u)&&"static"!==J(O=Q(u)).position&&"absolute"===v&&(I="scrollHeight",z="scrollWidth"),(c===f||(c===p||c===d)&&m===y)&&(T=h,C-=(x&&O===B&&B.visualViewport?B.visualViewport.height:O[I])-l.height,C*=b?1:-1),(c===p||(c===f||c===h)&&m===y)&&(F=d,E-=(x&&O===B&&B.visualViewport?B.visualViewport.width:O[z])-l.width,E*=b?1:-1)}var R=Object.assign({position:v},D&&el),L=!0===_?(t={x:E,y:C},r=k(u),n=t.x,i=t.y,{x:G(n*(a=r.devicePixelRatio||1))/a||0,y:G(i*a)/a||0}):{x:E,y:C};return(E=L.x,C=L.y,b)?Object.assign({},R,((s={})[T]=N?"0":"",s[F]=S?"0":"",s.transform=1>=(B.devicePixelRatio||1)?"translate("+E+"px, "+C+"px)":"translate3d("+E+"px, "+C+"px, 0)",s)):Object.assign({},R,((o={})[T]=N?C+"px":"",o[F]=S?E+"px":"",o.transform="",o))}var ef={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=r.adaptive,a=r.roundOffsets,o=void 0===a||a,s={placement:j(t.placement),variation:eu(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:void 0===n||n,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ec(Object.assign({},s,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:void 0===i||i,roundOffsets:o})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ec(Object.assign({},s,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:o})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},eh={passive:!0},ed={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,a=void 0===i||i,o=n.resize,s=void 0===o||o,u=k(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&l.forEach(function(e){e.addEventListener("scroll",r.update,eh)}),s&&u.addEventListener("resize",r.update,eh),function(){a&&l.forEach(function(e){e.removeEventListener("scroll",r.update,eh)}),s&&u.removeEventListener("resize",r.update,eh)}},data:{}},ep={left:"right",right:"left",bottom:"top",top:"bottom"};function em(e){return e.replace(/left|right|bottom|top/g,function(e){return ep[e]})}var eg={start:"end",end:"start"};function ev(e){return e.replace(/start|end/g,function(e){return eg[e]})}function ey(e){var t=k(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function eb(e){return Y(Q(e)).left+ey(e).scrollLeft}function eD(e){var t=J(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function e_(e,t){void 0===t&&(t=[]);var r,n=function e(t){return["html","body","#document"].indexOf(R(t))>=0?t.ownerDocument.body:P(t)&&eD(t)?t:e(K(t))}(e),i=n===(null==(r=e.ownerDocument)?void 0:r.body),a=k(n),o=i?[a].concat(a.visualViewport||[],eD(n)?n:[]):n,s=t.concat(o);return i?s:s.concat(e_(K(o)))}function ex(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ew(e,t,r){var n,i,a,o,s,u,l,c,f,h;return t===D?ex(function(e,t){var r=k(e),n=Q(e),i=r.visualViewport,a=n.clientWidth,o=n.clientHeight,s=0,u=0;if(i){a=i.width,o=i.height;var l=W();(l||!l&&"fixed"===t)&&(s=i.offsetLeft,u=i.offsetTop)}return{width:a,height:o,x:s+eb(e),y:u}}(e,r)):L(t)?((n=Y(t,!1,"fixed"===r)).top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n):ex((i=Q(e),o=Q(i),s=ey(i),u=null==(a=i.ownerDocument)?void 0:a.body,l=H(o.scrollWidth,o.clientWidth,u?u.scrollWidth:0,u?u.clientWidth:0),c=H(o.scrollHeight,o.clientHeight,u?u.scrollHeight:0,u?u.clientHeight:0),f=-s.scrollLeft+eb(i),h=-s.scrollTop,"rtl"===J(u||o).direction&&(f+=H(o.clientWidth,u?u.clientWidth:0)-l),{width:l,height:c,x:f,y:h}))}function eE(e){var t,r=e.reference,n=e.element,i=e.placement,a=i?j(i):null,o=i?eu(i):null,s=r.x+r.width/2-n.width/2,u=r.y+r.height/2-n.height/2;switch(a){case f:t={x:s,y:r.y-n.height};break;case h:t={x:s,y:r.y+r.height};break;case d:t={x:r.x+r.width,y:u};break;case p:t={x:r.x-n.width,y:u};break;default:t={x:r.x,y:r.y}}var l=a?er(a):null;if(null!=l){var c="y"===l?"height":"width";switch(o){case v:t[l]=t[l]-(r[c]/2-n[c]/2);break;case y:t[l]=t[l]+(r[c]/2-n[c]/2)}}return t}function eA(e,t){void 0===t&&(t={});var r,n,i,a,o,s,u,l,c=t,p=c.placement,m=void 0===p?e.placement:p,v=c.strategy,y=void 0===v?e.strategy:v,w=c.boundary,E=c.rootBoundary,A=c.elementContext,C=void 0===A?_:A,M=c.altBoundary,S=c.padding,N=void 0===S?0:S,F=ea("number"!=typeof N?N:eo(N,g)),T=e.rects.popper,B=e.elements[void 0!==M&&M?C===_?x:_:C],O=(r=L(B)?B:B.contextElement||Q(e.elements.popper),n=void 0===w?b:w,i=void 0===E?D:E,u=(s=[].concat("clippingParents"===n?(a=e_(K(r)),!L(o=["absolute","fixed"].indexOf(J(r).position)>=0&&P(r)?et(r):r)?[]:a.filter(function(e){return L(e)&&X(e,o)&&"body"!==R(e)})):[].concat(n),[i]))[0],(l=s.reduce(function(e,t){var n=ew(r,t,y);return e.top=H(n.top,e.top),e.right=$(n.right,e.right),e.bottom=$(n.bottom,e.bottom),e.left=H(n.left,e.left),e},ew(r,u,y))).width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l),I=Y(e.elements.reference),z=eE({reference:I,element:T,strategy:"absolute",placement:m}),k=ex(Object.assign({},T,z)),q=C===_?k:I,U={top:O.top-q.top+F.top,bottom:q.bottom-O.bottom+F.bottom,left:O.left-q.left+F.left,right:q.right-O.right+F.right},j=e.modifiersData.offset;if(C===_&&j){var G=j[m];Object.keys(U).forEach(function(e){var t=[d,h].indexOf(e)>=0?1:-1,r=[f,h].indexOf(e)>=0?"y":"x";U[e]+=G[r]*t})}return U}var eC={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,a=void 0===i||i,o=r.altAxis,s=void 0===o||o,u=r.fallbackPlacements,l=r.padding,c=r.boundary,y=r.rootBoundary,b=r.altBoundary,D=r.flipVariations,_=void 0===D||D,x=r.allowedAutoPlacements,A=t.options.placement,C=j(A)===A,M=u||(C||!_?[em(A)]:function(e){if(j(e)===m)return[];var t=em(e);return[ev(e),t,ev(t)]}(A)),S=[A].concat(M).reduce(function(e,r){var n,i,a,o,s,u,f,h,d,p,v,b;return e.concat(j(r)===m?(i=(n={placement:r,boundary:c,rootBoundary:y,padding:l,flipVariations:_,allowedAutoPlacements:x}).placement,a=n.boundary,o=n.rootBoundary,s=n.padding,u=n.flipVariations,h=void 0===(f=n.allowedAutoPlacements)?E:f,0===(v=(p=(d=eu(i))?u?w:w.filter(function(e){return eu(e)===d}):g).filter(function(e){return h.indexOf(e)>=0})).length&&(v=p),Object.keys(b=v.reduce(function(e,r){return e[r]=eA(t,{placement:r,boundary:a,rootBoundary:o,padding:s})[j(r)],e},{})).sort(function(e,t){return b[e]-b[t]})):r)},[]),N=t.rects.reference,F=t.rects.popper,T=new Map,B=!0,O=S[0],I=0;I<S.length;I++){var z=S[I],R=j(z),k=eu(z)===v,L=[f,h].indexOf(R)>=0,P=L?"width":"height",q=eA(t,{placement:z,boundary:c,rootBoundary:y,altBoundary:b,padding:l}),U=L?k?d:p:k?h:f;N[P]>F[P]&&(U=em(U));var H=em(U),$=[];if(a&&$.push(q[R]<=0),s&&$.push(q[U]<=0,q[H]<=0),$.every(function(e){return e})){O=z,B=!1;break}T.set(z,$)}if(B)for(var G=_?3:1,V=function(e){var t=S.find(function(t){var r=T.get(t);if(r)return r.slice(0,e).every(function(e){return e})});if(t)return O=t,"break"},W=G;W>0&&"break"!==V(W);W--);t.placement!==O&&(t.modifiersData[n]._skip=!0,t.placement=O,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function eM(e,t,r){return void 0===r&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function eS(e){return[f,d,h,p].some(function(t){return e[t]>=0})}var eN={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=eA(t,{elementContext:"reference"}),s=eA(t,{altBoundary:!0}),u=eM(o,n),l=eM(s,i,a),c=eS(u),f=eS(l);t.modifiersData[r]={referenceClippingOffsets:u,popperEscapeOffsets:l,isReferenceHidden:c,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}},eF={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,r=e.options,n=e.name,i=r.offset,a=void 0===i?[0,0]:i,o=E.reduce(function(e,r){var n,i,o,s,u,l;return e[r]=(n=t.rects,o=[p,f].indexOf(i=j(r))>=0?-1:1,u=(s="function"==typeof a?a(Object.assign({},n,{placement:r})):a)[0],l=s[1],u=u||0,l=(l||0)*o,[p,d].indexOf(i)>=0?{x:l,y:u}:{x:u,y:l}),e},{}),s=o[t.placement],u=s.x,l=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=l),t.modifiersData[n]=o}},eT={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,r=e.name;t.modifiersData[r]=eE({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},eB={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,a=r.altAxis,o=r.boundary,s=r.rootBoundary,u=r.altBoundary,l=r.padding,c=r.tether,m=void 0===c||c,g=r.tetherOffset,y=void 0===g?0:g,b=eA(t,{boundary:o,rootBoundary:s,padding:l,altBoundary:u}),D=j(t.placement),_=eu(t.placement),x=!_,w=er(D),E="x"===w?"y":"x",A=t.modifiersData.popperOffsets,C=t.rects.reference,M=t.rects.popper,S="function"==typeof y?y(Object.assign({},t.rects,{placement:t.placement})):y,N="number"==typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),F=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,T={x:0,y:0};if(A){if(void 0===i||i){var B,O="y"===w?f:p,I="y"===w?h:d,z="y"===w?"height":"width",R=A[w],k=R+b[O],L=R-b[I],P=m?-M[z]/2:0,q=_===v?C[z]:M[z],U=_===v?-M[z]:-C[z],G=t.elements.arrow,V=m&&G?Z(G):{width:0,height:0},W=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:ei(),Y=W[O],X=W[I],J=en(0,C[z],V[z]),Q=x?C[z]/2-P-J-Y-N.mainAxis:q-J-Y-N.mainAxis,K=x?-C[z]/2+P+J+X+N.mainAxis:U+J+X+N.mainAxis,ee=t.elements.arrow&&et(t.elements.arrow),ea=ee?"y"===w?ee.clientTop||0:ee.clientLeft||0:0,eo=null!=(B=null==F?void 0:F[w])?B:0,es=en(m?$(k,R+Q-eo-ea):k,R,m?H(L,R+K-eo):L);A[w]=es,T[w]=es-R}if(void 0!==a&&a){var el,ec,ef="x"===w?f:p,eh="x"===w?h:d,ed=A[E],ep="y"===E?"height":"width",em=ed+b[ef],eg=ed-b[eh],ev=-1!==[f,p].indexOf(D),ey=null!=(ec=null==F?void 0:F[E])?ec:0,eb=ev?em:ed-C[ep]-M[ep]-ey+N.altAxis,eD=ev?ed+C[ep]+M[ep]-ey-N.altAxis:eg,e_=m&&ev?(el=en(eb,ed,eD))>eD?eD:el:en(m?eb:em,ed,m?eD:eg);A[E]=e_,T[E]=e_-ed}t.modifiersData[n]=T}},requiresIfExists:["offset"]},eO={placement:"bottom",modifiers:[],strategy:"absolute"};function eI(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function ez(e){void 0===e&&(e={});var t=e,r=t.defaultModifiers,n=void 0===r?[]:r,i=t.defaultOptions,a=void 0===i?eO:i;return function(e,t,r){void 0===r&&(r=a);var i,o,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},eO,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},u=[],l=!1,c={state:s,setOptions:function(r){var i,o,l,h,d,p,m="function"==typeof r?r(s.options):r;f(),s.options=Object.assign({},a,s.options,m),s.scrollParents={reference:L(e)?e_(e):e.contextElement?e_(e.contextElement):[],popper:e_(t)};var g=(o=Object.keys(i=[].concat(n,s.options.modifiers).reduce(function(e,t){var r=e[t.name];return e[t.name]=r?Object.assign({},r,t,{options:Object.assign({},r.options,t.options),data:Object.assign({},r.data,t.data)}):t,e},{})).map(function(e){return i[e]}),l=new Map,h=new Set,d=[],o.forEach(function(e){l.set(e.name,e)}),o.forEach(function(e){h.has(e.name)||function e(t){h.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach(function(t){if(!h.has(t)){var r=l.get(t);r&&e(r)}}),d.push(t)}(e)}),p=d,I.reduce(function(e,t){return e.concat(p.filter(function(e){return e.phase===t}))},[]));return s.orderedModifiers=g.filter(function(e){return e.enabled}),s.orderedModifiers.forEach(function(e){var t=e.name,r=e.options,n=e.effect;if("function"==typeof n){var i=n({state:s,name:t,instance:c,options:void 0===r?{}:r});u.push(i||function(){})}}),c.update()},forceUpdate:function(){if(!l){var e=s.elements,t=e.reference,r=e.popper;if(eI(t,r)){s.rects={reference:(n=et(r),i="fixed"===s.options.strategy,a=P(n),h=P(n)&&(u=G((o=n.getBoundingClientRect()).width)/n.offsetWidth||1,f=G(o.height)/n.offsetHeight||1,1!==u||1!==f),d=Q(n),p=Y(t,h,i),m={scrollLeft:0,scrollTop:0},g={x:0,y:0},(a||!a&&!i)&&(("body"!==R(n)||eD(d))&&(m=function(e){return e!==k(e)&&P(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:ey(e)}(n)),P(n)?(g=Y(n,!0),g.x+=n.clientLeft,g.y+=n.clientTop):d&&(g.x=eb(d))),{x:p.left+m.scrollLeft-g.x,y:p.top+m.scrollTop-g.y,width:p.width,height:p.height}),popper:Z(r)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach(function(e){return s.modifiersData[e.name]=Object.assign({},e.data)});for(var n,i,a,o,u,f,h,d,p,m,g,v=0;v<s.orderedModifiers.length;v++){if(!0===s.reset){s.reset=!1,v=-1;continue}var y=s.orderedModifiers[v],b=y.fn,D=y.options,_=void 0===D?{}:D,x=y.name;"function"==typeof b&&(s=b({state:s,options:_,name:x,instance:c})||s)}}}},update:(i=function(){return new Promise(function(e){c.forceUpdate(),e(s)})},function(){return o||(o=new Promise(function(e){Promise.resolve().then(function(){o=void 0,e(i())})})),o}),destroy:function(){f(),l=!0}};if(!eI(e,t))return c;function f(){u.forEach(function(e){return e()}),u=[]}return c.setOptions(r).then(function(e){!l&&r.onFirstUpdate&&r.onFirstUpdate(e)}),c}}var eR=ez(),ek=ez({defaultModifiers:[ed,eT,ef,U,eF,eC,eB,es,eN]}),eL=ez({defaultModifiers:[ed,eT,ef,U]});e(l,c),e(l,z);const eP=new Map,eq={set(e,t,r){eP.has(e)||eP.set(e,new Map);let n=eP.get(e);if(!n.has(t)&&0!==n.size)return void console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`);n.set(t,r)},get:(e,t)=>eP.has(e)&&eP.get(e).get(t)||null,remove(e,t){if(!eP.has(e))return;let r=eP.get(e);r.delete(t),0===r.size&&eP.delete(e)}},eU="transitionend",ej=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),e),eH=e=>null==e?`${e}`:Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),e$=e=>{do e+=Math.floor(1e6*Math.random());while(document.getElementById(e))return e},eG=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:r}=window.getComputedStyle(e),n=Number.parseFloat(t),i=Number.parseFloat(r);return n||i?(t=t.split(",")[0],r=r.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(r))*1e3):0},eV=e=>{e.dispatchEvent(new Event(eU))},eW=e=>!!e&&"object"==typeof e&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType),eY=e=>eW(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(ej(e)):null,eZ=e=>{if(!eW(e)||0===e.getClientRects().length)return!1;let t="visible"===getComputedStyle(e).getPropertyValue("visibility"),r=e.closest("details:not([open])");if(!r)return t;if(r!==e){let t=e.closest("summary");if(t&&t.parentNode!==r||null===t)return!1}return t},eX=e=>!!(!e||e.nodeType!==Node.ELEMENT_NODE||e.classList.contains("disabled"))||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled")),eJ=e=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){let t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?eJ(e.parentNode):null},eQ=()=>{},eK=e=>{e.offsetHeight},e0=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,e1=[],e2=e=>{"loading"===document.readyState?(e1.length||document.addEventListener("DOMContentLoaded",()=>{for(let e of e1)e()}),e1.push(e)):e()},e8=()=>"rtl"===document.documentElement.dir,e3=e=>{e2(()=>{let t=e0();if(t){let r=e.NAME,n=t.fn[r];t.fn[r]=e.jQueryInterface,t.fn[r].Constructor=e,t.fn[r].noConflict=()=>(t.fn[r]=n,e.jQueryInterface)}})},e5=(e,t=[],r=e)=>"function"==typeof e?e.call(...t):r,e6=(e,t,r=!0)=>{if(!r)return void e5(e);let n=eG(t)+5,i=!1,a=({target:r})=>{r===t&&(i=!0,t.removeEventListener(eU,a),e5(e))};t.addEventListener(eU,a),setTimeout(()=>{i||eV(t)},n)},e4=(e,t,r,n)=>{let i=e.length,a=e.indexOf(t);return -1===a?!r&&n?e[i-1]:e[0]:(a+=r?1:-1,n&&(a=(a+i)%i),e[Math.max(0,Math.min(a,i-1))])},e7=/[^.]*(?=\..*)\.|.*/,e9=/\..*/,te=/::\d+$/,tt={};let tr=1;const tn={mouseenter:"mouseover",mouseleave:"mouseout"},ti=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ta(e,t){return t&&`${t}::${tr++}`||e.uidEvent||tr++}function to(e){let t=ta(e);return e.uidEvent=t,tt[t]=tt[t]||{},tt[t]}function ts(e,t,r=null){return Object.values(e).find(e=>e.callable===t&&e.delegationSelector===r)}function tu(e,t,r){let n="string"==typeof t,i=tf(e);return ti.has(i)||(i=e),[n,n?r:t||r,i]}function tl(e,t,r,n,i){var a,o;if("string"!=typeof t||!e)return;let[s,u,l]=tu(t,r,n);if(t in tn){let e;e=u,u=function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)}}let c=to(e),f=c[l]||(c[l]={}),h=ts(f,u,s?r:null);if(h){h.oneOff=h.oneOff&&i;return}let d=ta(u,t.replace(e7,"")),p=s?(a=u,function t(n){let i=e.querySelectorAll(r);for(let{target:o}=n;o&&o!==this;o=o.parentNode)for(let s of i)if(s===o)return td(n,{delegateTarget:o}),t.oneOff&&th.off(e,n.type,r,a),a.apply(o,[n])}):(o=u,function t(r){return td(r,{delegateTarget:e}),t.oneOff&&th.off(e,r.type,o),o.apply(e,[r])});p.delegationSelector=s?r:null,p.callable=u,p.oneOff=i,p.uidEvent=d,f[d]=p,e.addEventListener(l,p,s)}function tc(e,t,r,n,i){let a=ts(t[r],n,i);a&&(e.removeEventListener(r,a,!!i),delete t[r][a.uidEvent])}function tf(e){return tn[e=e.replace(e9,"")]||e}const th={on(e,t,r,n){tl(e,t,r,n,!1)},one(e,t,r,n){tl(e,t,r,n,!0)},off(e,t,r,n){if("string"!=typeof t||!e)return;let[i,a,o]=tu(t,r,n),s=o!==t,u=to(e),l=u[o]||{},c=t.startsWith(".");if(void 0!==a){if(!Object.keys(l).length)return;tc(e,u,o,a,i?r:null);return}if(c)for(let r of Object.keys(u)){var f=t.slice(1);for(let[t,n]of Object.entries(u[r]||{}))t.includes(f)&&tc(e,u,r,n.callable,n.delegationSelector)}for(let[r,n]of Object.entries(l)){let i=r.replace(te,"");(!s||t.includes(i))&&tc(e,u,o,n.callable,n.delegationSelector)}},trigger(e,t,r){if("string"!=typeof t||!e)return null;let n=e0(),i=tf(t),a=null,o=!0,s=!0,u=!1;t!==i&&n&&(a=n.Event(t,r),n(e).trigger(a),o=!a.isPropagationStopped(),s=!a.isImmediatePropagationStopped(),u=a.isDefaultPrevented());let l=td(new Event(t,{bubbles:o,cancelable:!0}),r);return u&&l.preventDefault(),s&&e.dispatchEvent(l),l.defaultPrevented&&a&&a.preventDefault(),l}};function td(e,t={}){for(let[r,n]of Object.entries(t))try{e[r]=n}catch(t){Object.defineProperty(e,r,{configurable:!0,get:()=>n})}return e}function tp(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!=typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function tm(e){return e.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const tg={setDataAttribute(e,t,r){e.setAttribute(`data-bs-${tm(t)}`,r)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${tm(t)}`)},getDataAttributes(e){if(!e)return{};let t={};for(let r of Object.keys(e.dataset).filter(e=>e.startsWith("bs")&&!e.startsWith("bsConfig"))){let n=r.replace(/^bs/,"");t[n=n.charAt(0).toLowerCase()+n.slice(1)]=tp(e.dataset[r])}return t},getDataAttribute:(e,t)=>tp(e.getAttribute(`data-bs-${tm(t)}`))};class tv{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){let r=eW(t)?tg.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof r?r:{},...eW(t)?tg.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(let[r,n]of Object.entries(t)){let t=e[r],i=eW(t)?"element":eH(t);if(!new RegExp(n).test(i))throw TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${i}" but expected type "${n}".`)}}}class ty extends tv{constructor(e,t){if(super(),!(e=eY(e)))return;this._element=e,this._config=this._getConfig(t),eq.set(this._element,this.constructor.DATA_KEY,this)}dispose(){for(let e of(eq.remove(this._element,this.constructor.DATA_KEY),th.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this)))this[e]=null}_queueCallback(e,t,r=!0){e6(e,t,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return eq.get(eY(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.3.5"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const tb=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let r=e.getAttribute("href");if(!r||!r.includes("#")&&!r.startsWith("."))return null;r.includes("#")&&!r.startsWith("#")&&(r=`#${r.split("#")[1]}`),t=r&&"#"!==r?r.trim():null}return t?t.split(",").map(e=>ej(e)).join(","):null},tD={find:(e,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,e)),findOne:(e,t=document.documentElement)=>Element.prototype.querySelector.call(t,e),children:(e,t)=>[].concat(...e.children).filter(e=>e.matches(t)),parents(e,t){let r=[],n=e.parentNode.closest(t);for(;n;)r.push(n),n=n.parentNode.closest(t);return r},prev(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return[r];r=r.previousElementSibling}return[]},next(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return[r];r=r.nextElementSibling}return[]},focusableChildren(e){let t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(t,e).filter(e=>!eX(e)&&eZ(e))},getSelectorFromElement(e){let t=tb(e);return t&&tD.findOne(t)?t:null},getElementFromSelector(e){let t=tb(e);return t?tD.findOne(t):null},getMultipleElementsFromSelector(e){let t=tb(e);return t?tD.find(t):[]}},t_=(e,t="hide")=>{let r=`click.dismiss${e.EVENT_KEY}`,n=e.NAME;th.on(document,r,`[data-bs-dismiss="${n}"]`,function(r){if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),eX(this))return;let i=tD.getElementFromSelector(this)||this.closest(`.${n}`);e.getOrCreateInstance(i)[t]()})},tx=".bs.alert",tw=`close${tx}`,tE=`closed${tx}`;class tA extends ty{static get NAME(){return"alert"}close(){if(th.trigger(this._element,tw).defaultPrevented)return;this._element.classList.remove("show");let e=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),th.trigger(this._element,tE),this.dispose()}static jQueryInterface(e){return this.each(function(){let t=tA.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw TypeError(`No method named "${e}"`);t[e](this)}})}}t_(tA,"close"),e3(tA);const tC='[data-bs-toggle="button"]',tM="click.bs.button.data-api";class tS extends ty{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each(function(){let t=tS.getOrCreateInstance(this);"toggle"===e&&t[e]()})}}th.on(document,tM,tC,e=>{e.preventDefault();let t=e.target.closest(tC);tS.getOrCreateInstance(t).toggle()}),e3(tS);const tN=".bs.swipe",tF=`touchstart${tN}`,tT=`touchmove${tN}`,tB=`touchend${tN}`,tO=`pointerdown${tN}`,tI=`pointerup${tN}`,tz={endCallback:null,leftCallback:null,rightCallback:null},tR={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class tk extends tv{constructor(e,t){if(super(),this._element=e,!e||!tk.isSupported())return;this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents()}static get Default(){return tz}static get DefaultType(){return tR}static get NAME(){return"swipe"}dispose(){th.off(this._element,tN)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),e5(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){let e=Math.abs(this._deltaX);if(e<=40)return;let t=e/this._deltaX;this._deltaX=0,t&&e5(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(th.on(this._element,tO,e=>this._start(e)),th.on(this._element,tI,e=>this._end(e)),this._element.classList.add("pointer-event")):(th.on(this._element,tF,e=>this._start(e)),th.on(this._element,tT,e=>this._move(e)),th.on(this._element,tB,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const tL=".bs.carousel",tP=".data-api",tq="next",tU="prev",tj="left",tH="right",t$=`slide${tL}`,tG=`slid${tL}`,tV=`keydown${tL}`,tW=`mouseenter${tL}`,tY=`mouseleave${tL}`,tZ=`dragstart${tL}`,tX=`load${tL}${tP}`,tJ=`click${tL}${tP}`,tQ="carousel",tK="active",t0=".active",t1=".carousel-item",t2=t0+t1,t8={ArrowLeft:tH,ArrowRight:tj},t3={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},t5={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class t6 extends ty{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=tD.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===tQ&&this.cycle()}static get Default(){return t3}static get DefaultType(){return t5}static get NAME(){return"carousel"}next(){this._slide(tq)}nextWhenVisible(){!document.hidden&&eZ(this._element)&&this.next()}prev(){this._slide(tU)}pause(){this._isSliding&&eV(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding)return void th.one(this._element,tG,()=>this.cycle());this.cycle()}}to(e){let t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void th.one(this._element,tG,()=>this.to(e));let r=this._getItemIndex(this._getActive());r!==e&&this._slide(e>r?tq:tU,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&th.on(this._element,tV,e=>this._keydown(e)),"hover"===this._config.pause&&(th.on(this._element,tW,()=>this.pause()),th.on(this._element,tY,()=>this._maybeEnableCycle())),this._config.touch&&tk.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(let e of tD.find(".carousel-item img",this._element))th.on(e,tZ,e=>e.preventDefault());this._swipeHelper=new tk(this._element,{leftCallback:()=>this._slide(this._directionToOrder(tj)),rightCallback:()=>this._slide(this._directionToOrder(tH)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;let t=t8[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;let t=tD.findOne(t0,this._indicatorsElement);t.classList.remove(tK),t.removeAttribute("aria-current");let r=tD.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(tK),r.setAttribute("aria-current","true"))}_updateInterval(){let e=this._activeElement||this._getActive();if(!e)return;let t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;let r=this._getActive(),n=e===tq,i=t||e4(this._getItems(),r,n,this._config.wrap);if(i===r)return;let a=this._getItemIndex(i),o=t=>th.trigger(this._element,t,{relatedTarget:i,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:a});if(o(t$).defaultPrevented||!r||!i)return;let s=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(a),this._activeElement=i;let u=n?"carousel-item-start":"carousel-item-end",l=n?"carousel-item-next":"carousel-item-prev";i.classList.add(l),eK(i),r.classList.add(u),i.classList.add(u),this._queueCallback(()=>{i.classList.remove(u,l),i.classList.add(tK),r.classList.remove(tK,l,u),this._isSliding=!1,o(tG)},r,this._isAnimated()),s&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return tD.findOne(t2,this._element)}_getItems(){return tD.find(t1,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return e8()?e===tj?tU:tq:e===tj?tq:tU}_orderToDirection(e){return e8()?e===tU?tj:tH:e===tU?tH:tj}static jQueryInterface(e){return this.each(function(){let t=t6.getOrCreateInstance(this,e);if("number"==typeof e)return void t.to(e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw TypeError(`No method named "${e}"`);t[e]()}})}}th.on(document,tJ,"[data-bs-slide], [data-bs-slide-to]",function(e){let t=tD.getElementFromSelector(this);if(!t||!t.classList.contains(tQ))return;e.preventDefault();let r=t6.getOrCreateInstance(t),n=this.getAttribute("data-bs-slide-to");if(n){r.to(n),r._maybeEnableCycle();return}if("next"===tg.getDataAttribute(this,"slide")){r.next(),r._maybeEnableCycle();return}r.prev(),r._maybeEnableCycle()}),th.on(window,tX,()=>{for(let e of tD.find('[data-bs-ride="carousel"]'))t6.getOrCreateInstance(e)}),e3(t6);const t4=".bs.collapse",t7=`show${t4}`,t9=`shown${t4}`,re=`hide${t4}`,rt=`hidden${t4}`,rr=`click${t4}.data-api`,rn="show",ri="collapse",ra="collapsing",ro=`:scope .${ri} .${ri}`,rs='[data-bs-toggle="collapse"]',ru={parent:null,toggle:!0},rl={parent:"(null|element)",toggle:"boolean"};class rc extends ty{constructor(e,t){for(let r of(super(e,t),this._isTransitioning=!1,this._triggerArray=[],tD.find(rs))){let e=tD.getSelectorFromElement(r),t=tD.find(e).filter(e=>e===this._element);null!==e&&t.length&&this._triggerArray.push(r)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return ru}static get DefaultType(){return rl}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(e=>e!==this._element).map(e=>rc.getOrCreateInstance(e,{toggle:!1}))),e.length&&e[0]._isTransitioning||th.trigger(this._element,t7).defaultPrevented)return;for(let t of e)t.hide();let t=this._getDimension();this._element.classList.remove(ri),this._element.classList.add(ra),this._element.style[t]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let r=t[0].toUpperCase()+t.slice(1),n=`scroll${r}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ra),this._element.classList.add(ri,rn),this._element.style[t]="",th.trigger(this._element,t9)},this._element,!0),this._element.style[t]=`${this._element[n]}px`}hide(){if(this._isTransitioning||!this._isShown()||th.trigger(this._element,re).defaultPrevented)return;let e=this._getDimension();for(let t of(this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,eK(this._element),this._element.classList.add(ra),this._element.classList.remove(ri,rn),this._triggerArray)){let e=tD.getElementFromSelector(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ra),this._element.classList.add(ri),th.trigger(this._element,rt)},this._element,!0)}_isShown(e=this._element){return e.classList.contains(rn)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=eY(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(this._config.parent)for(let e of this._getFirstLevelChildren(rs)){let t=tD.getElementFromSelector(e);t&&this._addAriaAndCollapsedClass([e],this._isShown(t))}}_getFirstLevelChildren(e){let t=tD.find(ro,this._config.parent);return tD.find(e,this._config.parent).filter(e=>!t.includes(e))}_addAriaAndCollapsedClass(e,t){if(e.length)for(let r of e)r.classList.toggle("collapsed",!t),r.setAttribute("aria-expanded",t)}static jQueryInterface(e){let t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){let r=rc.getOrCreateInstance(this,t);if("string"==typeof e){if(void 0===r[e])throw TypeError(`No method named "${e}"`);r[e]()}})}}th.on(document,rr,rs,function(e){for(let t of(("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault(),tD.getMultipleElementsFromSelector(this)))rc.getOrCreateInstance(t,{toggle:!1}).toggle()}),e3(rc);const rf="dropdown",rh=".bs.dropdown",rd=".data-api",rp="ArrowDown",rm=`hide${rh}`,rg=`hidden${rh}`,rv=`show${rh}`,ry=`shown${rh}`,rb=`click${rh}${rd}`,rD=`keydown${rh}${rd}`,r_=`keyup${rh}${rd}`,rx="show",rw='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',rE=`${rw}.${rx}`,rA=".dropdown-menu",rC=e8()?"top-end":"top-start",rM=e8()?"top-start":"top-end",rS=e8()?"bottom-end":"bottom-start",rN=e8()?"bottom-start":"bottom-end",rF=e8()?"left-start":"right-start",rT=e8()?"right-start":"left-start",rB={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},rO={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class rI extends ty{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=tD.next(this._element,rA)[0]||tD.prev(this._element,rA)[0]||tD.findOne(rA,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return rB}static get DefaultType(){return rO}static get NAME(){return rf}toggle(){return this._isShown()?this.hide():this.show()}show(){if(eX(this._element)||this._isShown())return;let e={relatedTarget:this._element};if(!th.trigger(this._element,rv,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(let e of[].concat(...document.body.children))th.on(e,"mouseover",eQ);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(rx),this._element.classList.add(rx),th.trigger(this._element,ry,e)}}hide(){if(eX(this._element)||!this._isShown())return;let e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!th.trigger(this._element,rm,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(let e of[].concat(...document.body.children))th.off(e,"mouseover",eQ);this._popper&&this._popper.destroy(),this._menu.classList.remove(rx),this._element.classList.remove(rx),this._element.setAttribute("aria-expanded","false"),tg.removeDataAttribute(this._menu,"popper"),th.trigger(this._element,rg,e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!eW(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw TypeError(`${rf.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(void 0===l)throw TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let e=this._element;"parent"===this._config.reference?e=this._parent:eW(this._config.reference)?e=eY(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);let t=this._getPopperConfig();this._popper=l.createPopper(e,this._menu,t)}_isShown(){return this._menu.classList.contains(rx)}_getPlacement(){let e=this._parent;if(e.classList.contains("dropend"))return rF;if(e.classList.contains("dropstart"))return rT;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";let t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?rM:rC:t?rN:rS}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){let{offset:e}=this._config;return"string"==typeof e?e.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){let e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(tg.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...e5(this._config.popperConfig,[void 0,e])}}_selectMenuItem({key:e,target:t}){let r=tD.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(e=>eZ(e));r.length&&e4(r,t,e===rp,!r.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){let t=rI.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(2!==e.button&&("keyup"!==e.type||"Tab"===e.key))for(let t of tD.find(rE)){let r=rI.getInstance(t);if(!r||!1===r._config.autoClose)continue;let n=e.composedPath(),i=n.includes(r._menu);if(n.includes(r._element)||"inside"===r._config.autoClose&&!i||"outside"===r._config.autoClose&&i||r._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;let a={relatedTarget:r._element};"click"===e.type&&(a.clickEvent=e),r._completeHide(a)}}static dataApiKeydownHandler(e){let t=/input|textarea/i.test(e.target.tagName),r="Escape"===e.key,n=["ArrowUp",rp].includes(e.key);if(!n&&!r||t&&!r)return;e.preventDefault();let i=this.matches(rw)?this:tD.prev(this,rw)[0]||tD.next(this,rw)[0]||tD.findOne(rw,e.delegateTarget.parentNode),a=rI.getOrCreateInstance(i);if(n){e.stopPropagation(),a.show(),a._selectMenuItem(e);return}a._isShown()&&(e.stopPropagation(),a.hide(),i.focus())}}th.on(document,rD,rw,rI.dataApiKeydownHandler),th.on(document,rD,rA,rI.dataApiKeydownHandler),th.on(document,rb,rI.clearMenus),th.on(document,r_,rI.clearMenus),th.on(document,rb,rw,function(e){e.preventDefault(),rI.getOrCreateInstance(this).toggle()}),e3(rI);const rz="backdrop",rR="show",rk=`mousedown.bs.${rz}`,rL={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},rP={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class rq extends tv{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return rL}static get DefaultType(){return rP}static get NAME(){return rz}show(e){if(!this._config.isVisible)return void e5(e);this._append();let t=this._getElement();this._config.isAnimated&&eK(t),t.classList.add(rR),this._emulateAnimation(()=>{e5(e)})}hide(e){if(!this._config.isVisible)return void e5(e);this._getElement().classList.remove(rR),this._emulateAnimation(()=>{this.dispose(),e5(e)})}dispose(){this._isAppended&&(th.off(this._element,rk),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=eY(e.rootElement),e}_append(){if(this._isAppended)return;let e=this._getElement();this._config.rootElement.append(e),th.on(e,rk,()=>{e5(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){e6(e,this._getElement(),this._config.isAnimated)}}const rU=".bs.focustrap",rj=`focusin${rU}`,rH=`keydown.tab${rU}`,r$="backward",rG={autofocus:!0,trapElement:null},rV={autofocus:"boolean",trapElement:"element"};class rW extends tv{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return rG}static get DefaultType(){return rV}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),th.off(document,rU),th.on(document,rj,e=>this._handleFocusin(e)),th.on(document,rH,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,th.off(document,rU))}_handleFocusin(e){let{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;let r=tD.focusableChildren(t);0===r.length?t.focus():this._lastTabNavDirection===r$?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?r$:"forward")}}const rY=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",rZ=".sticky-top",rX="padding-right",rJ="margin-right";class rQ{constructor(){this._element=document.body}getWidth(){let e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){let e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,rX,t=>t+e),this._setElementAttributes(rY,rX,t=>t+e),this._setElementAttributes(rZ,rJ,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,rX),this._resetElementAttributes(rY,rX),this._resetElementAttributes(rZ,rJ)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,r){let n=this.getWidth();this._applyManipulationCallback(e,e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+n)return;this._saveInitialAttribute(e,t);let i=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,`${r(Number.parseFloat(i))}px`)})}_saveInitialAttribute(e,t){let r=e.style.getPropertyValue(t);r&&tg.setDataAttribute(e,t,r)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,e=>{let r=tg.getDataAttribute(e,t);if(null===r)return void e.style.removeProperty(t);tg.removeDataAttribute(e,t),e.style.setProperty(t,r)})}_applyManipulationCallback(e,t){if(eW(e))return void t(e);for(let r of tD.find(e,this._element))t(r)}}const rK=".bs.modal",r0=`hide${rK}`,r1=`hidePrevented${rK}`,r2=`hidden${rK}`,r8=`show${rK}`,r3=`shown${rK}`,r5=`resize${rK}`,r6=`click.dismiss${rK}`,r4=`mousedown.dismiss${rK}`,r7=`keydown.dismiss${rK}`,r9=`click${rK}.data-api`,ne="modal-open",nt="show",nr="modal-static",nn={backdrop:!0,focus:!0,keyboard:!0},ni={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class na extends ty{constructor(e,t){super(e,t),this._dialog=tD.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new rQ,this._addEventListeners()}static get Default(){return nn}static get DefaultType(){return ni}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||th.trigger(this._element,r8,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(ne),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){this._isShown&&!this._isTransitioning&&(th.trigger(this._element,r0).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(nt),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){th.off(window,rK),th.off(this._dialog,rK),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new rq({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new rW({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;let t=tD.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),eK(this._element),this._element.classList.add(nt),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,th.trigger(this._element,r3,{relatedTarget:e})},this._dialog,this._isAnimated())}_addEventListeners(){th.on(this._element,r7,e=>{if("Escape"===e.key){if(this._config.keyboard)return void this.hide();this._triggerBackdropTransition()}}),th.on(window,r5,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),th.on(this._element,r4,e=>{th.one(this._element,r6,t=>{if(this._element===e.target&&this._element===t.target){if("static"===this._config.backdrop)return void this._triggerBackdropTransition();this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(ne),this._resetAdjustments(),this._scrollBar.reset(),th.trigger(this._element,r2)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(th.trigger(this._element,r1).defaultPrevented)return;let e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._element.style.overflowY;"hidden"===t||this._element.classList.contains(nr)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(nr),this._queueCallback(()=>{this._element.classList.remove(nr),this._queueCallback(()=>{this._element.style.overflowY=t},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),r=t>0;if(r&&!e){let e=e8()?"paddingLeft":"paddingRight";this._element.style[e]=`${t}px`}if(!r&&e){let e=e8()?"paddingRight":"paddingLeft";this._element.style[e]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){let r=na.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===r[e])throw TypeError(`No method named "${e}"`);r[e](t)}})}}th.on(document,r9,'[data-bs-toggle="modal"]',function(e){let t=tD.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),th.one(t,r8,e=>{e.defaultPrevented||th.one(t,r2,()=>{eZ(this)&&this.focus()})});let r=tD.findOne(".modal.show");r&&na.getInstance(r).hide(),na.getOrCreateInstance(t).toggle(this)}),t_(na),e3(na);const no=".bs.offcanvas",ns=".data-api",nu=`load${no}${ns}`,nl="show",nc="showing",nf="hiding",nh=".offcanvas.show",nd=`show${no}`,np=`shown${no}`,nm=`hide${no}`,ng=`hidePrevented${no}`,nv=`hidden${no}`,ny=`resize${no}`,nb=`click${no}${ns}`,nD=`keydown.dismiss${no}`,n_={backdrop:!0,keyboard:!0,scroll:!1},nx={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class nw extends ty{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return n_}static get DefaultType(){return nx}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||th.trigger(this._element,nd,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new rQ().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(nc),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(nl),this._element.classList.remove(nc),th.trigger(this._element,np,{relatedTarget:e})},this._element,!0))}hide(){this._isShown&&!th.trigger(this._element,nm).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(nf),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(nl,nf),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new rQ().reset(),th.trigger(this._element,nv)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){let e=!!this._config.backdrop;return new rq({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{if("static"===this._config.backdrop)return void th.trigger(this._element,ng);this.hide()}:null})}_initializeFocusTrap(){return new rW({trapElement:this._element})}_addEventListeners(){th.on(this._element,nD,e=>{if("Escape"===e.key){if(this._config.keyboard)return void this.hide();th.trigger(this._element,ng)}})}static jQueryInterface(e){return this.each(function(){let t=nw.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw TypeError(`No method named "${e}"`);t[e](this)}})}}th.on(document,nb,'[data-bs-toggle="offcanvas"]',function(e){let t=tD.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),eX(this))return;th.one(t,nv,()=>{eZ(this)&&this.focus()});let r=tD.findOne(nh);r&&r!==t&&nw.getInstance(r).hide(),nw.getOrCreateInstance(t).toggle(this)}),th.on(window,nu,()=>{for(let e of tD.find(nh))nw.getOrCreateInstance(e).show()}),th.on(window,ny,()=>{for(let e of tD.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&nw.getOrCreateInstance(e).hide()}),t_(nw),e3(nw);const nE={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},nA=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),nC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,nM=(e,t)=>{let r=e.nodeName.toLowerCase();return t.includes(r)?!nA.has(r)||!!nC.test(e.nodeValue):t.filter(e=>e instanceof RegExp).some(e=>e.test(r))},nS={allowList:nE,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},nN={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},nF={entry:"(string|element|function|null)",selector:"(string|element)"};class nT extends tv{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return nS}static get DefaultType(){return nN}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){let e=document.createElement("div");for(let[t,r]of(e.innerHTML=this._maybeSanitize(this._config.template),Object.entries(this._config.content)))this._setContent(e,r,t);let t=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&t.classList.add(...r.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(let[t,r]of Object.entries(e))super._typeCheckConfig({selector:t,entry:r},nF)}_setContent(e,t,r){let n=tD.findOne(r,e);if(n){if(!(t=this._resolvePossibleFunction(t)))return void n.remove();if(eW(t))return void this._putElementInTemplate(eY(t),n);if(this._config.html){n.innerHTML=this._maybeSanitize(t);return}n.textContent=t}}_maybeSanitize(e){return this._config.sanitize?function(e,t,r){if(!e.length)return e;if(r&&"function"==typeof r)return r(e);let n=new window.DOMParser().parseFromString(e,"text/html");for(let e of[].concat(...n.body.querySelectorAll("*"))){let r=e.nodeName.toLowerCase();if(!Object.keys(t).includes(r)){e.remove();continue}let n=[].concat(...e.attributes),i=[].concat(t["*"]||[],t[r]||[]);for(let t of n)nM(t,i)||e.removeAttribute(t.nodeName)}return n.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return e5(e,[void 0,this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}const nB=new Set(["sanitize","allowList","sanitizeFn"]),nO="fade",nI="show",nz=".modal",nR="hide.bs.modal",nk="hover",nL="focus",nP={AUTO:"auto",TOP:"top",RIGHT:e8()?"left":"right",BOTTOM:"bottom",LEFT:e8()?"right":"left"},nq={allowList:nE,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},nU={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class nj extends ty{constructor(e,t){if(void 0===l)throw TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return nq}static get DefaultType(){return nU}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown())return void this._leave();this._enter()}}dispose(){clearTimeout(this._timeout),th.off(this._element.closest(nz),nR,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;let e=th.trigger(this._element,this.constructor.eventName("show")),t=(eJ(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!t)return;this._disposePopper();let r=this._getTipElement();this._element.setAttribute("aria-describedby",r.getAttribute("id"));let{container:n}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(n.append(r),th.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(r),r.classList.add(nI),"ontouchstart"in document.documentElement)for(let e of[].concat(...document.body.children))th.on(e,"mouseover",eQ);this._queueCallback(()=>{th.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!th.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(nI),"ontouchstart"in document.documentElement)for(let e of[].concat(...document.body.children))th.off(e,"mouseover",eQ);this._activeTrigger.click=!1,this._activeTrigger[nL]=!1,this._activeTrigger[nk]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),th.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){let t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(nO,nI),t.classList.add(`bs-${this.constructor.NAME}-auto`);let r=e$(this.constructor.NAME).toString();return t.setAttribute("id",r),this._isAnimated()&&t.classList.add(nO),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new nT({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(nO)}_isShown(){return this.tip&&this.tip.classList.contains(nI)}_createPopper(e){let t=nP[e5(this._config.placement,[this,e,this._element]).toUpperCase()];return l.createPopper(this._element,e,this._getPopperConfig(t))}_getOffset(){let{offset:e}=this._config;return"string"==typeof e?e.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return e5(e,[this._element,this._element])}_getPopperConfig(e){let t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:e=>{this._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return{...t,...e5(this._config.popperConfig,[void 0,t])}}_setListeners(){for(let e of this._config.trigger.split(" "))if("click"===e)th.on(this._element,this.constructor.eventName("click"),this._config.selector,e=>{this._initializeOnDelegatedTarget(e).toggle()});else if("manual"!==e){let t=e===nk?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),r=e===nk?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");th.on(this._element,t,this._config.selector,e=>{let t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusin"===e.type?nL:nk]=!0,t._enter()}),th.on(this._element,r,this._config.selector,e=>{let t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusout"===e.type?nL:nk]=t._element.contains(e.relatedTarget),t._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},th.on(this._element.closest(nz),nR,this._hideModalHandler)}_fixTitle(){let e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){let t=tg.getDataAttributes(this._element);for(let e of Object.keys(t))nB.has(e)&&delete t[e];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:eY(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){let e={};for(let[t,r]of Object.entries(this._config))this.constructor.Default[t]!==r&&(e[t]=r);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){let t=nj.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw TypeError(`No method named "${e}"`);t[e]()}})}}e3(nj);const nH={...nj.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},n$={...nj.DefaultType,content:"(null|string|element|function)"};class nG extends nj{static get Default(){return nH}static get DefaultType(){return n$}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){let t=nG.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw TypeError(`No method named "${e}"`);t[e]()}})}}e3(nG);const nV=".bs.scrollspy",nW=`activate${nV}`,nY=`click${nV}`,nZ=`load${nV}.data-api`,nX="active",nJ="[href]",nQ=".nav-link",nK=`${nQ}, .nav-item > ${nQ}, .list-group-item`,n0={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},n1={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class n2 extends ty{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return n0}static get DefaultType(){return n1}static get NAME(){return"scrollspy"}refresh(){for(let e of(this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver(),this._observableSections.values()))this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=eY(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map(e=>Number.parseFloat(e))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(th.off(this._config.target,nY),th.on(this._config.target,nY,nJ,e=>{let t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();let r=this._rootElement||window,n=t.offsetTop-this._element.offsetTop;if(r.scrollTo)return void r.scrollTo({top:n,behavior:"smooth"});r.scrollTop=n}}))}_getNewObserver(){return new IntersectionObserver(e=>this._observerCallback(e),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(e){let t=e=>this._targetLinks.get(`#${e.target.id}`),r=e=>{this._previousScrollData.visibleEntryTop=e.target.offsetTop,this._process(t(e))},n=(this._rootElement||document.documentElement).scrollTop,i=n>=this._previousScrollData.parentScrollTop;for(let a of(this._previousScrollData.parentScrollTop=n,e)){if(!a.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(a));continue}let e=a.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(i&&e){if(r(a),!n)return;continue}i||e||r(a)}}_initializeTargetsAndObservables(){for(let e of(this._targetLinks=new Map,this._observableSections=new Map,tD.find(nJ,this._config.target))){if(!e.hash||eX(e))continue;let t=tD.findOne(decodeURI(e.hash),this._element);eZ(t)&&(this._targetLinks.set(decodeURI(e.hash),e),this._observableSections.set(e.hash,t))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(nX),this._activateParents(e),th.trigger(this._element,nW,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))return void tD.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(nX);for(let t of tD.parents(e,".nav, .list-group"))for(let e of tD.prev(t,nK))e.classList.add(nX)}_clearActiveClass(e){for(let t of(e.classList.remove(nX),tD.find(`${nJ}.${nX}`,e)))t.classList.remove(nX)}static jQueryInterface(e){return this.each(function(){let t=n2.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw TypeError(`No method named "${e}"`);t[e]()}})}}th.on(window,nZ,()=>{for(let e of tD.find('[data-bs-spy="scroll"]'))n2.getOrCreateInstance(e)}),e3(n2);const n8=".bs.tab",n3=`hide${n8}`,n5=`hidden${n8}`,n6=`show${n8}`,n4=`shown${n8}`,n7=`click${n8}`,n9=`keydown${n8}`,ie=`load${n8}`,it="ArrowRight",ir="ArrowDown",ii="Home",ia="active",io="fade",is="show",iu=".dropdown-toggle",il=`:not(${iu})`,ic=`.nav-link${il}, .list-group-item${il}, [role="tab"]${il}`,ih='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',id=`${ic}, ${ih}`,ip=`.${ia}[data-bs-toggle="tab"], .${ia}[data-bs-toggle="pill"], .${ia}[data-bs-toggle="list"]`;class im extends ty{constructor(e){if(super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),!this._parent)return;this._setInitialAttributes(this._parent,this._getChildren()),th.on(this._element,n9,e=>this._keydown(e))}static get NAME(){return"tab"}show(){let e=this._element;if(this._elemIsActive(e))return;let t=this._getActiveElem(),r=t?th.trigger(t,n3,{relatedTarget:e}):null;th.trigger(e,n6,{relatedTarget:t}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){e&&(e.classList.add(ia),this._activate(tD.getElementFromSelector(e)),this._queueCallback(()=>{if("tab"!==e.getAttribute("role"))return void e.classList.add(is);e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),th.trigger(e,n4,{relatedTarget:t})},e,e.classList.contains(io)))}_deactivate(e,t){e&&(e.classList.remove(ia),e.blur(),this._deactivate(tD.getElementFromSelector(e)),this._queueCallback(()=>{if("tab"!==e.getAttribute("role"))return void e.classList.remove(is);e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),th.trigger(e,n5,{relatedTarget:t})},e,e.classList.contains(io)))}_keydown(e){let t;if(!["ArrowLeft",it,"ArrowUp",ir,ii,"End"].includes(e.key))return;e.stopPropagation(),e.preventDefault();let r=this._getChildren().filter(e=>!eX(e));if([ii,"End"].includes(e.key))t=r[e.key===ii?0:r.length-1];else{let n=[it,ir].includes(e.key);t=e4(r,e.target,n,!0)}t&&(t.focus({preventScroll:!0}),im.getOrCreateInstance(t).show())}_getChildren(){return tD.find(id,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){for(let r of(this._setAttributeIfNotExists(e,"role","tablist"),t))this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);let t=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",t),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){let t=tD.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){let r=this._getOuterElement(e);if(!r.classList.contains("dropdown"))return;let n=(e,n)=>{let i=tD.findOne(e,r);i&&i.classList.toggle(n,t)};n(iu,ia),n(".dropdown-menu",is),r.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,r){e.hasAttribute(t)||e.setAttribute(t,r)}_elemIsActive(e){return e.classList.contains(ia)}_getInnerElement(e){return e.matches(id)?e:tD.findOne(id,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each(function(){let t=im.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw TypeError(`No method named "${e}"`);t[e]()}})}}th.on(document,n7,ih,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),eX(this)||im.getOrCreateInstance(this).show()}),th.on(window,ie,()=>{for(let e of tD.find(ip))im.getOrCreateInstance(e)}),e3(im);const ig=".bs.toast",iv=`mouseover${ig}`,iy=`mouseout${ig}`,ib=`focusin${ig}`,iD=`focusout${ig}`,i_=`hide${ig}`,ix=`hidden${ig}`,iw=`show${ig}`,iE=`shown${ig}`,iA="hide",iC="show",iM="showing",iS={animation:"boolean",autohide:"boolean",delay:"number"},iN={animation:!0,autohide:!0,delay:5e3};class iF extends ty{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return iN}static get DefaultType(){return iS}static get NAME(){return"toast"}show(){th.trigger(this._element,iw).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(iA),eK(this._element),this._element.classList.add(iC,iM),this._queueCallback(()=>{this._element.classList.remove(iM),th.trigger(this._element,iE),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!th.trigger(this._element,i_).defaultPrevented&&(this._element.classList.add(iM),this._queueCallback(()=>{this._element.classList.add(iA),this._element.classList.remove(iM,iC),th.trigger(this._element,ix)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(iC),super.dispose()}isShown(){return this._element.classList.contains(iC)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();let r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){th.on(this._element,iv,e=>this._onInteraction(e,!0)),th.on(this._element,iy,e=>this._onInteraction(e,!1)),th.on(this._element,ib,e=>this._onInteraction(e,!0)),th.on(this._element,iD,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){let t=iF.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw TypeError(`No method named "${e}"`);t[e](this)}})}}t_(iF),e3(iF);class iT{constructor(){this._windows=[]}addWindow(e){this._windows.push(e),document.body.appendChild(e.windowDiv)}}class iB{static createDiv(e,t={},r=[]){let n=document.createElement("div");return r.push("tui"),e&&(n.id=e),Object.assign(n.style,t),n.classList.add(...r),n}static createButton(e,t,r={},n=[]){let i=document.createElement("button");return n.push("tui"),i.textContent=e,i.onclick=t,i.addEventListener("touchstart",t),Object.assign(i.style,r),i.classList.add(...n),i}static createTitle(e,t,r={},n=[]){let i=document.createElement(t);return n.push("tui"),i.textContent=e,Object.assign(i.style,r),i.classList.add(...n),i}static createCanvas(e,t,r,n={},i=[]){let a=document.createElement("canvas");return i.push("tui"),a.id=e,a.width=t,a.height=r,Object.assign(a.style,n),a.classList.add(...i),a}static createGameCanvas(e,t,r,n={},i=[]){let a=iB.createCanvas(e,t,r,n,i),o=()=>{let e=window.innerWidth,t=window.innerHeight;a.width=e,a.height=t,a.style.width=`${e}px`,a.style.height=`${t}px`};return o(),window.addEventListener("resize",o),a}static createButtonContainer(e,t,r={}){let n=iB.createDiv(e);return t.forEach(e=>{n.appendChild(e)}),n}}class iO{static{this._id=0}static getId(e=""){let t=++iO._id;return""===e?""+t:e+"-"+t}}class iI{constructor(e,t=300,r=200,n=10,i=10,a=[]){this._id=iO.getId("win"),this._width=t,this._height=r,this._contentDiv=this._createContentDiv(a),this._windowDiv=this._createWindowDiv(n,i),this._windowDiv.appendChild(this._createHeaderDiv(e)),this._windowDiv.appendChild(this._contentDiv),document.body.appendChild(this._windowDiv),this.makeWindowDraggable()}get windowDiv(){return this._windowDiv}makeWindowDraggable(){let e,t,r=!1;this._windowDiv.addEventListener("mousedown",n=>{r=!0,e=n.clientX-this._windowDiv.offsetLeft,t=n.clientY-this._windowDiv.offsetTop}),this._windowDiv.addEventListener("touchstart",n=>{n.preventDefault(),r=!0;let i=n.touches[0];e=i.clientX-this._windowDiv.offsetLeft,t=i.clientY-this._windowDiv.offsetTop});let n=n=>{if(r){let r,i;n instanceof MouseEvent?(r=n.clientX,i=n.clientY):n instanceof TouchEvent&&n.touches.length>0&&(r=n.touches[0].clientX,i=n.touches[0].clientY),void 0!==r&&void 0!==i&&(this._windowDiv.style.left=`${r-e}px`,this._windowDiv.style.top=`${i-t}px`)}};document.addEventListener("mousemove",n),document.addEventListener("touchmove",n);let i=()=>{r=!1};document.addEventListener("mouseup",i),document.addEventListener("touchend",i)}_createHeaderDiv(e){let t=iB.createDiv(iO.getId("header"),{},["app-window","header"]),r=iB.createTitle(e,"p",{}),n=iB.createButton("_",()=>this._toggleMinimize()),i=iB.createButton("X",()=>this._closeWindow());return t.appendChild(r),t.appendChild(n),t.appendChild(i),t}_setContent(e){e.textContent="Inner content goes here..."}_toggleMinimize(){let e="hide";this._contentDiv.classList.contains(e)?this._contentDiv.classList.remove(e):this._contentDiv.classList.add(e)}_createWindowDiv(e,t){return iB.createDiv(iO.getId("window"),{},["app-window"])}_createContentDiv(e){e.push("app-window"),e.push("content");let t=iB.createDiv(iO.getId("content"),{},e);return this._setContent(t),t}_closeWindow(){this._windowDiv.remove()}}class iz extends iI{constructor(e,t=[]){super("Controller Window",400,300);let r=iB.createButtonContainer(iO.getId("button-window"),e);this._contentDiv.appendChild(r)}_setContent(e){}}var iR={};function ik(){return(iR=ik=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).__esModule=!0,iR.default=iR,ik.apply(null,arguments)}(iR=ik).__esModule=!0,iR.default=iR;var iL={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function iP(e,t){var r,n;if(iU(e,t))return e[t];if("function"==typeof e[t]&&(r=e,n=t,!(null==r||"function"!=typeof r[n]||aC(r,n)&&Object.getPrototypeOf&&n in Object.getPrototypeOf(r))&&(aC(iH,n)||!(n in Object.prototype)&&!(n in Function.prototype))))throw Error('Cannot access method "'+t+'" as a property');throw Error('No access to property "'+t+'"')}function iq(e,t,r){if(iU(e,t))return e[t]=r,r;throw Error('No access to property "'+t+'"')}function iU(e,t){var r;return(!!("object"==typeof(r=e)&&r&&r.constructor===Object)||!!Array.isArray(e))&&(!!aC(ij,t)||!(t in Object.prototype)&&!(t in Function.prototype))}var ij={length:!0,name:!0},iH={toString:!0,valueOf:!0,toLocaleString:!0};class i${constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(e=>this.has(e)).values()}get(e){return iP(this.wrappedObject,e)}set(e,t){return iq(this.wrappedObject,e,t),this}has(e){return iU(this.wrappedObject,e)&&e in this.wrappedObject}entries(){var e,t;return e=this.keys(),t=e=>[e,this.get(e)],{next:()=>{var r=e.next();return r.done?r:{value:t(r.value),done:!1}}}}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){iU(this.wrappedObject,e)&&delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}}function iG(e){return"number"==typeof e}function iV(e){return!!e&&"object"==typeof e&&"function"==typeof e.constructor&&(!0===e.isBigNumber&&"object"==typeof e.constructor.prototype&&!0===e.constructor.prototype.isBigNumber||"function"==typeof e.constructor.isDecimal&&!0===e.constructor.isDecimal(e))}function iW(e){return"bigint"==typeof e}function iY(e){return e&&"object"==typeof e&&!0===Object.getPrototypeOf(e).isComplex||!1}function iZ(e){return e&&"object"==typeof e&&!0===Object.getPrototypeOf(e).isFraction||!1}function iX(e){return e&&!0===e.constructor.prototype.isUnit||!1}function iJ(e){return"string"==typeof e}var iQ=Array.isArray;function iK(e){return e&&!0===e.constructor.prototype.isMatrix||!1}function i0(e){return Array.isArray(e)||iK(e)}function i1(e){return e&&e.isDenseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function i2(e){return e&&e.isSparseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function i8(e){return e&&!0===e.constructor.prototype.isRange||!1}function i3(e){return e&&!0===e.constructor.prototype.isIndex||!1}function i5(e){return"boolean"==typeof e}function i6(e){return e&&!0===e.constructor.prototype.isResultSet||!1}function i4(e){return e&&!0===e.constructor.prototype.isHelp||!1}function i7(e){return"function"==typeof e}function i9(e){return e instanceof Date}function ae(e){return e instanceof RegExp}function at(e){return!!(e&&"object"==typeof e&&e.constructor===Object&&!iY(e)&&!iZ(e))}function ar(e){return!!e&&(e instanceof Map||e instanceof i$||"function"==typeof e.set&&"function"==typeof e.get&&"function"==typeof e.keys&&"function"==typeof e.has)}function an(e){return null===e}function ai(e){return void 0===e}function aa(e){return e&&!0===e.isAccessorNode&&!0===e.constructor.prototype.isNode||!1}function ao(e){return e&&!0===e.isArrayNode&&!0===e.constructor.prototype.isNode||!1}function as(e){return e&&!0===e.isAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function au(e){return e&&!0===e.isBlockNode&&!0===e.constructor.prototype.isNode||!1}function al(e){return e&&!0===e.isConditionalNode&&!0===e.constructor.prototype.isNode||!1}function ac(e){return e&&!0===e.isConstantNode&&!0===e.constructor.prototype.isNode||!1}function af(e){return e&&!0===e.isFunctionAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function ah(e){return e&&!0===e.isFunctionNode&&!0===e.constructor.prototype.isNode||!1}function ad(e){return e&&!0===e.isIndexNode&&!0===e.constructor.prototype.isNode||!1}function ap(e){return e&&!0===e.isNode&&!0===e.constructor.prototype.isNode||!1}function am(e){return e&&!0===e.isObjectNode&&!0===e.constructor.prototype.isNode||!1}function ag(e){return e&&!0===e.isOperatorNode&&!0===e.constructor.prototype.isNode||!1}function av(e){return e&&!0===e.isParenthesisNode&&!0===e.constructor.prototype.isNode||!1}function ay(e){return e&&!0===e.isRangeNode&&!0===e.constructor.prototype.isNode||!1}function ab(e){return e&&!0===e.isRelationalNode&&!0===e.constructor.prototype.isNode||!1}function aD(e){return e&&!0===e.isSymbolNode&&!0===e.constructor.prototype.isNode||!1}function a_(e){return e&&!0===e.constructor.prototype.isChain||!1}function ax(e){var t=typeof e;return"object"===t?null===e?"null":iV(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function aw(e){var t=typeof e;if("number"===t||"bigint"===t||"string"===t||"boolean"===t||null==e)return e;if("function"==typeof e.clone)return e.clone();if(Array.isArray(e))return e.map(function(e){return aw(e)});if(e instanceof Date)return new Date(e.valueOf());if(iV(e))return e;if(at(e)){var r=e,n=aw,i={};for(var a in r)aC(r,a)&&(i[a]=n(r[a]));return i}if("function"===t)return e;throw TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function aE(e,t){for(var r in t)aC(t,r)&&(e[r]=t[r]);return e}function aA(e,t){var r,n,i;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;n++)if(!aA(e[n],t[n]))return!1;return!0}if("function"==typeof e)return e===t;if(!(e instanceof Object))return e===t;if(Array.isArray(t)||!(t instanceof Object))return!1;for(r in e)if(!(r in t)||!aA(e[r],t[r]))return!1;for(r in t)if(!(r in e))return!1;return!0}function aC(e,t){return e&&Object.hasOwnProperty.call(e,t)}var aM=function(e){if(e)throw Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(iL)};function aS(e,t,r,n){function i(n){var i=function(e,t){for(var r={},n=0;n<t.length;n++){var i=t[n],a=e[i];void 0!==a&&(r[i]=a)}return r}(n,t.map(aN));return function(e,t,r){if(!t.filter(e=>{var t;return!((t=e)&&"?"===t[0])}).every(e=>void 0!==r[e])){var n=t.filter(e=>void 0===r[e]);throw Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(n.map(e=>'"'.concat(e,'"')).join(", "),"."))}}(e,t,n),r(i)}return i.isFactory=!0,i.fn=e,i.dependencies=t.slice().sort(),n&&(i.meta=n),i}function aN(e){return e&&"?"===e[0]?e.slice(1):e}function aF(e,t,r){if(!(this instanceof aF))throw SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=Error().stack}function aT(e){return"boolean"==typeof e||!!isFinite(e)&&e===Math.round(e)}function aB(e,t){if("bigint"===t.number)try{BigInt(e)}catch(e){return t.numberFallback}return t.number}r(iR)(aM,iL,{MATRIX_OPTIONS:["Matrix","Array"],NUMBER_OPTIONS:["number","BigNumber","Fraction"]}),aF.prototype=RangeError(),aF.prototype.constructor=RangeError,aF.prototype.name="IndexError",aF.prototype.isIndexError=!0;var aO=Math.sign||function(e){return e>0?1:e<0?-1:0},aI=Math.log2||function(e){return Math.log(e)/Math.LN2},az=Math.log10||function(e){return Math.log(e)/Math.LN10},aR=Math.log1p||function(e){return Math.log(e+1)},ak=Math.cbrt||function(e){if(0===e)return e;var t,r=e<0;return r&&(e=-e),isFinite(e)?(t=Math.exp(Math.log(e)/3),t=(e/(t*t)+2*t)/3):t=e,r?-t:t},aL=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function aP(e,t,r){var n="";if(r){if(r<1)throw Error("size must be in greater than 0");if(!aT(r))throw Error("size must be an integer");if(e>2**(r-1)-1||e<-(2**(r-1)))throw Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!aT(e))throw Error("Value must be an integer");e<0&&(e+=2**r),n="i".concat(r)}var i="";return e<0&&(e=-e,i="-"),"".concat(i).concat({2:"0b",8:"0o",16:"0x"}[t]).concat(e.toString(t)).concat(n)}function aq(e,t){if("function"==typeof t)return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var{notation:r,precision:n,wordSize:i}=aU(t);switch(r){case"fixed":return aH(e,n);case"exponential":return a$(e,n);case"engineering":return function(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=aG(aj(e),t),n=r.exponent,i=r.coefficients,a=n%3==0?n:n<0?n-3-n%3:n-n%3;if(iG(t))for(;t>i.length||n-a+1>i.length;)i.push(0);else for(var o=Math.abs(n-a)-(i.length-1),s=0;s<o;s++)i.push(0);for(var u=Math.abs(n-a),l=1;u>0;)l++,u--;var c=i.slice(l).join(""),f=iG(t)&&c.length||c.match(/[1-9]/)?"."+c:"",h=i.slice(0,l).join("")+f+"e"+(n>=0?"+":"")+a.toString();return r.sign+h}(e,n);case"bin":return aP(e,2,i);case"oct":return aP(e,8,i);case"hex":return aP(e,16,i);case"auto":return(function(e,t,r){if(isNaN(e)||!isFinite(e))return String(e);var n=a1(null==r?void 0:r.lowerExp,-3),i=a1(null==r?void 0:r.upperExp,5),a=aj(e),o=t?aG(a,t):a;if(o.exponent<n||o.exponent>=i)return a$(e,t);var s=o.coefficients,u=o.exponent;s.length<t&&(s=s.concat(aV(t-s.length))),s=s.concat(aV(u-s.length+1+(s.length<t?t-s.length:0))),s=aV(-u).concat(s);var l=u>0?u:0;return l<s.length-1&&s.splice(l+1,0,"."),o.sign+s.join("")})(e,n,t).replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t});default:throw Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function aU(e){var t,r,n="auto";if(void 0!==e)if(iG(e))t=e;else if(iV(e))t=e.toNumber();else if(at(e))void 0!==e.precision&&(t=a0(e.precision,()=>{throw Error('Option "precision" must be a number or BigNumber')})),void 0!==e.wordSize&&(r=a0(e.wordSize,()=>{throw Error('Option "wordSize" must be a number or BigNumber')})),e.notation&&(n=e.notation);else throw Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:n,precision:t,wordSize:r}}function aj(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw SyntaxError("Invalid number "+e);var r=t[1],n=t[2],i=parseFloat(t[4]||"0"),a=n.indexOf(".");i+=-1!==a?a-1:n.length-1;var o=n.replace(".","").replace(/^0*/,function(e){return i-=e.length,""}).replace(/0*$/,"").split("").map(function(e){return parseInt(e)});return 0===o.length&&(o.push(0),i++),{sign:r,coefficients:o,exponent:i}}function aH(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=aj(e),n="number"==typeof t?aG(r,r.exponent+1+t):r,i=n.coefficients,a=n.exponent+1,o=a+(t||0);return i.length<o&&(i=i.concat(aV(o-i.length))),a<0&&(i=aV(-a+1).concat(i),a=1),a<i.length&&i.splice(a,0,0===a?"0.":"."),n.sign+i.join("")}function a$(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=aj(e),n=t?aG(r,t):r,i=n.coefficients,a=n.exponent;i.length<t&&(i=i.concat(aV(t-i.length)));var o=i.shift();return n.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(a>=0?"+":"")+a}function aG(e,t){for(var r={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},n=r.coefficients;t<=0;)n.unshift(0),r.exponent++,t++;if(n.length>t&&n.splice(t,n.length-t)[0]>=5){var i=t-1;for(n[i]++;10===n[i];)n.pop(),0===i&&(n.unshift(0),r.exponent++,i++),i--,n[i]++}return r}function aV(e){for(var t=[],r=0;r<e;r++)t.push(0);return t}function aW(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-8,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(r<=0)throw Error("Relative tolerance must be greater than 0");if(n<0)throw Error("Absolute tolerance must be at least 0");return!(isNaN(e)||isNaN(t))&&(isFinite(e)&&isFinite(t)?e===t||Math.abs(e-t)<=Math.max(r*Math.max(Math.abs(e),Math.abs(t)),n):e===t)}var aY=Math.acosh||function(e){return Math.log(Math.sqrt(e*e-1)+e)},aZ=Math.asinh||function(e){return Math.log(Math.sqrt(e*e+1)+e)},aX=Math.atanh||function(e){return Math.log((1+e)/(1-e))/2},aJ=Math.cosh||function(e){return(Math.exp(e)+Math.exp(-e))/2},aQ=Math.sinh||function(e){return(Math.exp(e)-Math.exp(-e))/2},aK=Math.tanh||function(e){var t=Math.exp(2*e);return(t-1)/(t+1)};function a0(e,t){return iG(e)?e:iV(e)?e.toNumber():void t()}function a1(e,t){return iG(e)?e:iV(e)?e.toNumber():t}function a2(e,t,r){var n=new e.constructor(2),i="";if(r){if(r<1)throw Error("size must be in greater than 0");if(!aT(r))throw Error("size must be an integer");if(e.greaterThan(n.pow(r-1).sub(1))||e.lessThan(n.pow(r-1).mul(-1)))throw Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!e.isInteger())throw Error("Value must be an integer");e.lessThan(0)&&(e=e.add(n.pow(r))),i="i".concat(r)}switch(t){case 2:return"".concat(e.toBinary()).concat(i);case 8:return"".concat(e.toOctal()).concat(i);case 16:return"".concat(e.toHexadecimal()).concat(i);default:throw Error("Base ".concat(t," not supported "))}}function a8(e,t){return void 0!==t?e.toExponential(t-1):e.toExponential()}function a3(e,t){return iG(e)?e:iV(e)?e.toNumber():t}function a5(e,t){var r=function(e,t){var r;if("number"==typeof e)return aq(e,t);if(iV(e))return function(e,t){if("function"==typeof t)return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var{notation:r,precision:n,wordSize:i}=aU(t);switch(r){case"fixed":return a=e,o=n,a.toFixed(o);case"exponential":return a8(e,n);case"engineering":return s=e,u=n,c=(l=s.e)%3==0?l:l<0?l-3-l%3:l-l%3,(f=s.mul(Math.pow(10,-c)).toPrecision(u)).includes("e")&&(f=new s.constructor(f).toFixed()),f+"e"+(l>=0?"+":"")+c.toString();case"bin":return a2(e,2,i);case"oct":return a2(e,8,i);case"hex":return a2(e,16,i);case"auto":var a,o,s,u,l,c,f,h,d=a3(null==t?void 0:t.lowerExp,-3),p=a3(null==t?void 0:t.upperExp,5);if(e.isZero())return"0";var m=e.toSignificantDigits(n),g=m.e;return(g>=d&&g<p?m.toFixed():a8(e,n)).replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t});default:throw Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}(e,t);if((r=e)&&"object"==typeof r&&"bigint"==typeof r.s&&"bigint"==typeof r.n&&"bigint"==typeof r.d)if(!t||"decimal"!==t.fraction)return"".concat(e.s*e.n,"/").concat(e.d);else return e.toString();if(Array.isArray(e))return function e(t,r){if(!Array.isArray(t))return a5(t,r);for(var n="[",i=t.length,a=0;a<i;a++)0!==a&&(n+=", "),n+=e(t[a],r);return n+"]"}(e,t);if(iJ(e))return a6(e);if("function"==typeof e)return e.syntax?String(e.syntax):"function";if(e&&"object"==typeof e)if("function"==typeof e.format)return e.format(t);else return e&&e.toString(t)!==({}).toString()?e.toString(t):"{"+Object.keys(e).map(r=>a6(r)+": "+a5(e[r],t)).join(", ")+"}";return String(e)}(e,t);return t&&"object"==typeof t&&"truncate"in t&&r.length>t.truncate?r.substring(0,t.truncate-3)+"...":r}function a6(e){for(var t=String(e),r="",n=0;n<t.length;){var i=t.charAt(n);r+=i in a4?a4[i]:i,n++}return'"'+r+'"'}var a4={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function a7(e,t){if(!iJ(e))throw TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+ax(e)+", index: 0)");if(!iJ(t))throw TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+ax(t)+", index: 1)");return e===t?0:e>t?1:-1}function a9(e,t,r){if(!(this instanceof a9))throw SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=Error().stack}function oe(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function ot(e,t){if(0===t.length){if(Array.isArray(e))throw new a9(e.length,0)}else!function e(t,r,n){var i,a=t.length;if(a!==r[n])throw new a9(a,r[n]);if(n<r.length-1){var o=n+1;for(i=0;i<a;i++){if(!Array.isArray(t[i]))throw new a9(r.length-1,r.length,"<");e(t[i],r,o)}}else for(i=0;i<a;i++)if(Array.isArray(t[i]))throw new a9(r.length+1,r.length,">")}(e,t,0)}function or(e,t){var r=e.isMatrix?e._size:oe(e);t._sourceSize.forEach((e,t)=>{if(null!==e&&e!==r[t])throw new a9(e,r[t])})}function on(e,t){if(void 0!==e){if(!iG(e)||!aT(e))throw TypeError("Index must be an integer (value: "+e+")");if(e<0||"number"==typeof t&&e>=t)throw new aF(e,t)}}function oi(e){for(var t=0;t<e._dimensions.length;++t){var r=e._dimensions[t];if(r._data&&iQ(r._data)){if(0===r._size[0])return!0}else if(r.isRange){if(r.start===r.end)return!0}else if(iJ(r)&&0===r.length)return!0}return!1}function oa(e,t,r){if(!Array.isArray(t))throw TypeError("Array expected");if(0===t.length)throw Error("Resizing to scalar is not supported");return t.forEach(function(e){if(!iG(e)||!aT(e)||e<0)throw TypeError("Invalid size, must contain positive integers (size: "+a5(t)+")")}),(iG(e)||iV(e))&&(e=[e]),function e(t,r,n,i){var a,o,s=t.length,u=r[n],l=Math.min(s,u);if(t.length=u,n<r.length-1){var c=n+1;for(a=0;a<l;a++)Array.isArray(o=t[a])||(o=[o],t[a]=o),e(o,r,c,i);for(a=l;a<u;a++)o=[],t[a]=o,e(o,r,c,i)}else{for(a=0;a<l;a++)for(;Array.isArray(t[a]);)t[a]=t[a][0];for(a=l;a<u;a++)t[a]=i}}(e,t,0,void 0!==r?r:0),e}function oo(e,t){var r=of(e,!0),n=r.length;if(!Array.isArray(e)||!Array.isArray(t))throw TypeError("Array expected");if(0===t.length)throw new a9(0,n,"!=");var i=ou(t=os(t,n));if(n!==i)throw new a9(i,n,"!=");try{return function(e,t){for(var r,n=e,i=t.length-1;i>0;i--){var a=t[i];r=[];for(var o=n.length/a,s=0;s<o;s++)r.push(n.slice(s*a,(s+1)*a));n=r}return n}(r,t)}catch(e){if(e instanceof a9)throw new a9(i,n,"!=");throw e}}function os(e,t){var r=ou(e),n=e.slice(),i=e.indexOf(-1);if(e.indexOf(-1,i+1)>=0)throw Error("More than one wildcard in sizes");if(i>=0)if(t%r==0)n[i]=-t/r;else throw Error("Could not replace wildcard, since "+t+" is no multiple of "+-r);return n}function ou(e){return e.reduce((e,t)=>e*t,1)}function ol(e,t){for(var r=t||oe(e);Array.isArray(e)&&1===e.length;)e=e[0],r.shift();for(var n=r.length;1===r[n-1];)n--;return n<r.length&&(e=function e(t,r,n){var i,a;if(n<r){var o=n+1;for(i=0,a=t.length;i<a;i++)t[i]=e(t[i],r,o)}else for(;Array.isArray(t);)t=t[0];return t}(e,n,0),r.length=n),e}function oc(e,t,r,n){var i=n||oe(e);if(r)for(var a=0;a<r;a++)e=[e],i.unshift(1);for(e=function e(t,r,n){var i,a;if(Array.isArray(t)){var o=n+1;for(i=0,a=t.length;i<a;i++)t[i]=e(t[i],r,o)}else for(var s=n;s<r;s++)t=[t];return t}(e,t,0);i.length<t;)i.push(1);return e}function of(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Array.isArray(e))return e;if("boolean"!=typeof t)throw TypeError("Boolean expected for second argument of flatten");var r=[];return t?function e(t){if(Array.isArray(t[0]))for(var n=0;n<t.length;n++)e(t[n]);else for(var i=0;i<t.length;i++)r.push(t[i])}(e):function e(t){for(var n=0;n<t.length;n++){var i=t[n];Array.isArray(i)?e(i):r.push(i)}}(e),r}function oh(e,t){if(1!==oe(e).length)throw Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,t)}function od(e,t){if(1!==oe(e).length)throw Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,e=>t.test(e))}function op(e){if(!Array.isArray(e))throw TypeError("Array input expected");if(0===e.length)return e;var t=[],r=0;t[0]={value:e[0],identifier:0};for(var n=1;n<e.length;n++)e[n]===e[n-1]?r++:r=0,t.push({value:e[n],identifier:r});return t}function om(e){if(!Array.isArray(e))throw TypeError("Array input expected");if(0===e.length)return e;for(var t=[],r=0;r<e.length;r++)t.push(e[r].value);return t}function og(e,t){for(var r,n=0,i=0;i<e.length;i++){var a=e[i],o=Array.isArray(a);if(0===i&&o&&(n=a.length),o&&a.length!==n)return;var s=o?og(a,t):t(a);if(void 0===r)r=s;else if(r!==s)return"mixed"}return r}function ov(){var e=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(1===e.length)return e[0];if(e.length>1)return e.slice(1).reduce(function(e,r){return function e(t,r,n,i){if(!(i<n))return t.concat(r);if(t.length!==r.length)throw new a9(t.length,r.length);for(var a=[],o=0;o<t.length;o++)a[o]=e(t[o],r[o],n,i+1);return a}(e,r,t,0)},e[0]);throw Error("Wrong number of arguments in function concat")}function oy(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=t.map(e=>e.length),i=Math.max(...n),a=Array(i).fill(null),o=0;o<t.length;o++)for(var s=t[o],u=n[o],l=0;l<u;l++){var c=i-u+l;s[l]>a[c]&&(a[c]=s[l])}for(var f=0;f<t.length;f++)ob(t[f],a);return a}function ob(e,t){for(var r=t.length,n=e.length,i=0;i<n;i++){var a=r-n+i;if(e[i]<t[a]&&e[i]>1||e[i]>t[a])throw Error("shape mismatch: mismatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(n," with size ").concat(e[i]," to size ").concat(t[a]))}}function oD(e,t){var n,i,a,o,s=oe(e);if(aA(s,t))return e;ob(s,t);var u=oy(s,t),l=u.length,c=[...Array(l-s.length).fill(1),...s],f=(n=e,r(iR)([],n));s.length<l&&(s=oe(f=oo(f,c)));for(var h=0;h<l;h++){s[h]<u[h]&&(s=oe((i=f,a=u[h],o=h,f=ov(...Array(a).fill(i),o))))}return f}function o_(e,t){if(!Array.isArray(e))throw Error("Array expected");var r=oe(e);if(t.length!==r.length)throw new a9(t.length,r.length);for(var n=0;n<t.length;n++)on(t[n],r[n]);return t.reduce((e,t)=>e[t],e)}function ox(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===e.length)return[];if(r)return function e(r){if(!Array.isArray(r))return t(r);for(var n=r.length,i=Array(n),a=0;a<n;a++)i[a]=e(r[a]);return i}(e);var n=[];return function r(i,a){if(!Array.isArray(i))return t(i,n.slice(0,a),e);for(var o=i.length,s=Array(o),u=0;u<o;u++)n[a]=u,s[u]=r(i[u],a+1);return s}(e,0)}function ow(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0!==e.length){if(r)return void function e(r){if(Array.isArray(r))for(var n=r.length,i=0;i<n;i++)e(r[i]);else t(r)}(e);var n=[];!function r(i,a){if(Array.isArray(i))for(var o=i.length,s=0;s<o;s++)n[a]=s,r(i[s],a+1);else t(i,n.slice(0,a),e)}(e,0)}}function oE(e){var t,r,n=e.length,i=e[0].length,a=[];for(r=0;r<i;r++){var o=[];for(t=0;t<n;t++)o.push(e[t][r]);a.push(o)}return a}function oA(e){for(var t=0;t<e.length;t++)if(i0(e[t]))return!0;return!1}function oC(e,t){iK(e)?e.forEach(e=>t(e),!1,!0):ow(e,t,!0)}function oM(e,t,r){if(!r)if(iK(e))return e.map(e=>t(e),!1,!0);else return ox(e,t,!0);var n=e=>0===e?e:t(e);return iK(e)?e.map(e=>n(e),!1,!0):ox(e,n,!0)}function oS(e,t,r){var n=Array.isArray(e)?oe(e):e.size();if(t<0||t>=n.length)throw new aF(t,n.length);return iK(e)?e.create(oN(e.valueOf(),t,r),e.datatype()):oN(e,t,r)}function oN(e,t,r){var n,i,a,o;if(t<=0)if(Array.isArray(e[0])){for(n=0,o=oE(e),i=[];n<o.length;n++)i[n]=oN(o[n],t-1,r);return i}else{for(n=1,a=e[0];n<e.length;n++)a=r(a,e[n]);return a}for(n=0,i=[];n<e.length;n++)i[n]=oN(e[n],t-1,r);return i}function oF(e,t,r,n,i,a,o,s,u,l,c){var f,h,d,p,m=e._values,g=e._index,v=e._ptr;if(n)for(h=v[t],d=v[t+1],f=h;f<d;f++)r[p=g[f]]!==a?(r[p]=a,o.push(p),l?(n[p]=u?s(m[f],c):s(c,m[f]),i[p]=a):n[p]=m[f]):(n[p]=u?s(m[f],n[p]):s(n[p],m[f]),i[p]=a);else for(h=v[t],d=v[t+1],f=h;f<d;f++)r[p=g[f]]!==a?(r[p]=a,o.push(p)):i[p]=a}a9.prototype=RangeError(),a9.prototype.constructor=RangeError,a9.prototype.name="DimensionError",a9.prototype.isDimensionError=!0;var oT="number",oB="number, number";function oO(e){return Math.abs(e)}function oI(e,t){return e+t}function oz(e,t){return e-t}function oR(e,t){return e*t}function ok(e){return-e}function oL(e){return e}function oP(e){return ak(e)}function oq(e){return e*e*e}function oU(e){return Math.exp(e)}function oj(e){return aL(e)}function oH(e,t){if(!aT(e)||!aT(t))throw Error("Parameters in function lcm must be integer numbers");if(0===e||0===t)return 0;for(var r,n=e*t;0!==t;)t=e%(r=t),e=r;return Math.abs(n/e)}function o$(e,t){return t?Math.log(e)/Math.log(t):Math.log(e)}function oG(e){return az(e)}function oV(e){return aI(e)}function oW(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=t<0;if(r&&(t=-t),0===t)throw Error("Root must be non-zero");if(e<0&&Math.abs(t)%2!=1)throw Error("Root must be odd when a is negative.");if(0===e)return r?1/0:0;if(!isFinite(e))return r?0:e;var n=Math.pow(Math.abs(e),1/t);return n=e<0?-n:n,r?1/n:n}function oY(e){return aO(e)}function oZ(e){return e*e}function oX(e,t){var r,n,i,a,o=0,s=1,u=1,l=0;if(!aT(e)||!aT(t))throw Error("Parameters in function xgcd must be integer numbers");for(;t;)n=Math.floor(e/t),i=e-n*t,r=o,o=s-n*o,s=r,r=u,u=l-n*u,l=r,e=t,t=i;return e<0?[-e,-s,-l]:[e,e?s:0,l]}function oJ(e,t){return e*e<1&&t===1/0||e*e>1&&t===-1/0?0:Math.pow(e,t)}function oQ(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!aT(t)||t<0||t>15)throw Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(aH(e,t))}oO.signature=oT,oI.signature=oB,oz.signature=oB,oR.signature=oB,ok.signature=oT,oL.signature=oT,oP.signature=oT,oq.signature=oT,oU.signature=oT,oj.signature=oT,oH.signature=oB,oG.signature=oT,oV.signature=oT,oY.signature=oT,oZ.signature=oT,oX.signature=oB,oJ.signature=oB;var oK=aS("abs",["typed"],e=>{var{typed:t}=e;return t("abs",{number:oO,"Complex | BigNumber | Fraction | Unit":e=>e.abs(),bigint:e=>e<0n?-e:e,"Array | Matrix":t.referToSelf(e=>t=>oM(t,e,!0))})}),o0="number";function o1(e){return Math.atan(1/e)}function o2(e){return isFinite(e)?(Math.log((e+1)/e)+Math.log(e/(e-1)))/2:0}function o8(e){return Math.asin(1/e)}function o3(e){var t=1/e;return Math.log(t+Math.sqrt(t*t+1))}function o5(e){return Math.acos(1/e)}function o6(e){var t=1/e;return Math.log(Math.sqrt(t*t-1)+t)}function o4(e){return aZ(e)}o1.signature=o0,o2.signature=o0,o8.signature=o0,o3.signature=o0,o5.signature=o0,o6.signature=o0,o4.signature=o0;function o7(e){return 1/Math.tan(e)}function o9(e){var t=Math.exp(2*e);return(t+1)/(t-1)}function se(e){return 1/Math.sin(e)}function st(e){return 0===e?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(e)-Math.exp(-e)))*aO(e)}function sr(e){return 1/Math.cos(e)}function sn(e){return 2/(Math.exp(e)+Math.exp(-e))}function si(e){return aQ(e)}o7.signature=o0,o9.signature=o0,se.signature=o0,st.signature=o0,sr.signature=o0,sn.signature=o0,si.signature=o0;var sa=aS("matAlgo01xDSid",["typed"],e=>{var{typed:t}=e;return function(e,r,n,i){var a,o,s=e._data,u=e._size,l=e._datatype||e.getDataType(),c=r._values,f=r._index,h=r._ptr,d=r._size,p=r._datatype||void 0===r._data?r._datatype:r.getDataType();if(u.length!==d.length)throw new a9(u.length,d.length);if(u[0]!==d[0]||u[1]!==d[1])throw RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+d+")");if(!c)throw Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m=u[0],g=u[1],v="string"==typeof l&&"mixed"!==l&&l===p?l:void 0,y=v?t.find(n,[v,v]):n,b=[];for(a=0;a<m;a++)b[a]=[];var D=[],_=[];for(o=0;o<g;o++){for(var x=o+1,w=h[o],E=h[o+1],A=w;A<E;A++)D[a=f[A]]=i?y(c[A],s[a][o]):y(s[a][o],c[A]),_[a]=x;for(a=0;a<m;a++)_[a]===x?b[a][o]=D[a]:b[a][o]=s[a][o]}return e.createDenseMatrix({data:b,size:[m,g],datatype:l===e._datatype&&p===r._datatype?v:void 0})}}),so=aS("matAlgo04xSidSid",["typed","equalScalar"],e=>{var{typed:t,equalScalar:r}=e;return function(e,n,i){var a,o,s,u,l,c,f=e._values,h=e._index,d=e._ptr,p=e._size,m=e._datatype||void 0===e._data?e._datatype:e.getDataType(),g=n._values,v=n._index,y=n._ptr,b=n._size,D=n._datatype||void 0===n._data?n._datatype:n.getDataType();if(p.length!==b.length)throw new a9(p.length,b.length);if(p[0]!==b[0]||p[1]!==b[1])throw RangeError("Dimension mismatch. Matrix A ("+p+") must match Matrix B ("+b+")");var _=p[0],x=p[1],w=r,E=0,A=i;"string"==typeof m&&m===D&&"mixed"!==m&&(a=m,w=t.find(r,[a,a]),E=t.convert(0,a),A=t.find(i,[a,a]));var C=f&&g?[]:void 0,M=[],S=[],N=f&&g?[]:void 0,F=f&&g?[]:void 0,T=[],B=[];for(s=0;s<x;s++){S[s]=M.length;var O=s+1;for(l=d[s],c=d[s+1],u=l;u<c;u++)o=h[u],M.push(o),T[o]=O,N&&(N[o]=f[u]);for(l=y[s],c=y[s+1],u=l;u<c;u++)if(T[o=v[u]]===O){if(N){var I=A(N[o],g[u]);w(I,E)?T[o]=null:N[o]=I}}else M.push(o),B[o]=O,F&&(F[o]=g[u]);if(N&&F)for(u=S[s];u<M.length;)T[o=M[u]]===O?(C[u]=N[o],u++):B[o]===O?(C[u]=F[o],u++):M.splice(u,1)}return S[x]=M.length,e.createSparseMatrix({values:C,index:M,ptr:S,size:[_,x],datatype:m===e._datatype&&D===n._datatype?a:void 0})}}),ss=aS("matAlgo10xSids",["typed","DenseMatrix"],e=>{var{typed:t,DenseMatrix:r}=e;return function(e,n,i,a){var o,s=e._values,u=e._index,l=e._ptr,c=e._size,f=e._datatype;if(!s)throw Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=c[0],d=c[1],p=i;"string"==typeof f&&(o=f,n=t.convert(n,o),p=t.find(i,[o,o]));for(var m=[],g=[],v=[],y=0;y<d;y++){for(var b=y+1,D=l[y],_=l[y+1],x=D;x<_;x++){var w=u[x];g[w]=s[x],v[w]=b}for(var E=0;E<h;E++)0===y&&(m[E]=[]),v[E]===b?m[E][y]=a?p(n,g[E]):p(g[E],n):m[E][y]=n}return new r({data:m,size:[h,d],datatype:o})}}),su=aS("matAlgo13xDD",["typed"],e=>{var{typed:t}=e;return function(e,r,n){var i,a=e._data,o=e._size,s=e._datatype,u=r._data,l=r._size,c=r._datatype,f=[];if(o.length!==l.length)throw new a9(o.length,l.length);for(var h=0;h<o.length;h++){if(o[h]!==l[h])throw RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+l+")");f[h]=o[h]}var d=n;"string"==typeof s&&s===c&&(i=s,d=t.find(n,[i,i]));var p=f.length>0?function e(t,r,n,i,a,o){var s=[];if(r===n.length-1)for(var u=0;u<i;u++)s[u]=t(a[u],o[u]);else for(var l=0;l<i;l++)s[l]=e(t,r+1,n,n[r+1],a[l],o[l]);return s}(d,0,f,f[0],a,u):[];return e.createDenseMatrix({data:p,size:f,datatype:i})}}),sl=aS("matAlgo14xDs",["typed"],e=>{var{typed:t}=e;return function(e,r,n,i){var a,o=e._data,s=e._size,u=e._datatype,l=n;"string"==typeof u&&(a=u,r=t.convert(r,a),l=t.find(n,[a,a]));var c=s.length>0?function e(t,r,n,i,a,o,s){var u=[];if(r===n.length-1)for(var l=0;l<i;l++)u[l]=s?t(o,a[l]):t(a[l],o);else for(var c=0;c<i;c++)u[c]=e(t,r+1,n,n[r+1],a[c],o,s);return u}(l,0,s,s[0],o,r,i):[];return e.createDenseMatrix({data:c,size:aw(s),datatype:a})}});function sc(e,t){if(aA(e.size(),t.size()))return[e,t];var r=oy(e.size(),t.size());return[e,t].map(e=>{var t,n;return t=e,n=r,aA(t.size(),n)?t:t.create(oD(t.valueOf(),n),t.datatype())})}var sf=aS("matrixAlgorithmSuite",["typed","matrix"],e=>{var{typed:t,matrix:r}=e,n=su({typed:t}),i=sl({typed:t});return function(e){var a,o=e.elop,s=e.SD||e.DS;o?(a={"DenseMatrix, DenseMatrix":(e,t)=>n(...sc(e,t),o),"Array, Array":(e,t)=>n(...sc(r(e),r(t)),o).valueOf(),"Array, DenseMatrix":(e,t)=>n(...sc(r(e),t),o),"DenseMatrix, Array":(e,t)=>n(...sc(e,r(t)),o)},e.SS&&(a["SparseMatrix, SparseMatrix"]=(t,r)=>e.SS(...sc(t,r),o,!1)),e.DS&&(a["DenseMatrix, SparseMatrix"]=(t,r)=>e.DS(...sc(t,r),o,!1),a["Array, SparseMatrix"]=(t,n)=>e.DS(...sc(r(t),n),o,!1)),s&&(a["SparseMatrix, DenseMatrix"]=(e,t)=>s(...sc(t,e),o,!0),a["SparseMatrix, Array"]=(e,t)=>s(...sc(r(t),e),o,!0))):(a={"DenseMatrix, DenseMatrix":t.referToSelf(e=>(t,r)=>n(...sc(t,r),e)),"Array, Array":t.referToSelf(e=>(t,i)=>n(...sc(r(t),r(i)),e).valueOf()),"Array, DenseMatrix":t.referToSelf(e=>(t,i)=>n(...sc(r(t),i),e)),"DenseMatrix, Array":t.referToSelf(e=>(t,i)=>n(...sc(t,r(i)),e))},e.SS&&(a["SparseMatrix, SparseMatrix"]=t.referToSelf(t=>(r,n)=>e.SS(...sc(r,n),t,!1))),e.DS&&(a["DenseMatrix, SparseMatrix"]=t.referToSelf(t=>(r,n)=>e.DS(...sc(r,n),t,!1)),a["Array, SparseMatrix"]=t.referToSelf(t=>(n,i)=>e.DS(...sc(r(n),i),t,!1))),s&&(a["SparseMatrix, DenseMatrix"]=t.referToSelf(e=>(t,r)=>s(...sc(r,t),e,!0)),a["SparseMatrix, Array"]=t.referToSelf(e=>(t,n)=>s(...sc(r(n),t),e,!0))));var u=e.scalar||"any";(e.Ds||e.Ss)&&(o?(a["DenseMatrix,"+u]=(e,t)=>i(e,t,o,!1),a[u+", DenseMatrix"]=(e,t)=>i(t,e,o,!0),a["Array,"+u]=(e,t)=>i(r(e),t,o,!1).valueOf(),a[u+", Array"]=(e,t)=>i(r(t),e,o,!0).valueOf()):(a["DenseMatrix,"+u]=t.referToSelf(e=>(t,r)=>i(t,r,e,!1)),a[u+", DenseMatrix"]=t.referToSelf(e=>(t,r)=>i(r,t,e,!0)),a["Array,"+u]=t.referToSelf(e=>(t,n)=>i(r(t),n,e,!1).valueOf()),a[u+", Array"]=t.referToSelf(e=>(t,n)=>i(r(n),t,e,!0).valueOf())));var l=void 0!==e.sS?e.sS:e.Ss;return o?(e.Ss&&(a["SparseMatrix,"+u]=(t,r)=>e.Ss(t,r,o,!1)),l&&(a[u+", SparseMatrix"]=(e,t)=>l(t,e,o,!0))):(e.Ss&&(a["SparseMatrix,"+u]=t.referToSelf(t=>(r,n)=>e.Ss(r,n,t,!1))),l&&(a[u+", SparseMatrix"]=t.referToSelf(e=>(t,r)=>l(r,t,e,!0)))),o&&o.signatures&&aE(a,o.signatures),a}}),sh=aS("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],e=>{var{typed:t,matrix:r,addScalar:n,equalScalar:i,DenseMatrix:a,SparseMatrix:o,concat:s}=e,u=sa({typed:t}),l=so({typed:t,equalScalar:i}),c=ss({typed:t,DenseMatrix:a}),f=sf({typed:t,matrix:r,concat:s});return t("add",{"any, any":n,"any, any, ...any":t.referToSelf(e=>(t,r,n)=>{for(var i=e(t,r),a=0;a<n.length;a++)i=e(i,n[a]);return i})},f({elop:n,DS:u,SS:l,Ss:c}))}),sd="addScalar",sp=aS(sd,["typed"],e=>{var{typed:t}=e;return t(sd,{"number, number":oI,"Complex, Complex":function(e,t){return e.add(t)},"BigNumber, BigNumber":function(e,t){return e.plus(t)},"bigint, bigint":function(e,t){return e+t},"Fraction, Fraction":function(e,t){return e.add(t)},"Unit, Unit":t.referToSelf(e=>(r,n)=>{if(null===r.value||void 0===r.value)throw Error("Parameter x contains a unit with undefined value");if(null===n.value||void 0===n.value)throw Error("Parameter y contains a unit with undefined value");if(!r.equalBase(n))throw Error("Units do not match");var i=r.clone();return i.value=t.find(e,[i.valueType(),n.valueType()])(i.value,n.value),i.fixPrefix=!1,i})})}),sm=aS("matAlgo02xDS0",["typed","equalScalar"],e=>{var{typed:t,equalScalar:r}=e;return function(e,n,i,a){var o,s=e._data,u=e._size,l=e._datatype||e.getDataType(),c=n._values,f=n._index,h=n._ptr,d=n._size,p=n._datatype||void 0===n._data?n._datatype:n.getDataType();if(u.length!==d.length)throw new a9(u.length,d.length);if(u[0]!==d[0]||u[1]!==d[1])throw RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+d+")");if(!c)throw Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m=u[0],g=u[1],v=r,y=0,b=i;"string"==typeof l&&l===p&&"mixed"!==l&&(o=l,v=t.find(r,[o,o]),y=t.convert(0,o),b=t.find(i,[o,o]));for(var D=[],_=[],x=[],w=0;w<g;w++){x[w]=_.length;for(var E=h[w],A=h[w+1],C=E;C<A;C++){var M=f[C],S=a?b(c[C],s[M][w]):b(s[M][w],c[C]);v(S,y)||(_.push(M),D.push(S))}}return x[g]=_.length,n.createSparseMatrix({values:D,index:_,ptr:x,size:[m,g],datatype:l===e._datatype&&p===n._datatype?o:void 0})}}),sg=aS("matAlgo11xS0s",["typed","equalScalar"],e=>{var{typed:t,equalScalar:r}=e;return function(e,n,i,a){var o,s=e._values,u=e._index,l=e._ptr,c=e._size,f=e._datatype;if(!s)throw Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=c[0],d=c[1],p=r,m=0,g=i;"string"==typeof f&&(o=f,p=t.find(r,[o,o]),m=t.convert(0,o),n=t.convert(n,o),g=t.find(i,[o,o]));for(var v=[],y=[],b=[],D=0;D<d;D++){b[D]=y.length;for(var _=l[D],x=l[D+1],w=_;w<x;w++){var E=u[w],A=a?g(n,s[w]):g(s[w],n);p(A,m)||(y.push(E),v.push(A))}}return b[d]=y.length,e.createSparseMatrix({values:v,index:y,ptr:b,size:[h,d],datatype:o})}}),sv=aS("matAlgo06xS0S0",["typed","equalScalar"],e=>{var{typed:t,equalScalar:r}=e;return function(e,n,i){var a,o=e._values,s=e._size,u=e._datatype||void 0===e._data?e._datatype:e.getDataType(),l=n._values,c=n._size,f=n._datatype||void 0===n._data?n._datatype:n.getDataType();if(s.length!==c.length)throw new a9(s.length,c.length);if(s[0]!==c[0]||s[1]!==c[1])throw RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+c+")");var h=s[0],d=s[1],p=r,m=0,g=i;"string"==typeof u&&u===f&&"mixed"!==u&&(a=u,p=t.find(r,[a,a]),m=t.convert(0,a),g=t.find(i,[a,a]));for(var v=o&&l?[]:void 0,y=[],b=[],D=v?[]:void 0,_=[],x=[],w=0;w<d;w++){b[w]=y.length;var E=w+1;if(oF(e,w,_,D,x,E,y,g),oF(n,w,_,D,x,E,y,g),D)for(var A=b[w];A<y.length;){var C=y[A];if(x[C]===E){var M=D[C];p(M,m)?y.splice(A,1):(v.push(M),A++)}else y.splice(A,1)}else for(var S=b[w];S<y.length;)x[y[S]]!==E?y.splice(S,1):S++}return b[d]=y.length,e.createSparseMatrix({values:v,index:y,ptr:b,size:[h,d],datatype:u===e._datatype&&f===n._datatype?a:void 0})}}),sy="number, number";function sb(e){return!e}function sD(e,t){return!!(e||t)}function s_(e,t){return!!e!=!!t}function sx(e,t){return!!(e&&t)}sb.signature="number",sD.signature=sy,s_.signature=sy,sx.signature=sy;var sw=aS("atan",["typed"],e=>{var{typed:t}=e;return t("atan",{number:function(e){return Math.atan(e)},Complex:function(e){return e.atan()},BigNumber:function(e){return e.atan()}})}),sE=aS("matAlgo03xDSf",["typed"],e=>{var{typed:t}=e;return function(e,r,n,i){var a,o=e._data,s=e._size,u=e._datatype||e.getDataType(),l=r._values,c=r._index,f=r._ptr,h=r._size,d=r._datatype||void 0===r._data?r._datatype:r.getDataType();if(s.length!==h.length)throw new a9(s.length,h.length);if(s[0]!==h[0]||s[1]!==h[1])throw RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+h+")");if(!l)throw Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p=s[0],m=s[1],g=0,v=n;"string"==typeof u&&u===d&&"mixed"!==u&&(a=u,g=t.convert(0,a),v=t.find(n,[a,a]));for(var y=[],b=0;b<p;b++)y[b]=[];for(var D=[],_=[],x=0;x<m;x++){for(var w=x+1,E=f[x],A=f[x+1],C=E;C<A;C++){var M=c[C];D[M]=i?v(l[C],o[M][x]):v(o[M][x],l[C]),_[M]=w}for(var S=0;S<p;S++)_[S]===w?y[S][x]=D[S]:y[S][x]=i?v(g,o[S][x]):v(o[S][x],g)}return e.createDenseMatrix({data:y,size:[p,m],datatype:u===e._datatype&&d===r._datatype?a:void 0})}}),sA=aS("matAlgo09xS0Sf",["typed","equalScalar"],e=>{var{typed:t,equalScalar:r}=e;return function(e,n,i){var a,o,s,u,l,c,f=e._values,h=e._index,d=e._ptr,p=e._size,m=e._datatype||void 0===e._data?e._datatype:e.getDataType(),g=n._values,v=n._index,y=n._ptr,b=n._size,D=n._datatype||void 0===n._data?n._datatype:n.getDataType();if(p.length!==b.length)throw new a9(p.length,b.length);if(p[0]!==b[0]||p[1]!==b[1])throw RangeError("Dimension mismatch. Matrix A ("+p+") must match Matrix B ("+b+")");var _=p[0],x=p[1],w=r,E=0,A=i;"string"==typeof m&&m===D&&"mixed"!==m&&(a=m,w=t.find(r,[a,a]),E=t.convert(0,a),A=t.find(i,[a,a]));var C=f&&g?[]:void 0,M=[],S=[],N=C?[]:void 0,F=[];for(s=0;s<x;s++){S[s]=M.length;var T=s+1;if(N)for(l=y[s],c=y[s+1],u=l;u<c;u++)F[o=v[u]]=T,N[o]=g[u];for(l=d[s],c=d[s+1],u=l;u<c;u++)if(o=h[u],N){var B=F[o]===T?N[o]:E,O=A(f[u],B);w(O,E)||(M.push(o),C.push(O))}else M.push(o)}return S[x]=M.length,e.createSparseMatrix({values:C,index:M,ptr:S,size:[_,x],datatype:m===e._datatype&&D===n._datatype?a:void 0})}}),sC=aS("matAlgo12xSfs",["typed","DenseMatrix"],e=>{var{typed:t,DenseMatrix:r}=e;return function(e,n,i,a){var o,s=e._values,u=e._index,l=e._ptr,c=e._size,f=e._datatype;if(!s)throw Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=c[0],d=c[1],p=i;"string"==typeof f&&(o=f,n=t.convert(n,o),p=t.find(i,[o,o]));for(var m=[],g=[],v=[],y=0;y<d;y++){for(var b=y+1,D=l[y],_=l[y+1],x=D;x<_;x++){var w=u[x];g[w]=s[x],v[w]=b}for(var E=0;E<h;E++)0===y&&(m[E]=[]),v[E]===b?m[E][y]=a?p(n,g[E]):p(g[E],n):m[E][y]=a?p(n,0):p(0,n)}return new r({data:m,size:[h,d],datatype:o})}});function sM(e,t){return aS(e,["config","BigNumber"],e=>{var{config:r,BigNumber:n}=e;return"BigNumber"===r.number?new n(t):t})}sM("fineStructure",.0072973525693),sM("weakMixingAngle",.2229),sM("efimovFactor",22.7),sM("sackurTetrode",-1.16487052358);var sS=aS("bignumber",["typed","BigNumber"],e=>{var{typed:t,BigNumber:r}=e;return t("bignumber",{"":function(){return new r(0)},number:function(e){return new r(e+"")},string:function(e){var t=e.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(t){var n=t[2],i=r(t[1]),a=new r(2).pow(Number(n));if(i.gt(a.sub(1)))throw SyntaxError('String "'.concat(e,'" is out of range'));var o=new r(2).pow(Number(n)-1);return i.gte(o)?i.sub(a):i}return new r(e)},BigNumber:function(e){return e},bigint:function(e){return new r(e.toString())},Unit:t.referToSelf(e=>t=>{var r=t.clone();return r.value=e(t.value),r}),Fraction:function(e){return new r(String(e.n)).div(String(e.d)).times(String(e.s))},null:function(e){return new r(0)},"Array | Matrix":t.referToSelf(e=>t=>oM(t,e))})}),sN={};!function(e){var t,r,n,i,a="0123456789abcdef",o="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",s="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",u={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:9e15,crypto:!1},l=!0,c="[DecimalError] ",f=c+"Invalid argument: ",h=c+"Precision limit exceeded",d=c+"crypto unavailable",p="[object Decimal]",m=Math.floor,g=Math.pow,v=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,y=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,b=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,D=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_=o.length-1,x=s.length-1,w={toStringTag:p};function E(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)(r=7-(n=e[t]+"").length)&&(a+=z(r)),a+=n;(r=7-(n=(o=e[t])+"").length)&&(a+=z(r))}else if(0===o)return"0";for(;o%10==0;)o/=10;return a+o}function A(e,t,r){if(e!==~~e||e<t||e>r)throw Error(f+e)}function C(e,t,r,n){var i,a,o,s;for(a=e[0];a>=10;a/=10)--t;return--t<0?(t+=7,i=0):(i=Math.ceil((t+1)/7),t%=7),a=g(10,7-t),s=e[i]%a|0,null==n?t<3?(0==t?s=s/100|0:1==t&&(s=s/10|0),o=r<4&&99999==s||r>3&&49999==s||5e4==s||0==s):o=(r<4&&s+1==a||r>3&&s+1==a/2)&&(e[i+1]/a/100|0)==g(10,t-2)-1||(s==a/2||0==s)&&(e[i+1]/a/100|0)==0:t<4?(0==t?s=s/1e3|0:1==t?s=s/100|0:2==t&&(s=s/10|0),o=(n||r<4)&&9999==s||!n&&r>3&&4999==s):o=((n||r<4)&&s+1==a||!n&&r>3&&s+1==a/2)&&(e[i+1]/a/1e3|0)==g(10,t-3)-1,o}function M(e,t,r){for(var n,i,o=[0],s=0,u=e.length;s<u;){for(i=o.length;i--;)o[i]*=t;for(o[0]+=a.indexOf(e.charAt(s++)),n=0;n<o.length;n++)o[n]>r-1&&(void 0===o[n+1]&&(o[n+1]=0),o[n+1]+=o[n]/r|0,o[n]%=r)}return o.reverse()}w.absoluteValue=w.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),N(e)},w.ceil=function(){return N(new this.constructor(this),this.e+1,2)},w.clampedTo=w.clamp=function(e,t){var r=this.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(f+t);return 0>this.cmp(e)?e:this.cmp(t)>0?t:new r(this)},w.comparedTo=w.cmp=function(e){var t,r,n,i,a=this.d,o=(e=new this.constructor(e)).d,s=this.s,u=e.s;if(!a||!o)return s&&u?s!==u?s:a===o?0:!a^s<0?1:-1:NaN;if(!a[0]||!o[0])return a[0]?s:o[0]?-u:0;if(s!==u)return s;if(this.e!==e.e)return this.e>e.e^s<0?1:-1;for(t=0,r=(n=a.length)<(i=o.length)?n:i;t<r;++t)if(a[t]!==o[t])return a[t]>o[t]^s<0?1:-1;return n===i?0:n>i^s<0?1:-1},w.cosine=w.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(e,t){var r,n,i;if(t.isZero())return t;(n=t.d.length)<32?i=(1/$(4,r=Math.ceil(n/3))).toString():(r=16,i="2.3283064365386962890625e-10"),e.precision+=r,t=H(e,1,t.times(i),new e(1));for(var a=r;a--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=r,t}(n,G(n,r)),n.precision=e,n.rounding=t,N(2==i||3==i?r.neg():r,e,t,!0)):new n(1):new n(NaN)},w.cubeRoot=w.cbrt=function(){var e,t,r,n,i,a,o,s,u,c,f=this.constructor;if(!this.isFinite()||this.isZero())return new f(this);for(l=!1,(a=this.s*g(this.s*this,1/3))&&Math.abs(a)!=1/0?n=new f(a.toString()):(r=E(this.d),(a=((e=this.e)-r.length+1)%3)&&(r+=1==a||-2==a?"0":"00"),a=g(r,1/3),e=m((e+1)/3)-(e%3==(e<0?-1:2)),(n=new f(r=a==1/0?"5e"+e:(r=a.toExponential()).slice(0,r.indexOf("e")+1)+e)).s=this.s),o=(e=f.precision)+3;;)if(n=S((c=(u=(s=n).times(s).times(s)).plus(this)).plus(this).times(s),c.plus(u),o+2,1),E(s.d).slice(0,o)===(r=E(n.d)).slice(0,o)){if("9999"!=(r=r.slice(o-3,o+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(N(n,e+1,1),t=!n.times(n).times(n).eq(this));break}if(!i&&(N(s,e+1,0),s.times(s).times(s).eq(this))){n=s;break}o+=4,i=1}return l=!0,N(n,e,f.rounding,t)},w.decimalPlaces=w.dp=function(){var e,t=this.d,r=NaN;if(t){if(r=((e=t.length-1)-m(this.e/7))*7,e=t[e])for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r},w.dividedBy=w.div=function(e){return S(this,new this.constructor(e))},w.dividedToIntegerBy=w.divToInt=function(e){var t=this.constructor;return N(S(this,new t(e),0,1,1),t.precision,t.rounding)},w.equals=w.eq=function(e){return 0===this.cmp(e)},w.floor=function(){return N(new this.constructor(this),this.e+1,3)},w.greaterThan=w.gt=function(e){return this.cmp(e)>0},w.greaterThanOrEqualTo=w.gte=function(e){var t=this.cmp(e);return 1==t||0===t},w.hyperbolicCosine=w.cosh=function(){var e,t,r,n,i,a=this,o=a.constructor,s=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return s;r=o.precision,n=o.rounding,o.precision=r+Math.max(a.e,a.sd())+4,o.rounding=1,(i=a.d.length)<32?t=(1/$(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),a=H(o,1,a.times(t),new o(1),!0);for(var u,l=e,c=new o(8);l--;)u=a.times(a),a=s.minus(u.times(c.minus(u.times(c))));return N(a,o.precision=r,o.rounding=n,!0)},w.hyperbolicSine=w.sinh=function(){var e,t,r,n,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(t=a.precision,r=a.rounding,a.precision=t+Math.max(i.e,i.sd())+4,a.rounding=1,(n=i.d.length)<3)i=H(a,2,i,i,!0);else{e=(e=1.4*Math.sqrt(n))>16?16:0|e,i=H(a,2,i=i.times(1/$(5,e)),i,!0);for(var o,s=new a(5),u=new a(16),l=new a(20);e--;)o=i.times(i),i=i.times(s.plus(o.times(u.times(o).plus(l))))}return a.precision=t,a.rounding=r,N(i,t,r,!0)},w.hyperbolicTangent=w.tanh=function(){var e,t,r=this.constructor;return this.isFinite()?this.isZero()?new r(this):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,S(this.sinh(),this.cosh(),r.precision=e,r.rounding=t)):new r(this.s)},w.inverseCosine=w.acos=function(){var e=this,t=e.constructor,r=e.abs().cmp(1),n=t.precision,i=t.rounding;return -1!==r?0===r?e.isNeg()?O(t,n,i):new t(0):new t(NaN):e.isZero()?O(t,n+4,i).times(.5):(t.precision=n+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=n,t.rounding=i,e.times(2))},w.inverseHyperbolicCosine=w.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,l=!1,r=r.times(r).minus(1).sqrt().plus(r),l=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)},w.inverseHyperbolicSine=w.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,l=!1,r=r.times(r).plus(1).sqrt().plus(r),l=!0,n.precision=e,n.rounding=t,r.ln())},w.inverseHyperbolicTangent=w.atanh=function(){var e,t,r,n,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=a.precision,t=a.rounding,Math.max(n=i.sd(),e)<-(2*i.e)-1)?N(new a(i),e,t,!0):(a.precision=r=n-i.e,i=S(i.plus(1),new a(1).minus(i),r+e,1),a.precision=e+4,a.rounding=1,i=i.ln(),a.precision=e,a.rounding=t,i.times(.5)):new a(NaN)},w.inverseSine=w.asin=function(){var e,t,r,n,i=this,a=i.constructor;return i.isZero()?new a(i):(t=i.abs().cmp(1),r=a.precision,n=a.rounding,-1!==t)?0===t?((e=O(a,r+4,n).times(.5)).s=i.s,e):new a(NaN):(a.precision=r+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=r,a.rounding=n,i.times(2))},w.inverseTangent=w.atan=function(){var e,t,r,n,i,a,o,s,u,c=this,f=c.constructor,h=f.precision,d=f.rounding;if(c.isFinite()){if(c.isZero())return new f(c);else if(c.abs().eq(1)&&h+4<=x)return(o=O(f,h+4,d).times(.25)).s=c.s,o}else{if(!c.s)return new f(NaN);if(h+4<=x)return(o=O(f,h+4,d).times(.5)).s=c.s,o}for(f.precision=s=h+10,f.rounding=1,e=r=Math.min(28,s/7+2|0);e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(l=!1,t=Math.ceil(s/7),n=1,u=c.times(c),o=new f(c),i=c;-1!==e;)if(i=i.times(u),a=o.minus(i.div(n+=2)),i=i.times(u),void 0!==(o=a.plus(i.div(n+=2))).d[t])for(e=t;o.d[e]===a.d[e]&&e--;);return r&&(o=o.times(2<<r-1)),l=!0,N(o,f.precision=h,f.rounding=d,!0)},w.isFinite=function(){return!!this.d},w.isInteger=w.isInt=function(){return!!this.d&&m(this.e/7)>this.d.length-2},w.isNaN=function(){return!this.s},w.isNegative=w.isNeg=function(){return this.s<0},w.isPositive=w.isPos=function(){return this.s>0},w.isZero=function(){return!!this.d&&0===this.d[0]},w.lessThan=w.lt=function(e){return 0>this.cmp(e)},w.lessThanOrEqualTo=w.lte=function(e){return 1>this.cmp(e)},w.logarithm=w.log=function(e){var t,r,n,i,a,o,s,u,c=this.constructor,f=c.precision,h=c.rounding;if(null==e)e=new c(10),t=!0;else{if(r=(e=new c(e)).d,e.s<0||!r||!r[0]||e.eq(1))return new c(NaN);t=e.eq(10)}if(r=this.d,this.s<0||!r||!r[0]||this.eq(1))return new c(r&&!r[0]?-1/0:1!=this.s?NaN:r?0:1/0);if(t)if(r.length>1)a=!0;else{for(i=r[0];i%10==0;)i/=10;a=1!==i}if(l=!1,C((u=S(o=q(this,s=f+5),t?B(c,s+10):q(e,s),s,1)).d,i=f,h))do if(s+=10,u=S(o=q(this,s),t?B(c,s+10):q(e,s),s,1),!a){+E(u.d).slice(i+1,i+15)+1==1e14&&(u=N(u,f+1,0));break}while(C(u.d,i+=10,h))return l=!0,N(u,f,h)},w.minus=w.sub=function(e){var t,r,n,i,a,o,s,u,c,f,h,d,p=this.constructor;if(e=new p(e),!this.d||!e.d)return this.s&&e.s?this.d?e.s=-e.s:e=new p(e.d||this.s!==e.s?this:NaN):e=new p(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.plus(e);if(c=this.d,d=e.d,s=p.precision,u=p.rounding,!c[0]||!d[0]){if(d[0])e.s=-e.s;else{if(!c[0])return new p(3===u?-0:0);e=new p(this)}return l?N(e,s,u):e}if(r=m(e.e/7),f=m(this.e/7),c=c.slice(),a=f-r){for((h=a<0)?(t=c,a=-a,o=d.length):(t=d,r=f,o=c.length),a>(n=Math.max(Math.ceil(s/7),o)+2)&&(a=n,t.length=1),t.reverse(),n=a;n--;)t.push(0);t.reverse()}else{for((h=(n=c.length)<(o=d.length))&&(o=n),n=0;n<o;n++)if(c[n]!=d[n]){h=c[n]<d[n];break}a=0}for(h&&(t=c,c=d,d=t,e.s=-e.s),o=c.length,n=d.length-o;n>0;--n)c[o++]=0;for(n=d.length;n>a;){if(c[--n]<d[n]){for(i=n;i&&0===c[--i];)c[i]=1e7-1;--c[i],c[n]+=1e7}c[n]-=d[n]}for(;0===c[--o];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(e.d=c,e.e=T(c,r),l?N(e,s,u):e):new p(3===u?-0:0)},w.modulo=w.mod=function(e){var t,r=this.constructor;return(e=new r(e),this.d&&e.s&&(!e.d||e.d[0]))?e.d&&(!this.d||this.d[0])?(l=!1,9==r.modulo?(t=S(this,e.abs(),0,3,1),t.s*=e.s):t=S(this,e,0,r.modulo,1),t=t.times(e),l=!0,this.minus(t)):N(new r(this),r.precision,r.rounding):new r(NaN)},w.naturalExponential=w.exp=function(){return P(this)},w.naturalLogarithm=w.ln=function(){return q(this)},w.negated=w.neg=function(){var e=new this.constructor(this);return e.s=-e.s,N(e)},w.plus=w.add=function(e){var t,r,n,i,a,o,s,u,c,f,h=this.constructor;if(e=new h(e),!this.d||!e.d)return this.s&&e.s?this.d||(e=new h(e.d||this.s===e.s?this:NaN)):e=new h(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.minus(e);if(c=this.d,f=e.d,s=h.precision,u=h.rounding,!c[0]||!f[0])return f[0]||(e=new h(this)),l?N(e,s,u):e;if(a=m(this.e/7),n=m(e.e/7),c=c.slice(),i=a-n){for(i<0?(r=c,i=-i,o=f.length):(r=f,n=a,o=c.length),i>(o=(a=Math.ceil(s/7))>o?a+1:o+1)&&(i=o,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((o=c.length)-(i=f.length)<0&&(i=o,r=f,f=c,c=r),t=0;i;)t=(c[--i]=c[i]+f[i]+t)/1e7|0,c[i]%=1e7;for(t&&(c.unshift(t),++n),o=c.length;0==c[--o];)c.pop();return e.d=c,e.e=T(c,n),l?N(e,s,u):e},w.precision=w.sd=function(e){var t;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(f+e);return this.d?(t=I(this.d),e&&this.e+1>t&&(t=this.e+1)):t=NaN,t},w.round=function(){var e=this.constructor;return N(new e(this),this.e+1,e.rounding)},w.sine=w.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:H(e,2,t,t);r=(r=1.4*Math.sqrt(n))>16?16:0|r,t=H(e,2,t=t.times(1/$(5,r)),t);for(var i,a=new e(5),o=new e(16),s=new e(20);r--;)i=t.times(t),t=t.times(a.plus(i.times(o.times(i).minus(s))));return t}(n,G(n,r)),n.precision=e,n.rounding=t,N(i>2?r.neg():r,e,t,!0)):new n(NaN)},w.squareRoot=w.sqrt=function(){var e,t,r,n,i,a,o=this.d,s=this.e,u=this.s,c=this.constructor;if(1!==u||!o||!o[0])return new c(!u||u<0&&(!o||o[0])?NaN:o?this:1/0);for(l=!1,0==(u=Math.sqrt(+this))||u==1/0?(((t=E(o)).length+s)%2==0&&(t+="0"),u=Math.sqrt(t),s=m((s+1)/2)-(s<0||s%2),n=new c(t=u==1/0?"5e"+s:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+s)):n=new c(u.toString()),r=(s=c.precision)+3;;)if(n=(a=n).plus(S(this,a,r+2,1)).times(.5),E(a.d).slice(0,r)===(t=E(n.d)).slice(0,r)){if("9999"!=(t=t.slice(r-3,r+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(N(n,s+1,1),e=!n.times(n).eq(this));break}if(!i&&(N(a,s+1,0),a.times(a).eq(this))){n=a;break}r+=4,i=1}return l=!0,N(n,s,c.rounding,e)},w.tangent=w.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,(r=r.sin()).s=1,r=S(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,N(2==i||4==i?r.neg():r,e,t,!0)):new n(NaN)},w.times=w.mul=function(e){var t,r,n,i,a,o,s,u,c,f=this.constructor,h=this.d,d=(e=new f(e)).d;if(e.s*=this.s,!h||!h[0]||!d||!d[0])return new f(!e.s||h&&!h[0]&&!d||d&&!d[0]&&!h?NaN:!h||!d?e.s/0:0*e.s);for(r=m(this.e/7)+m(e.e/7),(u=h.length)<(c=d.length)&&(a=h,h=d,d=a,o=u,u=c,c=o),a=[],n=o=u+c;n--;)a.push(0);for(n=c;--n>=0;){for(t=0,i=u+n;i>n;)s=a[i]+d[n]*h[i-n-1]+t,a[i--]=s%1e7|0,t=s/1e7|0;a[i]=(a[i]+t)%1e7|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=T(a,r),l?N(e,f.precision,f.rounding):e},w.toBinary=function(e,t){return V(this,2,e,t)},w.toDecimalPlaces=w.toDP=function(e,t){var r=this,n=r.constructor;return(r=new n(r),void 0===e)?r:(A(e,0,1e9),void 0===t?t=n.rounding:A(t,0,8),N(r,e+r.e+1,t))},w.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=F(n,!0):(A(e,0,1e9),void 0===t?t=i.rounding:A(t,0,8),r=F(n=N(new i(n),e+1,t),!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r},w.toFixed=function(e,t){var r,n,i=this.constructor;return void 0===e?r=F(this):(A(e,0,1e9),void 0===t?t=i.rounding:A(t,0,8),r=F(n=N(new i(this),e+this.e+1,t),!1,e+n.e+1)),this.isNeg()&&!this.isZero()?"-"+r:r},w.toFraction=function(e){var t,r,n,i,a,o,s,u,c,h,d,p,m=this.d,v=this.constructor;if(!m)return new v(this);if(c=r=new v(1),n=u=new v(0),o=(a=(t=new v(n)).e=I(m)-this.e-1)%7,t.d[0]=g(10,o<0?7+o:o),null==e)e=a>0?t:c;else{if(!(s=new v(e)).isInt()||s.lt(c))throw Error(f+s);e=s.gt(t)?a>0?t:c:s}for(l=!1,s=new v(E(m)),h=v.precision,v.precision=a=7*m.length*2;d=S(s,t,0,1,1),1!=(i=r.plus(d.times(n))).cmp(e);)r=n,n=i,i=c,c=u.plus(d.times(i)),u=i,i=t,t=s.minus(d.times(i)),s=i;return i=S(e.minus(r),n,0,1,1),u=u.plus(i.times(c)),r=r.plus(i.times(n)),u.s=c.s=this.s,p=1>S(c,n,a,1).minus(this).abs().cmp(S(u,r,a,1).minus(this).abs())?[c,n]:[u,r],v.precision=h,l=!0,p},w.toHexadecimal=w.toHex=function(e,t){return V(this,16,e,t)},w.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),null==e){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),void 0===t?t=n.rounding:A(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(l=!1,r=S(r,e,0,t,1).times(e),l=!0,N(r)):(e.s=r.s,r=e),r},w.toNumber=function(){return+this},w.toOctal=function(e,t){return V(this,8,e,t)},w.toPower=w.pow=function(e){var t,r,n,i,a,o,s=this,u=s.constructor,c=+(e=new u(e));if(!s.d||!e.d||!s.d[0]||!e.d[0])return new u(g(+s,c));if((s=new u(s)).eq(1))return s;if(n=u.precision,a=u.rounding,e.eq(1))return N(s,n,a);if((t=m(e.e/7))>=e.d.length-1&&(r=c<0?-c:c)<=0x1fffffffffffff)return i=R(u,s,r,n),e.s<0?new u(1).div(i):N(i,n,a);if((o=s.s)<0){if(t<e.d.length-1)return new u(NaN);if((1&e.d[t])==0&&(o=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=o,s}return(t=0!=(r=g(+s,c))&&isFinite(r)?new u(r+"").e:m(c*(Math.log("0."+E(s.d))/Math.LN10+s.e+1)))>u.maxE+1||t<u.minE-1?new u(t>0?o/0:0):(l=!1,u.rounding=s.s=1,r=Math.min(12,(t+"").length),(i=P(e.times(q(s,n+r)),n)).d&&C((i=N(i,n+5,1)).d,n,a)&&(t=n+10,+E((i=N(P(e.times(q(s,t+r)),t),t+5,1)).d).slice(n+1,n+15)+1==1e14&&(i=N(i,n+1,0))),i.s=o,l=!0,u.rounding=a,N(i,n,a))},w.toPrecision=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=F(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(A(e,1,1e9),void 0===t?t=i.rounding:A(t,0,8),r=F(n=N(new i(n),e,t),e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r},w.toSignificantDigits=w.toSD=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(A(e,1,1e9),void 0===t?t=r.rounding:A(t,0,8)),N(new r(this),e,t)},w.toString=function(){var e=this.constructor,t=F(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()&&!this.isZero()?"-"+t:t},w.truncated=w.trunc=function(){return N(new this.constructor(this),this.e+1,1)},w.valueOf=w.toJSON=function(){var e=this.constructor,t=F(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()?"-"+t:t};var S=function(){function e(e,t,r){var n,i=0,a=e.length;for(e=e.slice();a--;)n=e[a]*t+i,e[a]=n%r|0,i=n/r|0;return i&&e.unshift(i),e}function t(e,t,r,n){var i,a;if(r!=n)a=r>n?1:-1;else for(i=a=0;i<r;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function n(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=+(e[r]<t[r]),e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(i,a,o,s,u,l){var c,f,h,d,p,g,v,y,b,D,_,x,w,E,A,C,M,S,F,T,B=i.constructor,O=i.s==a.s?1:-1,I=i.d,z=a.d;if(!I||!I[0]||!z||!z[0])return new B(!i.s||!a.s||(I?z&&I[0]==z[0]:!z)?NaN:I&&0==I[0]||!z?0*O:O/0);for(l?(p=1,f=i.e-a.e):(l=1e7,p=7,f=m(i.e/p)-m(a.e/p)),F=z.length,M=I.length,D=(b=new B(O)).d=[],h=0;z[h]==(I[h]||0);h++);if(z[h]>(I[h]||0)&&f--,null==o?(E=o=B.precision,s=B.rounding):E=u?o+(i.e-a.e)+1:o,E<0)D.push(1),g=!0;else{if(E=E/p+2|0,h=0,1==F){for(d=0,z=z[0],E++;(h<M||d)&&E--;h++)A=d*l+(I[h]||0),D[h]=A/z|0,d=A%z|0;g=d||h<M}else{for((d=l/(z[0]+1)|0)>1&&(z=e(z,d,l),I=e(I,d,l),F=z.length,M=I.length),C=F,x=(_=I.slice(0,F)).length;x<F;)_[x++]=0;(T=z.slice()).unshift(0),S=z[0],z[1]>=l/2&&++S;do d=0,(c=t(z,_,F,x))<0?(w=_[0],F!=x&&(w=w*l+(_[1]||0)),(d=w/S|0)>1?(d>=l&&(d=l-1),y=(v=e(z,d,l)).length,x=_.length,1==(c=t(v,_,y,x))&&(d--,n(v,F<y?T:z,y,l))):(0==d&&(c=d=1),v=z.slice()),(y=v.length)<x&&v.unshift(0),n(_,v,x,l),-1==c&&(x=_.length,(c=t(z,_,F,x))<1&&(d++,n(_,F<x?T:z,x,l))),x=_.length):0===c&&(d++,_=[0]),D[h++]=d,c&&_[0]?_[x++]=I[C]||0:(_=[I[C]],x=1);while((C++<M||void 0!==_[0])&&E--)g=void 0!==_[0]}D[0]||D.shift()}if(1==p)b.e=f,r=g;else{for(h=1,d=D[0];d>=10;d/=10)h++;b.e=h+f*p-1,N(b,u?o+b.e+1:o,s,g)}return b}}();function N(e,t,r,n){var i,a,o,s,u,c,f,h,d,p=e.constructor;e:if(null!=t){if(!(h=e.d))return e;for(i=1,s=h[0];s>=10;s/=10)i++;if((a=t-i)<0)a+=7,o=t,u=(f=h[d=0])/g(10,i-o-1)%10|0;else if((d=Math.ceil((a+1)/7))>=(s=h.length))if(n){for(;s++<=d;)h.push(0);f=u=0,i=1,a%=7,o=a-7+1}else break e;else{for(i=1,f=s=h[d];s>=10;s/=10)i++;a%=7,u=(o=a-7+i)<0?0:f/g(10,i-o-1)%10|0}if(n=n||t<0||void 0!==h[d+1]||(o<0?f:f%g(10,i-o-1)),c=r<4?(u||n)&&(0==r||r==(e.s<0?3:2)):u>5||5==u&&(4==r||n||6==r&&(a>0?o>0?f/g(10,i-o):0:h[d-1])%10&1||r==(e.s<0?8:7)),t<1||!h[0])return h.length=0,c?(t-=e.e+1,h[0]=g(10,(7-t%7)%7),e.e=-t||0):h[0]=e.e=0,e;if(0==a?(h.length=d,s=1,d--):(h.length=d+1,s=g(10,7-a),h[d]=o>0?(f/g(10,i-o)%g(10,o)|0)*s:0),c)for(;;)if(0==d){for(a=1,o=h[0];o>=10;o/=10)a++;for(o=h[0]+=s,s=1;o>=10;o/=10)s++;a!=s&&(e.e++,1e7==h[0]&&(h[0]=1));break}else{if(h[d]+=s,1e7!=h[d])break;h[d--]=0,s=1}for(a=h.length;0===h[--a];)h.pop()}return l&&(e.e>p.maxE?(e.d=null,e.e=NaN):e.e<p.minE&&(e.e=0,e.d=[0])),e}function F(e,t,r){if(!e.isFinite())return U(e);var n,i=e.e,a=E(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+z(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(e.e<0?"e":"e+")+e.e):i<0?(a="0."+z(-i-1)+a,r&&(n=r-o)>0&&(a+=z(n))):i>=o?(a+=z(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+z(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=z(n))),a}function T(e,t){var r=e[0];for(t*=7;r>=10;r/=10)t++;return t}function B(e,t,r){if(t>_)throw l=!0,r&&(e.precision=r),Error(h);return N(new e(o),t,1,!0)}function O(e,t,r){if(t>x)throw Error(h);return N(new e(s),t,r,!0)}function I(e){var t=e.length-1,r=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function z(e){for(var t="";e--;)t+="0";return t}function R(e,t,r,n){var i,a=new e(1),o=Math.ceil(n/7+4);for(l=!1;;){if(r%2&&W((a=a.times(t)).d,o)&&(i=!0),0===(r=m(r/2))){r=a.d.length-1,i&&0===a.d[r]&&++a.d[r];break}W((t=t.times(t)).d,o)}return l=!0,a}function k(e){return 1&e.d[e.d.length-1]}function L(e,t,r){for(var n,i,a=new e(t[0]),o=0;++o<t.length;){if(!(i=new e(t[o])).s){a=i;break}((n=a.cmp(i))===r||0===n&&a.s===r)&&(a=i)}return a}function P(e,t){var r,n,i,a,o,s,u,c=0,f=0,h=0,d=e.constructor,p=d.rounding,m=d.precision;if(!e.d||!e.d[0]||e.e>17)return new d(e.d?!e.d[0]?1:e.s<0?0:1/0:e.s?e.s<0?0:e:0/0);for(null==t?(l=!1,u=m):u=t,s=new d(.03125);e.e>-2;)e=e.times(s),h+=5;for(u+=n=Math.log(g(2,h))/Math.LN10*2+5|0,r=a=o=new d(1),d.precision=u;;){if(a=N(a.times(e),u,1),r=r.times(++f),E((s=o.plus(S(a,r,u,1))).d).slice(0,u)===E(o.d).slice(0,u)){for(i=h;i--;)o=N(o.times(o),u,1);if(null!=t)return d.precision=m,o;if(!(c<3&&C(o.d,u-n,p,c)))return N(o,d.precision=m,p,l=!0);d.precision=u+=10,r=a=s=new d(1),f=0,c++}o=s}}function q(e,t){var r,n,i,a,o,s,u,c,f,h,d,p=1,m=e,g=m.d,v=m.constructor,y=v.rounding,b=v.precision;if(m.s<0||!g||!g[0]||!m.e&&1==g[0]&&1==g.length)return new v(g&&!g[0]?-1/0:1!=m.s?NaN:g?0:m);if(null==t?(l=!1,f=b):f=t,v.precision=f+=10,n=(r=E(g)).charAt(0),!(15e14>Math.abs(a=m.e)))return c=B(v,f+2,b).times(a+""),m=q(new v(n+"."+r.slice(1)),f-10).plus(c),v.precision=b,null==t?N(m,b,y,l=!0):m;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=E((m=m.times(e)).d)).charAt(0),p++;for(a=m.e,n>1?(m=new v("0."+r),a++):m=new v(n+"."+r.slice(1)),h=m,u=o=m=S(m.minus(1),m.plus(1),f,1),d=N(m.times(m),f,1),i=3;;){if(o=N(o.times(d),f,1),E((c=u.plus(S(o,new v(i),f,1))).d).slice(0,f)===E(u.d).slice(0,f)){if(u=u.times(2),0!==a&&(u=u.plus(B(v,f+2,b).times(a+""))),u=S(u,new v(p),f,1),null!=t)return v.precision=b,u;if(!C(u.d,f-10,y,s))return N(u,v.precision=b,y,l=!0);v.precision=f+=10,c=o=m=S(h.minus(1),h.plus(1),f,1),d=N(m.times(m),f,1),i=s=1}u=c,i+=2}}function U(e){return String(e.s*e.s/0)}function j(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);n++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(n,i)){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%7,r<0&&(n+=7),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=7;n<i;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=i;for(;n--;)t+="0";e.d.push(+t),l&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function H(e,t,r,n,i){var a,o,s,u,c=e.precision,f=Math.ceil(c/7);for(l=!1,u=r.times(r),s=new e(n);;){if(o=S(s.times(u),new e(t++*t++),c,1),s=i?n.plus(o):n.minus(o),n=S(o.times(u),new e(t++*t++),c,1),void 0!==(o=s.plus(n)).d[f]){for(a=f;o.d[a]===s.d[a]&&a--;);if(-1==a)break}a=s,s=n,n=o,o=a}return l=!0,o.d.length=f+1,o}function $(e,t){for(var r=e;--t;)r*=e;return r}function G(e,t){var r,n=t.s<0,a=O(e,e.precision,1),o=a.times(.5);if((t=t.abs()).lte(o))return i=n?4:1,t;if((r=t.divToInt(a)).isZero())i=n?3:2;else{if((t=t.minus(r.times(a))).lte(o))return i=k(r)?n?2:3:n?4:1,t;i=k(r)?n?1:4:n?3:2}return t.minus(a).abs()}function V(e,t,n,i){var o,s,u,l,c,f,h,d,p,m=e.constructor,g=void 0!==n;if(g?(A(n,1,1e9),void 0===i?i=m.rounding:A(i,0,8)):(n=m.precision,i=m.rounding),e.isFinite()){for(u=(h=F(e)).indexOf("."),g?(o=2,16==t?n=4*n-3:8==t&&(n=3*n-2)):o=t,u>=0&&(h=h.replace(".",""),(p=new m(1)).e=h.length-u,p.d=M(F(p),10,o),p.e=p.d.length),s=c=(d=M(h,10,o)).length;0==d[--c];)d.pop();if(d[0]){if(u<0?s--:((e=new m(e)).d=d,e.e=s,d=(e=S(e,p,n,i,0,o)).d,s=e.e,f=r),u=d[n],l=o/2,f=f||void 0!==d[n+1],f=i<4?(void 0!==u||f)&&(0===i||i===(e.s<0?3:2)):u>l||u===l&&(4===i||f||6===i&&1&d[n-1]||i===(e.s<0?8:7)),d.length=n,f)for(;++d[--n]>o-1;)d[n]=0,n||(++s,d.unshift(1));for(c=d.length;!d[c-1];--c);for(u=0,h="";u<c;u++)h+=a.charAt(d[u]);if(g){if(c>1)if(16==t||8==t){for(u=16==t?4:3,--c;c%u;c++)h+="0";for(c=(d=M(h,o,t)).length;!d[c-1];--c);for(u=1,h="1.";u<c;u++)h+=a.charAt(d[u])}else h=h.charAt(0)+"."+h.slice(1);h=h+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)h="0"+h;h="0."+h}else if(++s>c)for(s-=c;s--;)h+="0";else s<c&&(h=h.slice(0,s)+"."+h.slice(s))}else h=g?"0p+0":"0";h=(16==t?"0x":2==t?"0b":8==t?"0o":"")+h}else h=U(e);return e.s<0?"-"+h:h}function W(e,t){if(e.length>t)return e.length=t,!0}function Y(e){return new this(e).abs()}function Z(e){return new this(e).acos()}function X(e){return new this(e).acosh()}function J(e,t){return new this(e).plus(t)}function Q(e){return new this(e).asin()}function K(e){return new this(e).asinh()}function ee(e){return new this(e).atan()}function et(e){return new this(e).atanh()}function er(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,a=n+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(r=t.s<0?O(this,n,i):new this(0)).s=e.s:!e.d||t.isZero()?(r=O(this,a,1).times(.5)).s=e.s:t.s<0?(this.precision=a,this.rounding=1,r=this.atan(S(e,t,a,1)),t=O(this,a,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(S(e,t,a,1)):(r=O(this,a,1).times(t.s>0?.25:.75)).s=e.s:r=new this(NaN),r}function en(e){return new this(e).cbrt()}function ei(e){return N(e=new this(e),e.e+1,2)}function ea(e,t,r){return new this(e).clamp(t,r)}function eo(e){if(!e||"object"!=typeof e)throw Error(c+"Object expected");var t,r,n,i=!0===e.defaults,a=["precision",1,1e9,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,9e15,"maxE",0,9e15,"minE",-9e15,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(r=a[t],i&&(this[r]=u[r]),void 0!==(n=e[r]))if(m(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(f+r+": "+n);if(r="crypto",i&&(this[r]=u[r]),void 0!==(n=e[r]))if(!0===n||!1===n||0===n||1===n)if(n)if("undefined"!=typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(d);else this[r]=!1;else throw Error(f+r+": "+n);return this}function es(e){return new this(e).cos()}function eu(e){return new this(e).cosh()}function el(e,t){return new this(e).div(t)}function ec(e){return new this(e).exp()}function ef(e){return N(e=new this(e),e.e+1,3)}function eh(){var e,t,r=new this(0);for(e=0,l=!1;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return l=!0,new this(1/0);r=t}return l=!0,r.sqrt()}function ed(e){return e instanceof t||e&&e.toStringTag===p||!1}function ep(e){return new this(e).ln()}function em(e,t){return new this(e).log(t)}function eg(e){return new this(e).log(2)}function ev(e){return new this(e).log(10)}function ey(){return L(this,arguments,-1)}function eb(){return L(this,arguments,1)}function eD(e,t){return new this(e).mod(t)}function e_(e,t){return new this(e).mul(t)}function ex(e,t){return new this(e).pow(t)}function ew(e){var t,r,n,i,a=0,o=new this(1),s=[];if(void 0===e?e=this.precision:A(e,1,1e9),n=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));a<n;)(i=t[a])>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:s[a++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);a<n;)(i=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((127&t[a+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,a):(s.push(i%1e7),a+=4);a=n/4}else throw Error(d);else for(;a<n;)s[a++]=1e7*Math.random()|0;for(n=s[--a],e%=7,n&&e&&(i=g(10,7-e),s[a]=(n/i|0)*i);0===s[a];a--)s.pop();if(a<0)r=0,s=[0];else{for(r=-1;0===s[0];r-=7)s.shift();for(n=1,i=s[0];i>=10;i/=10)n++;n<7&&(r-=7-n)}return o.e=r,o.d=s,o}function eE(e){return N(e=new this(e),e.e+1,this.rounding)}function eA(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function eC(e){return new this(e).sin()}function eM(e){return new this(e).sinh()}function eS(e){return new this(e).sqrt()}function eN(e,t){return new this(e).sub(t)}function eF(){var e=0,t=arguments,r=new this(t[0]);for(l=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return l=!0,N(r,this.precision,this.rounding)}function eT(e){return new this(e).tan()}function eB(e){return new this(e).tanh()}function eO(e){return N(e=new this(e),e.e+1,1)}(t=function e(r){var n,i,a;function o(e){var r,n,i;if(!(this instanceof o))return new o(e);if(this.constructor=o,ed(e)){this.s=e.s,l?!e.d||e.e>o.maxE?(this.e=NaN,this.d=null):e.e<o.minE?(this.e=0,this.d=[0]):(this.e=e.e,this.d=e.d.slice()):(this.e=e.e,this.d=e.d?e.d.slice():e.d);return}if("number"==(i=typeof e)){if(0===e){this.s=1/e<0?-1:1,this.e=0,this.d=[0];return}if(e<0?(e=-e,this.s=-1):this.s=1,e===~~e&&e<1e7){for(r=0,n=e;n>=10;n/=10)r++;l?r>o.maxE?(this.e=NaN,this.d=null):r<o.minE?(this.e=0,this.d=[0]):(this.e=r,this.d=[e]):(this.e=r,this.d=[e]);return}if(0*e!=0){e||(this.s=NaN),this.e=NaN,this.d=null;return}return j(this,e.toString())}if("string"===i)return 45===(n=e.charCodeAt(0))?(e=e.slice(1),this.s=-1):(43===n&&(e=e.slice(1)),this.s=1),D.test(e)?j(this,e):function(e,r){var n,i,a,o,s,u,c,h,d;if(r.indexOf("_")>-1){if(r=r.replace(/(\d)_(?=\d)/g,"$1"),D.test(r))return j(e,r)}else if("Infinity"===r||"NaN"===r)return+r||(e.s=NaN),e.e=NaN,e.d=null,e;if(y.test(r))n=16,r=r.toLowerCase();else if(v.test(r))n=2;else if(b.test(r))n=8;else throw Error(f+r);for((o=r.search(/p/i))>0?(c=+r.slice(o+1),r=r.substring(2,o)):r=r.slice(2),s=(o=r.indexOf("."))>=0,i=e.constructor,s&&(o=(u=(r=r.replace(".","")).length)-o,a=R(i,new i(n),o,2*o)),o=d=(h=M(r,n,1e7)).length-1;0===h[o];--o)h.pop();return o<0?new i(0*e.s):(e.e=T(h,d),e.d=h,l=!1,s&&(e=S(e,a,4*u)),c&&(e=e.times(54>Math.abs(c)?g(2,c):t.pow(2,c))),l=!0,e)}(this,e);if("bigint"===i)return e<0?(e=-e,this.s=-1):this.s=1,j(this,e.toString());throw Error(f+e)}if(o.prototype=w,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=eo,o.clone=e,o.isDecimal=ed,o.abs=Y,o.acos=Z,o.acosh=X,o.add=J,o.asin=Q,o.asinh=K,o.atan=ee,o.atanh=et,o.atan2=er,o.cbrt=en,o.ceil=ei,o.clamp=ea,o.cos=es,o.cosh=eu,o.div=el,o.exp=ec,o.floor=ef,o.hypot=eh,o.ln=ep,o.log=em,o.log10=ev,o.log2=eg,o.max=ey,o.min=eb,o.mod=eD,o.mul=e_,o.pow=ex,o.random=ew,o.round=eE,o.sign=eA,o.sin=eC,o.sinh=eM,o.sqrt=eS,o.sub=eN,o.sum=eF,o.tan=eT,o.tanh=eB,o.trunc=eO,void 0===r&&(r={}),r&&!0!==r.defaults)for(n=0,a=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"];n<a.length;)r.hasOwnProperty(i=a[n++])||(r[i]=this[i]);return o.config(r),o}(u)).prototype.constructor=t,t.default=t.Decimal=t,o=new t(o),s=new t(s),"function"==typeof define&&define.amd?define(function(){return t}):sN?("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator&&(w[Symbol.for("nodejs.util.inspect.custom")]=w.toString,w[Symbol.toStringTag]="Decimal"),sN=t):(e||(e="undefined"!=typeof self&&self&&self.self==self?self:window),n=e.Decimal,t.noConflict=function(){return e.Decimal=n,t},e.Decimal=t)}(sN);var sF=aS("BigNumber",["?on","config"],e=>{var{on:t,config:n}=e,i=r(sN).clone({precision:n.precision,modulo:r(sN).EUCLID});return i.prototype=Object.create(i.prototype),i.prototype.type="BigNumber",i.prototype.isBigNumber=!0,i.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},i.fromJSON=function(e){return new i(e.value)},t&&t("config",function(e,t){e.precision!==t.precision&&i.config({precision:e.precision})}),i},{isClass:!0});function sT(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw Error("Integers expected in function bitAnd");var r=e.constructor;if(e.isNaN()||t.isNaN())return new r(NaN);if(e.isZero()||t.eq(-1)||e.eq(t))return e;if(t.isZero()||e.eq(-1))return t;if(!e.isFinite()||!t.isFinite()){if(!e.isFinite()&&!t.isFinite())return e.isNegative()===t.isNegative()?e:new r(0);if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new r(0):t;if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new r(0):e}return sI(e,t,function(e,t){return e&t})}function sB(e){if(e.isFinite()&&!e.isInteger())throw Error("Integer expected in function bitNot");var t=e.constructor,r=t.precision;t.config({precision:1e9});var n=e.plus(new t(1));return n.s=-n.s||null,t.config({precision:r}),n}function sO(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw Error("Integers expected in function bitOr");var r=e.constructor;if(e.isNaN()||t.isNaN())return new r(NaN);var n=new r(-1);return e.isZero()||t.eq(n)||e.eq(t)?t:t.isZero()||e.eq(n)?e:e.isFinite()&&t.isFinite()?sI(e,t,function(e,t){return e|t}):!e.isFinite()&&!e.isNegative()&&t.isNegative()||e.isNegative()&&!t.isNegative()&&!t.isFinite()?n:e.isNegative()&&t.isNegative()?e.isFinite()?e:t:e.isFinite()?t:e}function sI(e,t,r){var n,i,a,o,s,u=e.constructor,l=+(e.s<0),c=+(t.s<0);if(l){n=sz(sB(e));for(var f=0;f<n.length;++f)n[f]^=1}else n=sz(e);if(c){i=sz(sB(t));for(var h=0;h<i.length;++h)i[h]^=1}else i=sz(t);n.length<=i.length?(a=n,o=i,s=l):(a=i,o=n,s=c);var d=a.length,p=o.length,m=1^r(l,c),g=new u(1^m),v=new u(1),y=new u(2),b=u.precision;for(u.config({precision:1e9});d>0;)r(a[--d],o[--p])===m&&(g=g.plus(v)),v=v.times(y);for(;p>0;)r(s,o[--p])===m&&(g=g.plus(v)),v=v.times(y);return u.config({precision:b}),0===m&&(g.s=-g.s),g}function sz(e){for(var t=e.d,r=t[0]+"",n=1;n<t.length;++n){for(var i=t[n]+"",a=7-i.length;a--;)i="0"+i;r+=i}for(var o=r.length;"0"===r.charAt(o);)o--;var s=e.e,u=r.slice(0,o+1||1),l=u.length;if(s>0)if(++s>l)for(s-=l;s--;)u+="0";else s<l&&(u=u.slice(0,s)+"."+u.slice(s));for(var c=[0],f=0;f<u.length;){for(var h=c.length;h--;)c[h]*=10;c[0]+=parseInt(u.charAt(f++));for(var d=0;d<c.length;++d)c[d]>1&&((null===c[d+1]||void 0===c[d+1])&&(c[d+1]=0),c[d+1]+=c[d]>>1,c[d]&=1)}return c.reverse()}function sR(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw Error("Integers expected in function bitXor");var r=e.constructor;if(e.isNaN()||t.isNaN())return new r(NaN);if(e.isZero())return t;if(t.isZero())return e;if(e.eq(t))return new r(0);var n=new r(-1);return e.eq(n)?sB(t):t.eq(n)?sB(e):e.isFinite()&&t.isFinite()?sI(e,t,function(e,t){return e^t}):e.isFinite()||t.isFinite()?new r(e.isNegative()===t.isNegative()?1/0:-1/0):n}function sk(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw Error("Integers expected in function leftShift");var r=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new r(NaN):e.isZero()||t.isZero()?e:e.isFinite()||t.isFinite()?t.lt(55)?e.times(Math.pow(2,t.toNumber())+""):e.times(new r(2).pow(t)):new r(NaN)}function sL(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw Error("Integers expected in function rightArithShift");var r=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new r(NaN):e.isZero()||t.isZero()?e:t.isFinite()?t.lt(55)?e.div(Math.pow(2,t.toNumber())+"").floor():e.div(new r(2).pow(t)).floor():new r(e.isNegative()?-1:e.isFinite()?0:NaN)}aS("bin",["typed","format"],e=>{var{typed:t,format:r}=e;return t("bin",{"number | BigNumber":function(e){return r(e,{notation:"bin"})},"number | BigNumber, number | BigNumber":function(e,t){return r(e,{notation:"bin",wordSize:t})}})});var sP="number, number";function sq(e,t){if(!aT(e)||!aT(t))throw Error("Integers expected in function bitAnd");return e&t}function sU(e){if(!aT(e))throw Error("Integer expected in function bitNot");return~e}function sj(e,t){if(!aT(e)||!aT(t))throw Error("Integers expected in function bitOr");return e|t}function sH(e,t){if(!aT(e)||!aT(t))throw Error("Integers expected in function bitXor");return e^t}function s$(e,t){if(!aT(e)||!aT(t))throw Error("Integers expected in function leftShift");return e<<t}function sG(e,t){if(!aT(e)||!aT(t))throw Error("Integers expected in function rightArithShift");return e>>t}function sV(e,t){if(!aT(e)||!aT(t))throw Error("Integers expected in function rightLogShift");return e>>>t}sq.signature=sP,sU.signature="number",sj.signature=sP,sH.signature=sP,s$.signature=sP,sG.signature=sP,sV.signature=sP;var sW=aS("matAlgo07xSSf",["typed","SparseMatrix"],e=>{var{typed:t,SparseMatrix:r}=e;return function(e,i,a){var o,s=e._size,u=e._datatype||void 0===e._data?e._datatype:e.getDataType(),l=i._size,c=i._datatype||void 0===i._data?i._datatype:i.getDataType();if(s.length!==l.length)throw new a9(s.length,l.length);if(s[0]!==l[0]||s[1]!==l[1])throw RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+l+")");var f=s[0],h=s[1],d=0,p=a;"string"==typeof u&&u===c&&"mixed"!==u&&(o=u,d=t.convert(0,o),p=t.find(a,[o,o]));for(var m=[],g=[],v=Array(h+1).fill(0),y=[],b=[],D=[],_=[],x=0;x<h;x++){var w=x+1,E=0;n(e,x,D,y,w),n(i,x,_,b,w);for(var A=0;A<f;A++){var C=p(D[A]===w?y[A]:d,_[A]===w?b[A]:d);0!==C&&!1!==C&&(g.push(A),m.push(C),E++)}v[x+1]=v[x]+E}return new r({values:m,index:g,ptr:v,size:[f,h],datatype:u===e._datatype&&c===i._datatype?o:void 0})};function n(e,t,r,n,i){for(var a=e._values,o=e._index,s=e._ptr,u=s[t],l=s[t+1];u<l;u++){var c=o[u];r[c]=i,n[c]=a[u]}}}),sY="cbrt";function sZ(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-9,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(r<=0)throw Error("Relative tolerance must be greater than 0");if(n<0)throw Error("Absolute tolerance must be at least 0");return!(e.isNaN()||t.isNaN())&&(e.isFinite()&&t.isFinite()?!!e.eq(t)||e.minus(t).abs().lte(e.constructor.max(e.constructor.max(e.abs(),t.abs()).mul(r),n)):e.eq(t))}e=>{var{config:t,typed:r,isNegative:n,unaryMinus:i,matrix:a,Complex:o,BigNumber:s,Fraction:u}=e;return r(sY,{number:oP,Complex:l,"Complex, boolean":l,BigNumber:function(e){return e.cbrt()},Unit:function(e){if(e.value&&iY(e.value)){var t=e.clone();return t.value=1,(t=t.pow(1/3)).value=l(e.value),t}var r,a=n(e.value);a&&(e.value=i(e.value)),r=iV(e.value)?new s(1).div(3):iZ(e.value)?new u(1,3):1/3;var o=e.pow(r);return a&&(o.value=i(o.value)),o}});function l(e,r){var n=e.arg()/3,i=e.abs(),s=new o(oP(i),0).mul(new o(0,n).exp());if(!r)return s;var u=[s,new o(oP(i),0).mul(new o(0,n+2*Math.PI/3).exp()),new o(oP(i),0).mul(new o(0,n-2*Math.PI/3).exp())];return"Array"===t.matrix?u:a(u)}};var sX="ceil",sJ=new(r(sN))(10),sQ=aS(sX,["typed","config","round"],e=>{var{typed:t,config:r,round:n}=e;function i(e){var t=Math.ceil(e),i=n(e);return t===i?t:aW(e,i,r.relTol,r.absTol)&&!aW(e,t,r.relTol,r.absTol)?i:t}return t(sX,{number:i,"number, number":function(e,t){if(!aT(t))throw RangeError("number of decimals in function ceil must be an integer");if(t<0||t>15)throw RangeError("number of decimals in ceil number must be in range 0-15");var r=10**t;return i(e*r)/r}})}),sK=aS(sX,["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],e=>{var{typed:t,config:r,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:s}=e,u=sg({typed:t,equalScalar:a}),l=sC({typed:t,DenseMatrix:s}),c=sl({typed:t}),f=sQ({typed:t,config:r,round:n});function h(e){var t=(e,t)=>sZ(e,t,r.relTol,r.absTol),i=e.ceil(),a=n(e);return i.eq(a)?i:t(e,a)&&!t(e,i)?a:i}return t("ceil",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(e){return e.ceil()},"Complex, number":function(e,t){return e.ceil(t)},"Complex, BigNumber":function(e,t){return e.ceil(t.toNumber())},BigNumber:h,"BigNumber, BigNumber":function(e,t){var r=sJ.pow(t);return h(e.mul(r)).div(r)},bigint:e=>e,"bigint, number":(e,t)=>e,"bigint, BigNumber":(e,t)=>e,Fraction:function(e){return e.ceil()},"Fraction, number":function(e,t){return e.ceil(t)},"Fraction, BigNumber":function(e,t){return e.ceil(t.toNumber())},"Unit, number, Unit":t.referToSelf(e=>function(t,r,n){var i=t.toNumeric(n);return n.multiply(e(i,r))}),"Unit, BigNumber, Unit":t.referToSelf(e=>(t,r,n)=>e(t,r.toNumber(),n)),"Array | Matrix, number | BigNumber, Unit":t.referToSelf(e=>(t,r,n)=>oM(t,t=>e(t,r,n),!0)),"Array | Matrix | Unit, Unit":t.referToSelf(e=>(t,r)=>e(t,0,r)),"Array | Matrix":t.referToSelf(e=>t=>oM(t,e,!0)),"Array, number | BigNumber":t.referToSelf(e=>(t,r)=>oM(t,t=>e(t,r),!0)),"SparseMatrix, number | BigNumber":t.referToSelf(e=>(t,r)=>u(t,r,e,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(e=>(t,r)=>c(t,r,e,!1)),"number | Complex | Fraction | BigNumber, Array":t.referToSelf(e=>(t,r)=>c(i(r),t,e,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":t.referToSelf(e=>(t,r)=>a(t,0)?o(r.size(),r.storage()):"dense"===r.storage()?c(r,t,e,!0):l(r,t,e,!0))})}),s0="column",s1=aS(s0,["typed","Index","matrix","range"],e=>{var{typed:t,Index:r,matrix:n,range:i}=e;return t(s0,{"Matrix, number":a,"Array, number":function(e,t){return a(n(aw(e)),t).valueOf()}});function a(e,t){if(2!==e.size().length)throw Error("Only two dimensional matrix is supported");on(t,e.size()[1]);var a=new r(i(0,e.size()[0]),t),o=e.subset(a);return iK(o)?o:n([[o]])}});function s2(e,t){if(t<e)return 1;if(t===e)return t;var r=t+e>>1;return s2(e,r)*s2(r+1,t)}function s8(e,t){if(!aT(e)||e<0||!aT(t)||t<0)throw TypeError("Positive integer value expected in function combinations");if(t>e)throw TypeError("k must be less than or equal to n");for(var r=e-t,n=1,i=t<r?r+1:t+1,a=2,o=t<r?t:r,s=i;s<=e;++s)for(n*=s;a<=o&&n%a==0;)n/=a,++a;return a<=o&&(n/=s2(a,o)),n}s8.signature="number, number";var s3="combinations",s5=aS(s3,["typed"],e=>{var{typed:t}=e;return t(s3,{"number, number":s8,"BigNumber, BigNumber":function(e,t){var r,n,i=e.constructor,a=e.minus(t),o=new i(1);if(!s6(e)||!s6(t))throw TypeError("Positive integer value expected in function combinations");if(t.gt(e))throw TypeError("k must be less than n in function combinations");if(r=o,t.lt(a))for(n=o;n.lte(a);n=n.plus(o))r=r.times(t.plus(n)).dividedBy(n);else for(n=o;n.lte(t);n=n.plus(o))r=r.times(a.plus(n)).dividedBy(n);return r}})});function s6(e){return e.isInteger()&&e.gte(0)}function s4(e){return e.isInteger()&&e.gte(0)}var s7=aS("matAlgo05xSfSf",["typed","equalScalar"],e=>{var{typed:t,equalScalar:r}=e;return function(e,n,i){var a,o,s,u,l,c=e._values,f=e._index,h=e._ptr,d=e._size,p=e._datatype||void 0===e._data?e._datatype:e.getDataType(),m=n._values,g=n._index,v=n._ptr,y=n._size,b=n._datatype||void 0===n._data?n._datatype:n.getDataType();if(d.length!==y.length)throw new a9(d.length,y.length);if(d[0]!==y[0]||d[1]!==y[1])throw RangeError("Dimension mismatch. Matrix A ("+d+") must match Matrix B ("+y+")");var D=d[0],_=d[1],x=r,w=0,E=i;"string"==typeof p&&p===b&&"mixed"!==p&&(a=p,x=t.find(r,[a,a]),w=t.convert(0,a),E=t.find(i,[a,a]));var A=c&&m?[]:void 0,C=[],M=[],S=A?[]:void 0,N=A?[]:void 0,F=[],T=[];for(s=0;s<_;s++){M[s]=C.length;var B=s+1;for(u=h[s],l=h[s+1];u<l;u++)o=f[u],C.push(o),F[o]=B,S&&(S[o]=c[u]);for(u=v[s],l=v[s+1];u<l;u++)F[o=g[u]]!==B&&C.push(o),T[o]=B,N&&(N[o]=m[u]);if(A)for(u=M[s];u<C.length;){var O=F[o=C[u]],I=T[o];if(O===B||I===B){var z=E(O===B?S[o]:w,I===B?N[o]:w);x(z,w)?C.splice(u,1):(A.push(z),u++)}}}return M[_]=C.length,e.createSparseMatrix({values:A,index:C,ptr:M,size:[D,_],datatype:p===e._datatype&&b===n._datatype?a:void 0})}}),s9=aS("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(e=>(r,n)=>{if(!r.equalBase(n))throw Error("Cannot compare units with different base");return t.find(e,[r.valueType(),n.valueType()])(r.value,n.value)})}}),ue="compare",ut=aS(ue,["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],e=>{var{typed:t,config:r,equalScalar:n,matrix:i,BigNumber:a,Fraction:o,DenseMatrix:s,concat:u}=e,l=sE({typed:t}),c=s7({typed:t,equalScalar:n}),f=sC({typed:t,DenseMatrix:s}),h=sf({typed:t,matrix:i,concat:u}),d=s9({typed:t});return t(ue,ur({typed:t,config:r}),{"boolean, boolean":function(e,t){return e===t?0:e>t?1:-1},"BigNumber, BigNumber":function(e,t){return new a(sZ(e,t,r.relTol,r.absTol)?0:e.cmp(t))},"bigint, bigint":function(e,t){return e===t?0n:e>t?1n:-1n},"Fraction, Fraction":function(e,t){return new o(e.compare(t))},"Complex, Complex":function(){throw TypeError("No ordering relation is defined for complex numbers")}},d,h({SS:c,DS:l,Ss:f}))}),ur=aS(ue,["typed","config"],e=>{var{typed:t,config:r}=e;return t(ue,{"number, number":function(e,t){return aW(e,t,r.relTol,r.absTol)?0:e>t?1:-1}})}),un={};un=function e(t,r){var n,i,a=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,o=/(^[ ]*|[ ]*$)/g,s=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,u=/^0x[0-9a-f]+$/i,l=/^0/,c=function(t){return e.insensitive&&(""+t).toLowerCase()||""+t},f=c(t).replace(o,"")||"",h=c(r).replace(o,"")||"",d=f.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),p=h.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(f.match(u),16)||1!==d.length&&f.match(s)&&Date.parse(f),g=parseInt(h.match(u),16)||m&&h.match(s)&&Date.parse(h)||null;if(g){if(m<g)return -1;else if(m>g)return 1}for(var v=0,y=Math.max(d.length,p.length);v<y;v++){if(n=!(d[v]||"").match(l)&&parseFloat(d[v])||d[v]||0,i=!(p[v]||"").match(l)&&parseFloat(p[v])||p[v]||0,isNaN(n)!==isNaN(i))return isNaN(n)?1:-1;if(typeof n!=typeof i&&(n+="",i+=""),n<i)return -1;if(n>i)return 1}return 0};var ui="compareNatural",ua=aS(ui,["typed","compare"],e=>{var{typed:t,compare:n}=e,i=n.signatures["boolean,boolean"];return t(ui,{"any, any":function e(t,o){var s,u,l,c=ax(t),f=ax(o);if(("number"===c||"BigNumber"===c||"Fraction"===c)&&("number"===f||"BigNumber"===f||"Fraction"===f))return"0"!==(l=n(t,o)).toString()?l>0?1:-1:r(un)(c,f);var h=["Array","DenseMatrix","SparseMatrix"];if(h.includes(c)||h.includes(f))return 0!==(l=function e(t,r,n){return i2(r)&&i2(n)?a(t,r.toJSON().values,n.toJSON().values):i2(r)?e(t,r.toArray(),n):i2(n)?e(t,r,n.toArray()):i1(r)?e(t,r.toJSON().data,n):i1(n)?e(t,r,n.toJSON().data):Array.isArray(r)?Array.isArray(n)?a(t,r,n):e(t,r,[n]):e(t,[r],n)}(e,t,o))?l:r(un)(c,f);if(c!==f)return r(un)(c,f);if("Complex"===c){return s=t,u=o,s.re>u.re?1:s.re<u.re?-1:s.im>u.im?1:s.im<u.im?-1:0}if("Unit"===c)return t.equalBase(o)?e(t.value,o.value):a(e,t.formatUnits(),o.formatUnits());if("boolean"===c)return i(t,o);if("string"===c)return r(un)(t,o);if("Object"===c)return function(e,t,n){var i=Object.keys(t),o=Object.keys(n);i.sort(r(un)),o.sort(r(un));var s=a(e,i,o);if(0!==s)return s;for(var u=0;u<i.length;u++){var l=e(t[i[u]],n[o[u]]);if(0!==l)return l}return 0}(e,t,o);if("null"===c||"undefined"===c)return 0;throw TypeError('Unsupported type of value "'+c+'"')}});function a(e,t,r){for(var n=0,i=Math.min(t.length,r.length);n<i;n++){var a=e(t[n],r[n]);if(0!==a)return a}return t.length>r.length?1:t.length<r.length?-1:0}}),uo="compareText";a7.signature="any, any",e=>{var{typed:t,matrix:r,concat:n}=e,i=sf({typed:t,matrix:r,concat:n});return t(uo,a7,i({elop:a7,Ds:!0}))};var us=aS("complex",["typed","Complex"],e=>{var{typed:t,Complex:r}=e;return t("complex",{"":function(){return r.ZERO},number:function(e){return new r(e,0)},"number, number":function(e,t){return new r(e,t)},"BigNumber, BigNumber":function(e,t){return new r(e.toNumber(),t.toNumber())},Fraction:function(e){return new r(e.valueOf(),0)},Complex:function(e){return e.clone()},string:function(e){return r(e)},null:function(e){return r(0)},Object:function(e){if("re"in e&&"im"in e)return new r(e.re,e.im);if("r"in e&&"phi"in e||"abs"in e&&"arg"in e)return new r(e);throw Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":t.referToSelf(e=>t=>oM(t,e))})}),uu={};!function(e){function t(e,t){if(null==e)u.re=u.im=0;else if(void 0!==t)u.re=e,u.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)u.re=e.re,u.im=e.im;else if("abs"in e&&"arg"in e){if(!isFinite(e.abs)&&isFinite(e.arg))return a.INFINITY;u.re=e.abs*Math.cos(e.arg),u.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!isFinite(e.r)&&isFinite(e.phi))return a.INFINITY;u.re=e.r*Math.cos(e.phi),u.im=e.r*Math.sin(e.phi)}else 2===e.length?(u.re=e[0],u.im=e[1]):r();break;case"string":u.im=u.re=0,e=e.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),t=1;let n=0;null===e&&r();for(let i=0;i<e.length;i++){let a=e[i];" "!==a&&"	"!==a&&"\n"!==a&&("+"===a?t++:"-"===a?n++:("i"===a||"I"===a?(0===t+n&&r()," "===e[i+1]||isNaN(e[i+1])?u.im+=parseFloat((n%2?"-":"")+"1"):(u.im+=parseFloat((n%2?"-":"")+e[i+1]),i++)):((0===t+n||isNaN(a))&&r(),"i"===e[i+1]||"I"===e[i+1]?(u.im+=parseFloat((n%2?"-":"")+a),i++):u.re+=parseFloat((n%2?"-":"")+a)),t=n=0))}0<t+n&&r();break;case"number":u.im=0,u.re=e;break;default:r()}return u}function r(){throw SyntaxError("Invalid Param")}function n(e,t){return((e=Math.abs(e))<(t=Math.abs(t))&&([e,t]=[t,e]),1e8>e)?Math.sqrt(e*e+t*t):(t/=e,e*Math.sqrt(1+t*t))}function i(e,t){let r=Math.abs(e),n=Math.abs(t);return 0===e?Math.log(n):0===t?Math.log(r):3e3>r&&3e3>n?.5*Math.log(e*e+t*t):.5*Math.log((e*=.5)*e+(t*=.5)*t)+Math.LN2}function a(e,r){if(!(this instanceof a))return new a(e,r);e=t(e,r),this.re=e.re,this.im=e.im}let o=Math.cosh||function(e){return 1e-9>Math.abs(e)?1-e:.5*(Math.exp(e)+Math.exp(-e))},s=Math.sinh||function(e){return 1e-9>Math.abs(e)?e:.5*(Math.exp(e)-Math.exp(-e))},u={re:0,im:0};a.prototype={re:0,im:0,sign:function(){let e=n(this.re,this.im);return new a(this.re/e,this.im/e)},add:function(e,r){e=t(e,r),r=this.isInfinite();let n=!(isFinite(e.re)&&isFinite(e.im));return r||n?r&&n?a.NAN:a.INFINITY:new a(this.re+e.re,this.im+e.im)},sub:function(e,r){e=t(e,r),r=this.isInfinite();let n=!(isFinite(e.re)&&isFinite(e.im));return r||n?r&&n?a.NAN:a.INFINITY:new a(this.re-e.re,this.im-e.im)},mul:function(e,r){e=t(e,r),r=this.isInfinite();let n=!(isFinite(e.re)&&isFinite(e.im)),i=0===this.re&&0===this.im,o=0===e.re&&0===e.im;return r&&o||n&&i?a.NAN:r||n?a.INFINITY:0===e.im&&0===this.im?new a(this.re*e.re,0):new a(this.re*e.re-this.im*e.im,this.re*e.im+this.im*e.re)},div:function(e,r){e=t(e,r),r=this.isInfinite();let n=!(isFinite(e.re)&&isFinite(e.im)),i=0===this.re&&0===this.im,o=0===e.re&&0===e.im;return i&&o||r&&n?a.NAN:o||r?a.INFINITY:i||n?a.ZERO:0===e.im?new a(this.re/e.re,this.im/e.re):Math.abs(e.re)<Math.abs(e.im)?(r=e.re/e.im,e=e.re*r+e.im,new a((this.re*r+this.im)/e,(this.im*r-this.re)/e)):(r=e.im/e.re,e=e.im*r+e.re,new a((this.re+this.im*r)/e,(this.im-this.re*r)/e))},pow:function(e,r){if(e=t(e,r),r=0===this.re&&0===this.im,0===e.re&&0===e.im)return a.ONE;if(0===e.im){if(0===this.im&&0<this.re)return new a(Math.pow(this.re,e.re),0);if(0===this.re)switch((e.re%4+4)%4){case 0:return new a(Math.pow(this.im,e.re),0);case 1:return new a(0,Math.pow(this.im,e.re));case 2:return new a(-Math.pow(this.im,e.re),0);case 3:return new a(0,-Math.pow(this.im,e.re))}}if(r&&0<e.re)return a.ZERO;let n=Math.atan2(this.im,this.re),o=i(this.re,this.im);return new a((r=Math.exp(e.re*o-e.im*n))*Math.cos(e=e.im*o+e.re*n),r*Math.sin(e))},sqrt:function(){let e=this.re,t=this.im;if(0===t)return 0<=e?new a(Math.sqrt(e),0):new a(0,Math.sqrt(-e));var r=n(e,t);let i=Math.abs(t)/(2*(r=Math.sqrt(.5*(r+Math.abs(e)))));return 0<=e?new a(r,0>t?-i:i):new a(i,0>t?-r:r)},exp:function(){let e=Math.exp(this.re);return 0===this.im?new a(e,0):new a(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){let e=this.re,t=this.im;var r=Math.expm1(e)*Math.cos(t),n=Math.PI/4;return-n>t||t>n?n=Math.cos(t)-1:(n=t*t,n*=n*(n*(n*(n*(n*(n*(n/20922789888e3-1/0x144c3b2800)+1/0x1c8cfc00)-1/3628800)+1/40320)-1/720)+1/24)-.5),new a(r+n,Math.exp(e)*Math.sin(t))},log:function(){let e=this.re,t=this.im;return 0===t&&0<e?new a(Math.log(e),0):new a(i(e,t),Math.atan2(t,e))},abs:function(){return n(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){let e=this.re,t=this.im;return new a(Math.sin(e)*o(t),Math.cos(e)*s(t))},cos:function(){let e=this.re,t=this.im;return new a(Math.cos(e)*o(t),-Math.sin(e)*s(t))},tan:function(){let e=2*this.re,t=2*this.im,r=Math.cos(e)+o(t);return new a(Math.sin(e)/r,s(t)/r)},cot:function(){let e=2*this.re,t=2*this.im,r=Math.cos(e)-o(t);return new a(-Math.sin(e)/r,s(t)/r)},sec:function(){let e=this.re,t=this.im,r=.5*o(2*t)+.5*Math.cos(2*e);return new a(Math.cos(e)*o(t)/r,Math.sin(e)*s(t)/r)},csc:function(){let e=this.re,t=this.im,r=.5*o(2*t)-.5*Math.cos(2*e);return new a(Math.sin(e)*o(t)/r,-Math.cos(e)*s(t)/r)},asin:function(){var e=this.re;let t=this.im,r=new a(t*t-e*e+1,-2*e*t).sqrt();return e=new a(r.re-t,r.im+e).log(),new a(e.im,-e.re)},acos:function(){var e=this.re;let t=this.im,r=new a(t*t-e*e+1,-2*e*t).sqrt();return e=new a(r.re-t,r.im+e).log(),new a(Math.PI/2-e.im,e.re)},atan:function(){var e=this.re;let t=this.im;if(0===e){if(1===t)return new a(0,1/0);if(-1===t)return new a(0,-1/0)}let r=e*e+(1-t)*(1-t);return e=new a((1-t*t-e*e)/r,-2*e/r).log(),new a(-.5*e.im,.5*e.re)},acot:function(){let e=this.re,t=this.im;if(0===t)return new a(Math.atan2(1,e),0);let r=e*e+t*t;return 0!==r?new a(e/r,-t/r).atan():new a(0!==e?e/0:0,0!==t?-t/0:0).atan()},asec:function(){let e=this.re,t=this.im;if(0===e&&0===t)return new a(0,1/0);let r=e*e+t*t;return 0!==r?new a(e/r,-t/r).acos():new a(0!==e?e/0:0,0!==t?-t/0:0).acos()},acsc:function(){let e=this.re,t=this.im;if(0===e&&0===t)return new a(Math.PI/2,1/0);let r=e*e+t*t;return 0!==r?new a(e/r,-t/r).asin():new a(0!==e?e/0:0,0!==t?-t/0:0).asin()},sinh:function(){let e=this.re,t=this.im;return new a(s(e)*Math.cos(t),o(e)*Math.sin(t))},cosh:function(){let e=this.re,t=this.im;return new a(o(e)*Math.cos(t),s(e)*Math.sin(t))},tanh:function(){let e=2*this.re,t=2*this.im,r=o(e)+Math.cos(t);return new a(s(e)/r,Math.sin(t)/r)},coth:function(){let e=2*this.re,t=2*this.im,r=o(e)-Math.cos(t);return new a(s(e)/r,-Math.sin(t)/r)},csch:function(){let e=this.re,t=this.im,r=Math.cos(2*t)-o(2*e);return new a(-2*s(e)*Math.cos(t)/r,2*o(e)*Math.sin(t)/r)},sech:function(){let e=this.re,t=this.im,r=Math.cos(2*t)+o(2*e);return new a(2*o(e)*Math.cos(t)/r,-2*s(e)*Math.sin(t)/r)},asinh:function(){let e=this.im;this.im=-this.re,this.re=e;let t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){let e=this.acos();if(0>=e.im){var t=e.re;e.re=-e.im,e.im=t}else t=e.im,e.im=-e.re,e.re=t;return e},atanh:function(){var e=this.re,t=this.im;let r=1<e&&0===t,n=1-e,o=1+e,s=n*n+t*t;return t=(e=0!==s?new a((o*n-t*t)/s,(t*n+o*t)/s):new a(-1!==e?e/0:0,0!==t?t/0:0)).re,e.re=i(e.re,e.im)/2,e.im=Math.atan2(e.im,t)/2,r&&(e.im=-e.im),e},acoth:function(){let e=this.re,t=this.im;if(0===e&&0===t)return new a(0,Math.PI/2);let r=e*e+t*t;return 0!==r?new a(e/r,-t/r).atanh():new a(0!==e?e/0:0,0!==t?-t/0:0).atanh()},acsch:function(){let e=this.re,t=this.im;if(0===t)return new a(0!==e?Math.log(e+Math.sqrt(e*e+1)):1/0,0);let r=e*e+t*t;return 0!==r?new a(e/r,-t/r).asinh():new a(0!==e?e/0:0,0!==t?-t/0:0).asinh()},asech:function(){let e=this.re,t=this.im;if(this.isZero())return a.INFINITY;let r=e*e+t*t;return 0!==r?new a(e/r,-t/r).acosh():new a(0!==e?e/0:0,0!==t?-t/0:0).acosh()},inverse:function(){if(this.isZero())return a.INFINITY;if(this.isInfinite())return a.ZERO;let e=this.re,t=this.im,r=e*e+t*t;return new a(e/r,-t/r)},conjugate:function(){return new a(this.re,-this.im)},neg:function(){return new a(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new a(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new a(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new a(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,r){return Math.abs((e=t(e,r)).re-this.re)<=a.EPSILON&&Math.abs(e.im-this.im)<=a.EPSILON},clone:function(){return new a(this.re,this.im)},toString:function(){let e=this.re,t=this.im,r="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<a.EPSILON&&(e=0),Math.abs(t)<a.EPSILON&&(t=0),0===t)?r+e:(0!==e?(r=r+e+" ",0>t?(t=-t,r+="-"):r+="+",r+=" "):0>t&&(t=-t,r+="-"),1!==t&&(r+=t),r+"i")},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}},a.ZERO=new a(0,0),a.ONE=new a(1,0),a.I=new a(0,1),a.PI=new a(Math.PI,0),a.E=new a(Math.E,0),a.INFINITY=new a(1/0,1/0),a.NAN=new a(NaN,NaN),a.EPSILON=1e-15,"function"==typeof define&&define.amd?define([],function(){return a}):(Object.defineProperty(a,"__esModule",{value:!0}),a.default=a,a.Complex=a,uu=a)}(0);var ul=aS("Complex",[],()=>(Object.defineProperty(r(uu),"name",{value:"Complex"}),r(uu).prototype.constructor=r(uu),r(uu).prototype.type="Complex",r(uu).prototype.isComplex=!0,r(uu).prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},r(uu).prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},r(uu).prototype.format=function(e){var t="",r=this.im,n=this.re,i=aq(this.re,e),a=aq(this.im,e),o=iG(e)?e:e?e.precision:null;if(null!==o){var s=Math.pow(10,-o);Math.abs(n/r)<s&&(n=0),Math.abs(r/n)<s&&(r=0)}return 0===r?i:0===n?1===r?"i":-1===r?"-i":a+"i":r<0?-1===r?i+" - i":i+" - "+a.substring(1)+"i":1===r?i+" + i":i+" + "+a+"i"},r(uu).fromPolar=function(e){switch(arguments.length){case 1:var t=arguments[0];if("object"==typeof t)return r(uu)(t);throw TypeError("Input has to be an object with r and phi keys.");case 2:var n=arguments[0],i=arguments[1];if(iG(n)){if(iX(i)&&i.hasBase("ANGLE")&&(i=i.toNumber("rad")),iG(i))return new(r(uu))({r:n,phi:i});throw TypeError("Phi is not a number nor an angle unit.")}throw TypeError("Radius r is not a number.");default:throw SyntaxError("Wrong number of arguments in function fromPolar")}},r(uu).prototype.valueOf=r(uu).prototype.toString,r(uu).fromJSON=function(e){return new(r(uu))(e)},r(uu).compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},r(uu)),{isClass:!0}),uc="concat",uf=aS(uc,["typed","matrix","isInteger"],e=>{var{typed:t,matrix:r,isInteger:n}=e;return t(uc,{"...Array | Matrix | number | BigNumber":function(e){var t,i,a=e.length,o=-1,s=!1,u=[];for(t=0;t<a;t++){var l=e[t];if(iK(l)&&(s=!0),iG(l)||iV(l)){if(t!==a-1)throw Error("Dimension must be specified as last argument");if(i=o,!n(o=l.valueOf()))throw TypeError("Integer number expected for dimension");if(o<0||t>0&&o>i)throw new aF(o,i+1)}else{var c=aw(l).valueOf(),f=oe(c);if(u[t]=c,i=o,o=f.length-1,t>0&&o!==i)throw new a9(i+1,o+1)}}if(0===u.length)throw SyntaxError("At least one matrix expected");for(var h=u.shift();u.length;)h=ov(h,u.shift(),o);return s?r(h):h},"...string":function(e){return e.join("")}})}),uh="conj",ud=aS(uh,["typed"],e=>{var{typed:t}=e;return t(uh,{"number | BigNumber | Fraction":e=>e,Complex:e=>e.conjugate(),"Array | Matrix":t.referToSelf(e=>t=>oM(t,e))})}),up=aS("trigUnit",["typed"],e=>{var{typed:t}=e;return{Unit:t.referToSelf(e=>r=>{if(!r.hasBase(r.constructor.BASE_UNITS.ANGLE))throw TypeError("Unit in function cot is no angle");return t.find(e,r.valueType())(r.value)})}}),um=aS("cos",["typed"],e=>{var{typed:t}=e,r=up({typed:t});return t("cos",{number:Math.cos,"Complex | BigNumber":e=>e.cos()},r)}),ug="ctranspose",uv=aS(ug,["typed","transpose","conj"],e=>{var{typed:t,transpose:r,conj:n}=e;return t(ug,{any:function(e){return n(r(e))}})});function uy(e,t,r){var n;return String(e).includes("Unexpected type")?(n=arguments.length>2?" (type: "+ax(r)+", value: "+JSON.stringify(r)+")":" (type: "+e.data.actual+")",TypeError("Cannot calculate "+t+", unexpected type of argument"+n)):String(e).includes("complex numbers")?(n=arguments.length>2?" (type: "+ax(r)+", value: "+JSON.stringify(r)+")":"",TypeError("Cannot calculate "+t+", no ordering relation is defined for complex numbers"+n)):e}var ub="cumsum",uD="deepEqual",u_=(e=>{var{typed:t,equal:r}=e;return t(uD,{"any, any":function(e,t){return function e(t,n){if(Array.isArray(t))if(!Array.isArray(n))return!1;else{var i=t.length;if(i!==n.length)return!1;for(var a=0;a<i;a++)if(!e(t[a],n[a]))return!1;return!0}return!Array.isArray(n)&&r(t,n)}(e.valueOf(),t.valueOf())}})},{});function ux(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(r(u_).isTypedFunction(e)){if(i)a=1;else{var a,o,s=(t.isMatrix?t.size():oe(t)).map(()=>0);a=function(e,t,n,i){for(var a=[t,n,i],o=3;o>0;o--){var s=a.slice(0,o);if(null!==r(u_).resolve(e,s))return o}}(e,t.isMatrix?t.get(s):o_(t,s),s,t)}if(t.isMatrix&&"mixed"!==t.dataType&&void 0!==t.dataType){var u=function(e,t){var r=[];if(Object.entries(e.signatures).forEach(e=>{var[n,i]=e;n.split(",").length===t&&r.push(i)}),1===r.length)return r[0]}(e,a);o=void 0!==u?u:e}else o=e;return a>=1&&a<=3?{isUnary:1===a,fn:function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return uw(o,r.slice(0,a),n,e.name)}}:{isUnary:!1,fn:function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];return uw(o,r,n,e.name)}}}return void 0===i?{isUnary:function(e){if(1!==e.length)return!1;var t=e.toString();if(/arguments/.test(t))return!1;var r=t.match(/\(.*?\)/);return!/\.\.\./.test(r)}(e),fn:e}:{isUnary:i,fn:e}}function uw(e,t,r,n){try{return e(...t)}catch(e){var i,a=e,o=t,s=r,u=n;if(a instanceof TypeError&&(null==(i=a.data)?void 0:i.category)==="wrongType"){var l=[];throw l.push("value: ".concat(ax(o[0]))),o.length>=2&&l.push("index: ".concat(ax(o[1]))),o.length>=3&&l.push("array: ".concat(ax(o[2]))),TypeError("Function ".concat(s," cannot apply callback arguments ")+"".concat(u,"(").concat(l.join(", "),") at index ").concat(JSON.stringify(o[1])))}throw TypeError("Function ".concat(s," cannot apply callback arguments ")+"to function ".concat(u,": ").concat(a.message))}}u_=function(){function e(){return!0}function t(){return!1}function r(){}let n="Argument is not a typed-function.";return function i(){let a,o;function s(e){return"object"==typeof e&&null!==e&&e.constructor===Object}let u=[{name:"number",test:function(e){return"number"==typeof e}},{name:"string",test:function(e){return"string"==typeof e}},{name:"boolean",test:function(e){return"boolean"==typeof e}},{name:"Function",test:function(e){return"function"==typeof e}},{name:"Array",test:Array.isArray},{name:"Date",test:function(e){return e instanceof Date}},{name:"RegExp",test:function(e){return e instanceof RegExp}},{name:"Object",test:s},{name:"null",test:function(e){return null===e}},{name:"undefined",test:function(e){return void 0===e}}],l={name:"any",test:e,isAny:!0},c=0,f={createCount:0};function h(e){let t,r=a.get(e);if(r)return r;let n='Unknown type "'+e+'"',i=e.toLowerCase();for(t of o)if(t.toLowerCase()===i){n+='. Did you mean "'+t+'" ?';break}throw TypeError(n)}function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any",r=t?h(t).index:o.length,n=[];for(let t=0;t<e.length;++t){if(!e[t]||"string"!=typeof e[t].name||"function"!=typeof e[t].test)throw TypeError("Object with properties {name: string, test: function} expected");let i=e[t].name;if(a.has(i))throw TypeError('Duplicate type name "'+i+'"');n.push(i),a.set(i,{name:i,test:e[t].test,isAny:e[t].isAny,index:r+t,conversionsTo:[]})}let i=o.slice(r);o=o.slice(0,r).concat(n).concat(i);for(let e=r+n.length;e<o.length;++e)a.get(o[e]).index=e}function p(){a=new Map,o=[],c=0,d([l],!1)}function m(e){let t=o.filter(t=>{let r=a.get(t);return!r.isAny&&r.test(e)});return t.length?t:["any"]}function g(e){return e&&"function"==typeof e&&"_typedFunctionData"in e}function v(e,t,r){let i,a;if(!g(e))throw TypeError(n);let o=r&&r.exact,s=_(Array.isArray(t)?t.join(","):t),u=y(s);if(!o||u in e.signatures){let t=e._typedFunctionData.signatureMap.get(u);if(t)return t}let l=s.length;if(o){let t;for(t in i=[],e.signatures)i.push(e._typedFunctionData.signatureMap.get(t))}else i=e._typedFunctionData.signatures;for(let e=0;e<l;++e){let t,r=s[e],n=[];for(t of i){let i=E(t.params,e);if(i&&(!r.restParam||i.restParam)){if(!i.hasAny){let e=D(i);if(r.types.some(t=>!e.has(t.name)))continue}n.push(t)}}if(0===(i=n).length)break}for(a of i)if(a.params.length<=l)return a;throw TypeError("Signature not found (signature: "+(e.name||"unnamed")+"("+y(s,", ")+"))")}function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return e.map(e=>e.name).join(t)}function b(e){let t=function(e){if(0===e.length)return[];let t=e.map(h);e.length>1&&t.sort((e,t)=>e.index-t.index);let r=t[0].conversionsTo;if(1===e.length)return r;r=r.concat([]);let n=new Set(e);for(let e=1;e<t.length;++e){let i;for(i of t[e].conversionsTo)n.has(i.from)||(r.push(i),n.add(i.from))}return r}(e.types.map(e=>e.name)),r=e.hasAny,n=e.name,i=t.map(function(e){let t=h(e.from);return r=t.isAny||r,n+="|"+e.from,{name:e.from,typeIndex:t.index,test:t.test,isAny:t.isAny,conversion:e,conversionIndex:e.index}});return{types:e.types.concat(i),name:n,hasAny:r,hasConversion:i.length>0,restParam:e.restParam}}function D(e){return e.typeSet||(e.typeSet=new Set,e.types.forEach(t=>e.typeSet.add(t.name))),e.typeSet}function _(e){let t=[];if("string"!=typeof e)throw TypeError("Signatures must be strings");let r=e.trim();if(""===r)return t;let n=r.split(",");for(let e=0;e<n.length;++e){let r=function(e){let t=0===e.indexOf("..."),r=(t?e.length>3?e.slice(3):"any":e).split("|").map(e=>h(e.trim())),n=!1,i=t?"...":"";return{types:r.map(function(e){return n=e.isAny||n,i+=e.name+"|",{name:e.name,typeIndex:e.index,test:e.test,isAny:e.isAny,conversion:null,conversionIndex:-1}}),name:i.slice(0,-1),hasAny:n,hasConversion:!1,restParam:t}}(n[e].trim());if(r.restParam&&e!==n.length-1)throw SyntaxError('Unexpected rest parameter "'+n[e]+'": only allowed for the last parameter');if(0===r.types.length)return null;t.push(r)}return t}function x(e){let t=z(e);return!!t&&t.restParam}function w(t){if(!t||0===t.types.length)return e;if(1===t.types.length)return h(t.types[0].name).test;if(2===t.types.length){let e=h(t.types[0].name).test,r=h(t.types[1].name).test;return function(t){return e(t)||r(t)}}{let e=t.types.map(function(e){return h(e.name).test});return function(t){for(let r=0;r<e.length;r++)if(e[r](t))return!0;return!1}}}function E(e,t){return t<e.length?e[t]:x(e)?z(e):null}function A(e,t){let r=E(e,t);return r?D(r):new Set}function C(e){return null===e.conversion||void 0===e.conversion}function M(e,t){let r=new Set;return e.forEach(e=>{let n;for(n of A(e.params,t))r.add(n)}),r.has("any")?["any"]:Array.from(r)}function S(e,t,r){let n,i,a,o=e||"unnamed",s=r;for(a=0;a<t.length;a++){let e=[];if(s.forEach(r=>{let n=w(E(r.params,a));(a<r.params.length||x(r.params))&&n(t[a])&&e.push(r)}),0===e.length){if((i=M(s,a)).length>0){let e=m(t[a]);return(n=TypeError("Unexpected type of argument in function "+o+" (expected: "+i.join(" or ")+", actual: "+e.join(" | ")+", index: "+a+")")).data={category:"wrongType",fn:o,index:a,actual:e,expected:i},n}}else s=e}let u=s.map(function(e){return x(e.params)?1/0:e.params.length});if(t.length<Math.min.apply(null,u))return(n=TypeError("Too few arguments in function "+o+" (expected: "+(i=M(s,a)).join(" or ")+", index: "+t.length+")")).data={category:"tooFewArgs",fn:o,index:t.length,expected:i},n;let l=Math.max.apply(null,u);if(t.length>l)return(n=TypeError("Too many arguments in function "+o+" (expected: "+l+", actual: "+t.length+")")).data={category:"tooManyArgs",fn:o,index:t.length,expectedLength:l},n;let c=[];for(let e=0;e<t.length;++e)c.push(m(t[e]).join("|"));return(n=TypeError('Arguments of type "'+c.join(", ")+'" do not match any of the defined signatures of function '+o+".")).data={category:"mismatch",actual:c},n}function N(e){let t=o.length+1;for(let r=0;r<e.types.length;r++)C(e.types[r])&&(t=Math.min(t,e.types[r].typeIndex));return t}function F(e){let t=c+1;for(let r=0;r<e.types.length;r++)C(e.types[r])||(t=Math.min(t,e.types[r].conversionIndex));return t}function T(e,t){let r,n,i=e.params,a=t.params,o=z(i),s=z(a),u=x(i),l=x(a);if(u&&o.hasAny){if(!l||!s.hasAny)return 1}else if(l&&s.hasAny)return -1;let c=0,f=0;for(r of i)r.hasAny&&++c,r.hasConversion&&++f;let h=0,d=0;for(r of a)r.hasAny&&++h,r.hasConversion&&++d;if(c!==h)return c-h;if(u&&o.hasConversion){if(!l||!s.hasConversion)return 1}else if(l&&s.hasConversion)return -1;if(f!==d)return f-d;if(u){if(!l)return 1}else if(l)return -1;let p=(i.length-a.length)*(u?-1:1);if(0!==p)return p;let m=[],g=0;for(let e=0;e<i.length;++e){let t=function(e,t){if(e.hasAny){if(!t.hasAny)return 1}else if(t.hasAny)return -1;if(e.restParam){if(!t.restParam)return 1}else if(t.restParam)return -1;if(e.hasConversion){if(!t.hasConversion)return 1}else if(t.hasConversion)return -1;let r=N(e)-N(t);if(r<0)return -1;if(r>0)return 1;let n=F(e)-F(t);return n<0?-1:+(n>0)}(i[e],a[e]);m.push(t),g+=t}if(0!==g)return g;for(n of m)if(0!==n)return n;return 0}function B(e){let t,r,n,i,a=[],o=[];switch(e.types.forEach(function(e){e.conversion&&(a.push(h(e.conversion.from).test),o.push(e.conversion.convert))}),o.length){case 0:return function(e){return e};case 1:return t=a[0],n=o[0],function(e){return t(e)?n(e):e};case 2:return t=a[0],r=a[1],n=o[0],i=o[1],function(e){return t(e)?n(e):r(e)?i(e):e};default:return function(e){for(let t=0;t<o.length;t++)if(a[t](e))return o[t](e);return e}}}function O(e,t,r){throw S(e,t,r)}function I(e){return R(e,0,e.length-1)}function z(e){return e[e.length-1]}function R(e,t,r){return Array.prototype.slice.call(e,t,r)}function k(e,t){return{referTo:{references:e,callback:t}}}function L(e){if("function"!=typeof e)throw TypeError("Callback function expected as first argument");return{referToSelf:{callback:e}}}function P(e){return e&&"object"==typeof e.referTo&&Array.isArray(e.referTo.references)&&"function"==typeof e.referTo.callback}function q(e){return e&&"object"==typeof e.referToSelf&&"function"==typeof e.referToSelf.callback}function U(e,t){if(!e)return t;if(t&&t!==e){let r=Error("Function names do not match (expected: "+e+", actual: "+t+")");throw r.data={actual:t,expected:e},r}return e}p(),d(u);let j=f;function H(e){if(!e||"string"!=typeof e.from||"string"!=typeof e.to||"function"!=typeof e.convert)throw TypeError("Object with properties {from: string, to: string, convert: function} expected");if(e.to===e.from)throw SyntaxError('Illegal to define conversion from "'+e.from+'" to itself.')}return(f=function(e){let n="string"==typeof e,i=+!!n,a=n?e:"",o={};for(let e=i;e<arguments.length;++e){let t,r=arguments[e],i={};if("function"==typeof r?(t=r.name,"string"==typeof r.signature?i[r.signature]=r:g(r)&&(i=r.signatures)):s(r)&&(i=r,n||(t=function(e){let t;for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(g(e[r])||"string"==typeof e[r].signature)&&(t=U(t,e[r].name));return t}(r))),0===Object.keys(i).length){let t=TypeError("Argument to 'typed' at index "+e+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw t.data={index:e,argument:r},t}n||(a=U(a,t)),function(e,t){let r;for(r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(r in e&&t[r]!==e[r]){let n=Error('Signature "'+r+'" is defined twice');throw n.data={signature:r,sourceFunction:t[r],destFunction:e[r]},n}e[r]=t[r]}}(o,i)}return function(e,n){let i,a;if(f.createCount++,0===Object.keys(n).length)throw SyntaxError("No signatures provided");f.warnAgainstDeprecatedThis&&function(e){let t=/\bthis(\(|\.signatures\b)/;Object.keys(e).forEach(r=>{let n=e[r];if(t.test(n.toString()))throw SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}(n);let o=[],s=[],u={},l=[];for(i in n){let e;if(!Object.prototype.hasOwnProperty.call(n,i))continue;let t=_(i);if(!t)continue;o.forEach(function(e){if(function(e,t){let r=Math.max(e.length,t.length);for(let n=0;n<r;n++){let r,i=A(e,n),a=A(t,n),o=!1;for(r of a)if(i.has(r)){o=!0;break}if(!o)return!1}let n=e.length,i=t.length,a=x(e),o=x(t);return a?o?n===i:i>=n:o?n>=i:n===i}(e,t))throw TypeError('Conflicting signatures "'+y(e)+'" and "'+y(t)+'".')}),o.push(t);let r=s.length;for(e of(s.push(n[i]),function e(t,r,n){if(!(r<t.length))return[n];{var i,a;let o=t[r],s=[];if(o.restParam){let e=o.types.filter(C);e.length<o.types.length&&s.push({types:e,name:"..."+e.map(e=>e.name).join("|"),hasAny:e.some(e=>e.isAny),hasConversion:!1,restParam:!0}),s.push(o)}else s=o.types.map(function(e){return{types:[e],name:e.name,hasAny:e.isAny,hasConversion:e.conversion,restParam:!1}});return i=s,a=function(i){return e(t,r+1,n.concat([i]))},Array.prototype.concat.apply([],i.map(a))}}(t.map(b),0,[]))){let t=y(e);l.push({params:e,name:t,fn:r}),e.every(e=>!e.hasConversion)&&(u[t]=r)}}l.sort(T);let c=function(e,t,r){let n=e.map(e=>q(e)?L(e.referToSelf.callback):P(e)?k(e.referTo.references,e.referTo.callback):e),i=Array(n.length).fill(!1),a=!0;for(;a;){a=!1;let e=!0;for(let o=0;o<n.length;++o){if(i[o])continue;let s=n[o];if(q(s))n[o]=s.referToSelf.callback(r),n[o].referToSelf=s.referToSelf,i[o]=!0,e=!1;else if(P(s)){let r=function(e,t,r){let n,i=[];for(n of e){let e=r[n];if("number"!=typeof e)throw TypeError('No definition for referenced signature "'+n+'"');if("function"!=typeof(e=t[e]))return!1;i.push(e)}return i}(s.referTo.references,n,t);r?(n[o]=s.referTo.callback.apply(this,r),n[o].referTo=s.referTo,i[o]=!0,e=!1):a=!0}}if(e&&a)throw SyntaxError("Circular reference detected in resolving typed.referTo")}return n}(s,u,ef);for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(u[a]=c[u[a]]);let h=[],d=new Map;for(a of l)d.has(a.name)||(a.fn=c[a.fn],h.push(a),d.set(a.name,a));let p=h[0]&&h[0].params.length<=2&&!x(h[0].params),m=h[1]&&h[1].params.length<=2&&!x(h[1].params),g=h[2]&&h[2].params.length<=2&&!x(h[2].params),v=h[3]&&h[3].params.length<=2&&!x(h[3].params),D=h[4]&&h[4].params.length<=2&&!x(h[4].params),E=h[5]&&h[5].params.length<=2&&!x(h[5].params);for(let e=0;e<h.length;++e)h[e].test=function(e){let t,r,n;if(x(e)){let r=(t=I(e).map(w)).length,n=w(z(e)),i=function(e){for(let t=r;t<e.length;t++)if(!n(e[t]))return!1;return!0};return function(e){for(let r=0;r<t.length;r++)if(!t[r](e[r]))return!1;return i(e)&&e.length>=r+1}}return 0===e.length?function(e){return 0===e.length}:1===e.length?(r=w(e[0]),function(e){return r(e[0])&&1===e.length}):2===e.length?(r=w(e[0]),n=w(e[1]),function(e){return r(e[0])&&n(e[1])&&2===e.length}):(t=e.map(w),function(e){for(let r=0;r<t.length;r++)if(!t[r](e[r]))return!1;return e.length===t.length})}(h[e].params);let M=p?w(h[0].params[0]):t,S=m?w(h[1].params[0]):t,N=g?w(h[2].params[0]):t,F=v?w(h[3].params[0]):t,O=D?w(h[4].params[0]):t,U=E?w(h[5].params[0]):t,j=p?w(h[0].params[1]):t,H=m?w(h[1].params[1]):t,$=g?w(h[2].params[1]):t,G=v?w(h[3].params[1]):t,V=D?w(h[4].params[1]):t,W=E?w(h[5].params[1]):t;for(let e=0;e<h.length;++e)h[e].implementation=function(e,t){let r=t;if(e.some(e=>e.hasConversion)){let n=x(e),i=e.map(B);r=function(){let e=[],r=n?arguments.length-1:arguments.length;for(let t=0;t<r;t++)e[t]=i[t](arguments[t]);return n&&(e[r]=arguments[r].map(i[r])),t.apply(this,e)}}let n=r;if(x(e)){let t=e.length-1;n=function(){return r.apply(this,R(arguments,0,t).concat([R(arguments,t)]))}}return n}(h[e].params,h[e].fn);let Y=p?h[0].implementation:r,Z=m?h[1].implementation:r,X=g?h[2].implementation:r,J=v?h[3].implementation:r,Q=D?h[4].implementation:r,K=E?h[5].implementation:r,ee=p?h[0].params.length:-1,et=m?h[1].params.length:-1,er=g?h[2].params.length:-1,en=v?h[3].params.length:-1,ei=D?h[4].params.length:-1,ea=E?h[5].params.length:-1,eo=6*!!(p&&m&&g&&v&&D&&E),es=h.length,eu=h.map(e=>e.test),el=h.map(e=>e.implementation),ec=function(){for(let e=eo;e<es;e++)if(eu[e](arguments))return el[e].apply(this,arguments);return f.onMismatch(e,arguments,h)};function ef(e,t){return arguments.length===ee&&M(e)&&j(t)?Y.apply(this,arguments):arguments.length===et&&S(e)&&H(t)?Z.apply(this,arguments):arguments.length===er&&N(e)&&$(t)?X.apply(this,arguments):arguments.length===en&&F(e)&&G(t)?J.apply(this,arguments):arguments.length===ei&&O(e)&&V(t)?Q.apply(this,arguments):arguments.length===ea&&U(e)&&W(t)?K.apply(this,arguments):ec.apply(this,arguments)}try{Object.defineProperty(ef,"name",{value:e})}catch(e){}return ef.signatures=u,ef._typedFunctionData={signatures:h,signatureMap:d},ef}(a||"",o)}).create=i,f.createCount=j.createCount,f.onMismatch=O,f.throwMismatchError=O,f.createError=S,f.clear=p,f.clearConversions=function(){let e;for(e of o)a.get(e).conversionsTo=[];c=0},f.addTypes=d,f._findType=h,f.referTo=function(){let e=I(arguments).map(e=>y(_(e))),t=z(arguments);if("function"!=typeof t)throw TypeError("Callback function expected as last argument");return k(e,t)},f.referToSelf=L,f.convert=function(e,t){let r=h(t);if(r.test(e))return e;let n=r.conversionsTo;if(0===n.length)throw Error("There are no conversions to "+t+" defined.");for(let t=0;t<n.length;t++)if(h(n[t].from).test(e))return n[t].convert(e);throw Error("Cannot convert "+e+" to "+t)},f.findSignature=v,f.find=function(e,t,r){return v(e,t,r).implementation},f.isTypedFunction=g,f.warnAgainstDeprecatedThis=!0,f.addType=function(e,t){let r="any";!1!==t&&a.has("Object")&&(r="Object"),f.addTypes([e],r)},f.addConversion=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{override:!1};H(e);let r=h(e.to),n=r.conversionsTo.find(t=>t.from===e.from);if(n)if(t&&t.override)f.removeConversion({from:n.from,to:e.to,convert:n.convert});else throw Error('There is already a conversion from "'+e.from+'" to "'+r.name+'"');r.conversionsTo.push({from:e.from,convert:e.convert,index:c++})},f.addConversions=function(e,t){e.forEach(e=>f.addConversion(e,t))},f.removeConversion=function(e){H(e);let t=h(e.to),r=function(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return e[r]}(t.conversionsTo,t=>t.from===e.from);if(!r)throw Error("Attempt to remove nonexistent conversion from "+e.from+" to "+e.to);if(r.convert!==e.convert)throw Error("Conversion to remove does not match existing conversion");let n=t.conversionsTo.indexOf(r);t.conversionsTo.splice(n,1)},f.resolve=function(e,t){if(!g(e))throw TypeError(n);let r=e._typedFunctionData.signatures;for(let e=0;e<r.length;++e)if(r[e].test(t))return r[e];return null},f}()}();var uE=aS("DenseMatrix",["Matrix"],e=>{var{Matrix:t}=e;function r(e,t){if(!(this instanceof r))throw SyntaxError("Constructor must be called with the new operator");if(t&&!iJ(t))throw Error("Invalid datatype: "+t);if(iK(e))"DenseMatrix"===e.type?(this._data=aw(e._data),this._size=aw(e._size)):(this._data=e.toArray(),this._size=e.size()),this._datatype=t||e._datatype;else if(e&&iQ(e.data)&&iQ(e.size))this._data=e.data,this._size=e.size,ot(this._data,this._size),this._datatype=t||e.datatype;else if(iQ(e))this._data=function e(t){return iK(t)?e(t.valueOf()):iQ(t)?t.map(e):t}(e),this._size=oe(this._data),ot(this._data,this._size),this._datatype=t;else if(e)throw TypeError("Unsupported type of data ("+ax(e)+")");else this._data=[],this._size=[0],this._datatype=t}function n(e,t,r){if(0===t.length){for(var n=e._data;iQ(n);)n=n[0];return n}return e._size=t.slice(0),e._data=oa(e._data,e._size,r),e}function i(e,t,r){for(var i=e._size.slice(0),a=!1;i.length<t.length;)i.push(0),a=!0;for(var o=0,s=t.length;o<s;o++)t[o]>i[o]&&(i[o]=t[o],a=!0);a&&n(e,i,r)}return r.prototype=new t,r.prototype.createDenseMatrix=function(e,t){return new r(e,t)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return og(this._data,ax)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(e,t){return new r(e,t)},r.prototype.subset=function(e,t,n){switch(arguments.length){case 1:return function(e,t){if(!i3(t))throw TypeError("Invalid index");if(t.isScalar())return e.get(t.min());var n=t.size();if(n.length!==e._size.length)throw new a9(n.length,e._size.length);for(var i=t.min(),a=t.max(),o=0,s=e._size.length;o<s;o++)on(i[o],e._size[o]),on(a[o],e._size[o]);return new r(function e(t,r,n,i){var a=i===n-1,o=r.dimension(i);return a?o.map(function(e){return on(e,t.length),t[e]}).valueOf():o.map(function(a){return on(a,t.length),e(t[a],r,n,i+1)}).valueOf()}(e._data,t,n.length,0),e._datatype)}(this,e);case 2:case 3:return function(e,t,r,n){if(!t||!0!==t.isIndex)throw TypeError("Invalid index");var a,o=t.size(),s=t.isScalar();if(iK(r)?(a=r.size(),r=r.valueOf()):a=oe(r),s){if(0!==a.length)throw TypeError("Scalar expected");e.set(t.min(),r,n)}else{if(!aA(a,o))try{r=0===a.length?oD([r],o):oD(r,o),a=oe(r)}catch(e){}if(o.length<e._size.length)throw new a9(o.length,e._size.length,"<");if(a.length<o.length){for(var u=0,l=0;1===o[u]&&1===a[u];)u++;for(;1===o[u];)l++,u++;r=oc(r,o.length,l,a)}if(!aA(o,a))throw new a9(o,a,">");i(e,t.max().map(function(e){return e+1}),n);var c=o.length;!function e(t,r,n,i,a){var o=a===i-1,s=r.dimension(a);o?s.forEach(function(e,r){on(e),t[e]=n[r[0]]}):s.forEach(function(o,s){on(o),e(t[o],r,n[s[0]],i,a+1)})}(e._data,t,r,c,0)}return e}(this,e,t,n);default:throw SyntaxError("Wrong number of arguments")}},r.prototype.get=function(e){return o_(this._data,e)},r.prototype.set=function(e,t,r){if(!iQ(e))throw TypeError("Array expected");if(e.length<this._size.length)throw new a9(e.length,this._size.length,"<");i(this,e.map(function(e){return e+1}),r);var n,a,o,s=this._data;for(n=0,a=e.length-1;n<a;n++)on(o=e[n],s.length),s=s[o];return on(o=e[e.length-1],s.length),s[o]=t,this},r.prototype.resize=function(e,t,r){if(!i0(e))throw TypeError("Array or Matrix expected");var i=e.valueOf().map(e=>Array.isArray(e)&&1===e.length?e[0]:e);return n(r?this.clone():this,i,t)},r.prototype.reshape=function(e,t){var r=t?this.clone():this;r._data=oo(r._data,e);var n=r._size.reduce((e,t)=>e*t);return r._size=os(e,n),r},r.prototype.clone=function(){return new r({data:aw(this._data),size:aw(this._size),datatype:this._datatype})},r.prototype.size=function(){return this._size.slice(0)},r.prototype._forEach=function(e){var t=2===e.length,r=this._size.length-1;if(!(r<0)){if(t)return void function t(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(i<r)for(var a=0;a<n.length;a++)t(n[a],i+1);else for(var o=0;o<n.length;o++)e(n,o)}(this._data);if(0===r){for(var n=0;n<this._data.length;n++)e(this._data,n,[n]);return}var i=Array(r+1);!function t(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(a<r)for(var o=0;o<n.length;o++)i[a]=o,t(n[o],a+1);else for(var s=0;s<n.length;s++)i[a]=s,e(n,s,i.slice())}(this._data)}},r.prototype.map=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this,i=new r(n),a=ux(e,n._data,"map",t),o=t||a.isUnary?(e,t)=>{e[t]=a.fn(e[t])}:(e,t,r)=>{e[t]=a.fn(e[t],r,n)};return i._forEach(o),i},r.prototype.forEach=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this,n=ux(e,r._data,"map",t),i=t||n.isUnary?(e,t)=>{n.fn(e[t])}:(e,t,i)=>{n.fn(e[t],i,r)};r._forEach(i)},r.prototype[Symbol.iterator]=function*(){var e=this._size.length-1;if(!(e<0)){if(0===e){for(var t=0;t<this._data.length;t++)yield{value:this._data[t],index:[t]};return}var r=[],n=function*(t,i){if(i<e)for(var a=0;a<t.length;a++)r[i]=a,yield*n(t[a],i+1);else for(var o=0;o<t.length;o++)r[i]=o,yield{value:t[o],index:r.slice()}};yield*n(this._data,0)}},r.prototype.rows=function(){var e=[];if(2!==this.size().length)throw TypeError("Rows can only be returned for a 2D matrix.");for(var t of this._data)e.push(new r([t],this._datatype));return e},r.prototype.columns=function(){var e=this,t=[],n=this.size();if(2!==n.length)throw TypeError("Rows can only be returned for a 2D matrix.");for(var i=this._data,a=function(n){var a=i.map(e=>[e[n]]);t.push(new r(a,e._datatype))},o=0;o<n[1];o++)a(o);return t},r.prototype.toArray=function(){return aw(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(e){return a5(this._data,e)},r.prototype.toString=function(){return a5(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(e){if(e){if(iV(e)&&(e=e.toNumber()),!iG(e)||!aT(e))throw TypeError("The parameter k must be an integer number")}else e=0;for(var t=e>0?e:0,n=e<0?-e:0,i=Math.min(this._size[0]-n,this._size[1]-t),a=[],o=0;o<i;o++)a[o]=this._data[o+n][o+t];return new r({data:a,size:[i],datatype:this._datatype})},r.diagonal=function(e,t,n,i){if(!iQ(e))throw TypeError("Array expected, size parameter");if(2!==e.length)throw Error("Only two dimensions matrix are supported");if(e=e.map(function(e){if(iV(e)&&(e=e.toNumber()),!iG(e)||!aT(e)||e<1)throw Error("Size values must be positive integers");return e}),n){if(iV(n)&&(n=n.toNumber()),!iG(n)||!aT(n))throw TypeError("The parameter k must be an integer number")}else n=0;var a,o=n>0?n:0,s=n<0?-n:0,u=e[0],l=e[1],c=Math.min(u-s,l-o);if(iQ(t)){if(t.length!==c)throw Error("Invalid value array length");a=function(e){return t[e]}}else if(iK(t)){var f=t.size();if(1!==f.length||f[0]!==c)throw Error("Invalid matrix length");a=function(e){return t.get([e])}}else a=function(){return t};i||(i=iV(a(0))?a(0).mul(0):0);var h=[];if(e.length>0){h=oa(h,e,i);for(var d=0;d<c;d++)h[d+s][d+o]=a(d)}return new r({data:h,size:[u,l]})},r.fromJSON=function(e){return new r(e)},r.prototype.swapRows=function(e,t){if(!iG(e)||!aT(e)||!iG(t)||!aT(t))throw Error("Row index must be positive integers");if(2!==this._size.length)throw Error("Only two dimensional matrix is supported");return on(e,this._size[0]),on(t,this._size[0]),r._swapRows(e,t,this._data),this},r._swapRows=function(e,t,r){var n=r[e];r[e]=r[t],r[t]=n},r},{isClass:!0}),uA=aS("det",["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],e=>{var{typed:t,matrix:r,subtractScalar:n,multiply:i,divideScalar:a,isZero:o,unaryMinus:s}=e;return t("det",{any:function(e){return aw(e)},"Array | Matrix":function(e){var t;switch((t=iK(e)?e.size():Array.isArray(e)?(e=r(e)).size():[]).length){case 0:return aw(e);case 1:if(1===t[0])return aw(e.valueOf()[0]);if(0===t[0])return 1;throw RangeError("Matrix must be square (size: "+a5(t)+")");case 2:var u=t[0],l=t[1];if(u===l)return function(e,t,r){if(1===t)return aw(e[0][0]);if(2===t)return n(i(e[0][0],e[1][1]),i(e[1][0],e[0][1]));for(var u=!1,l=Array(t).fill(0).map((e,t)=>t),c=0;c<t;c++){var f=l[c];if(o(e[f][c])){var h=void 0;for(h=c+1;h<t;h++)if(!o(e[l[h]][c])){f=l[h],l[h]=l[c],l[c]=f,u=!u;break}if(h===t)return e[f][c]}for(var d=e[f][c],p=0===c?1:e[l[c-1]][c-1],m=c+1;m<t;m++)for(var g=l[m],v=c+1;v<t;v++)e[g][v]=a(n(i(e[g][v],d),i(e[g][c],e[f][v])),p)}var y=e[l[t-1]][t-1];return u?s(y):y}(e.clone().valueOf(),u,0);if(0===l)return 1;throw RangeError("Matrix must be square (size: "+a5(t)+")");default:throw RangeError("Matrix must be two dimensional (size: "+a5(t)+")")}}})}),uC="diag",uM=aS(uC,["typed","matrix","DenseMatrix","SparseMatrix"],e=>{var{typed:t,matrix:r,DenseMatrix:n,SparseMatrix:i}=e;return t(uC,{Array:function(e){return a(e,0,oe(e),null)},"Array, number":function(e,t){return a(e,t,oe(e),null)},"Array, BigNumber":function(e,t){return a(e,t.toNumber(),oe(e),null)},"Array, string":function(e,t){return a(e,0,oe(e),t)},"Array, number, string":function(e,t,r){return a(e,t,oe(e),r)},"Array, BigNumber, string":function(e,t,r){return a(e,t.toNumber(),oe(e),r)},Matrix:function(e){return a(e,0,e.size(),e.storage())},"Matrix, number":function(e,t){return a(e,t,e.size(),e.storage())},"Matrix, BigNumber":function(e,t){return a(e,t.toNumber(),e.size(),e.storage())},"Matrix, string":function(e,t){return a(e,0,e.size(),t)},"Matrix, number, string":function(e,t,r){return a(e,t,e.size(),r)},"Matrix, BigNumber, string":function(e,t,r){return a(e,t.toNumber(),e.size(),r)}});function a(e,t,a,o){if(!aT(t))throw TypeError("Second parameter in function diag must be an integer");var s=t>0?t:0,u=t<0?-t:0;switch(a.length){case 1:var l=e,c=t,f=o,h=a[0],d=u,p=s,m=[h+d,h+p];if(f&&"sparse"!==f&&"dense"!==f)throw TypeError("Unknown matrix type ".concat(f,'"'));var g="sparse"===f?i.diagonal(m,l,c):n.diagonal(m,l,c);return null!==f?g:g.valueOf();case 2:var v=e,y=t,b=o,D=a,_=u,x=s;if(iK(v)){var w=v.diagonal(y);return null!==b?b!==w.storage()?r(w,b):w:w.valueOf()}for(var E=Math.min(D[0]-_,D[1]-x),A=[],C=0;C<E;C++)A[C]=v[C+_][C+x];return null!==b?r(A):A}throw RangeError("Matrix for function diag must be 2 dimensional")}}),uS=aS("divide",["typed","matrix","multiply","equalScalar","divideScalar","inv"],e=>{var{typed:t,matrix:r,multiply:n,equalScalar:i,divideScalar:a,inv:o}=e,s=sg({typed:t,equalScalar:i}),u=sl({typed:t});return t("divide",aE({"Array | Matrix, Array | Matrix":function(e,t){return n(e,o(t))},"DenseMatrix, any":function(e,t){return u(e,t,a,!1)},"SparseMatrix, any":function(e,t){return s(e,t,a,!1)},"Array, any":function(e,t){return u(r(e),t,a,!1).valueOf()},"any, Array | Matrix":function(e,t){return n(e,o(t))}},a.signatures))}),uN="divideScalar",uF=aS(uN,["typed","numeric"],e=>{var{typed:t,numeric:r}=e;return t(uN,{"number, number":function(e,t){return e/t},"Complex, Complex":function(e,t){return e.div(t)},"BigNumber, BigNumber":function(e,t){return e.div(t)},"bigint, bigint":function(e,t){return e/t},"Fraction, Fraction":function(e,t){return e.div(t)},"Unit, number | Complex | Fraction | BigNumber | Unit":(e,t)=>e.divide(t),"number | Fraction | Complex | BigNumber, Unit":(e,t)=>t.divideInto(e)})}),uT=aS("dot",["typed","addScalar","multiplyScalar","conj","size"],e=>{var{typed:t,addScalar:r,multiplyScalar:n,conj:i,size:a}=e;return t("dot",{"Array | DenseMatrix, Array | DenseMatrix":function(e,a){var u=o(e,a),l=iK(e)?e._data:e,c=iK(e)?e._datatype||e.getDataType():void 0,f=iK(a)?a._data:a,h=iK(a)?a._datatype||a.getDataType():void 0,d=2===s(e).length,p=2===s(a).length,m=r,g=n;if(c&&h&&c===h&&"string"==typeof c&&"mixed"!==c&&(m=t.find(r,[c,c]),g=t.find(n,[c,c])),!d&&!p){for(var v=g(i(l[0]),f[0]),y=1;y<u;y++)v=m(v,g(i(l[y]),f[y]));return v}if(!d&&p){for(var b=g(i(l[0]),f[0][0]),D=1;D<u;D++)b=m(b,g(i(l[D]),f[D][0]));return b}if(d&&!p){for(var _=g(i(l[0][0]),f[0]),x=1;x<u;x++)_=m(_,g(i(l[x][0]),f[x]));return _}if(d&&p){for(var w=g(i(l[0][0]),f[0][0]),E=1;E<u;E++)w=m(w,g(i(l[E][0]),f[E][0]));return w}},"SparseMatrix, SparseMatrix":function(e,t){o(e,t);for(var i=e._index,a=e._values,s=t._index,u=t._values,l=0,c=0,f=0;c<i.length&&f<s.length;){var h=i[c],d=s[f];if(h<d){c++;continue}if(h>d){f++;continue}h===d&&(l=r(l,n(a[c],u[f])),c++,f++)}return l}});function o(e,t){var r,n,i=s(e),a=s(t);if(1===i.length)r=i[0];else if(2===i.length&&1===i[1])r=i[0];else throw RangeError("Expected a column vector, instead got a matrix of size ("+i.join(", ")+")");if(1===a.length)n=a[0];else if(2===a.length&&1===a[1])n=a[0];else throw RangeError("Expected a column vector, instead got a matrix of size ("+a.join(", ")+")");if(r!==n)throw RangeError("Vectors must have equal length ("+r+" != "+n+")");if(0===r)throw RangeError("Cannot calculate the dot product of empty vectors");return r}function s(e){return iK(e)?e.size():a(e)}}),uB="dotDivide",uO=aS(uB,["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat","SparseMatrix"],e=>{var{typed:t,matrix:r,equalScalar:n,divideScalar:i,DenseMatrix:a,concat:o,SparseMatrix:s}=e,u=sm({typed:t,equalScalar:n}),l=sE({typed:t}),c=sW({typed:t,SparseMatrix:s}),f=sg({typed:t,equalScalar:n}),h=sC({typed:t,DenseMatrix:a}),d=sf({typed:t,matrix:r,concat:o});return t(uB,d({elop:i,SS:c,DS:l,SD:u,Ss:f,sS:h}))});function uI(e){var{hasher:t,limit:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r=null==r?Number.POSITIVE_INFINITY:r,t=null==t?JSON.stringify:t,function n(){"object"!=typeof n.cache&&(n.cache={values:new Map,lru:(i=r||Number.POSITIVE_INFINITY,a=0,o=1,s=Object.create(null),u=Object.create(null),l=0,c=function(e){var t=u[e];if(t&&(delete s[t],delete u[e],--a,o===t)){if(!a){l=0,o=1;return}for(;!Object.prototype.hasOwnProperty.call(s,++o););}},i=Math.abs(i),{hit:function(e){var t=u[e],r=++l;if(s[r]=e,u[e]=r,!t){if(++a<=i)return;return c(e=s[o]),e}if(delete s[t],o===t)for(;!Object.prototype.hasOwnProperty.call(s,++o););},delete:c,clear:function(){a=l=0,o=1,s=Object.create(null),u=Object.create(null)}})});for(var i,a,o,s,u,l,c,f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];var d=t(f);if(n.cache.values.has(d))return n.cache.lru.hit(d),n.cache.values.get(d);var p=e.apply(e,f);return n.cache.values.set(d,p),n.cache.values.delete(n.cache.lru.hit(d)),p}}var uz=uI(function(e){return new e(1).exp()},{hasher:uP}),uR=uI(function(e){return new e(1).plus(new e(5).sqrt()).div(2)},{hasher:uP}),uk=uI(function(e){return e.acos(-1)},{hasher:uP}),uL=uI(function(e){return uk(e).times(2)},{hasher:uP});function uP(e){return e[0].precision}var uq=Math.PI,uU=2*Math.PI,uj=Math.E;e=>{var{config:t,BigNumber:r}=e;return"BigNumber"===t.number?uk(r):uq};var uH=uG("tau",["config","?BigNumber"],e=>{var{config:t,BigNumber:r}=e;return"BigNumber"===t.number?uL(r):uU}),u$=uG("i",["Complex"],e=>{var{Complex:t}=e;return t.I});function uG(e,t,r){return aS(e,t,r,{recreateOnConfigChange:!0})}var uV=aS("eigs",["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],e=>{var{config:t,typed:n,matrix:i,addScalar:a,subtract:o,equal:s,abs:u,atan:l,cos:c,sin:f,multiplyScalar:h,divideScalar:d,inv:p,bignumber:m,multiply:g,add:v,larger:y,column:b,flatten:D,number:_,complex:x,sqrt:w,diag:E,size:A,reshape:C,qr:M,usolve:S,usolveAll:N,im:F,re:T,smaller:B,matrixFromColumns:O,dot:I}=e,z=function(e){var{config:t,addScalar:r,subtract:n,abs:i,atan:a,cos:o,sin:s,multiplyScalar:u,inv:l,bignumber:c,multiply:f,add:h}=e;function d(e){for(var t=e.length,r=0,n=[0,1],i=0;i<t;i++)for(var a=i+1;a<t;a++)Math.abs(r)<Math.abs(e[i][a])&&(r=Math.abs(e[i][a]),n=[i,a]);return[n,r]}function p(e){for(var t=e.length,r=0,n=[0,1],a=0;a<t;a++)for(var o=a+1;o<t;o++)i(r)<i(e[a][o])&&(r=i(e[a][o]),n=[a,o]);return[n,r]}function m(e,t,r){var n,a=e.length,o=Array(a);if(r){n=Array(a);for(var s=0;s<a;s++)n[s]=Array(a)}for(var u=0;u<a;u++){for(var l=0,c=e[0],f=0;f<e.length;f++)i(e[f])<i(c)&&(c=e[l=f]);if(o[u]=e.splice(l,1)[0],r)for(var h=0;h<a;h++)n[u][h]=t[h][l],t[h].splice(l,1)}if(!r)return{values:o};var d=n.map((e,t)=>({value:o[t],vector:e}));return{values:o,eigenvectors:d}}return function(e,g){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.relTol,y=arguments.length>3?arguments[3]:void 0,b=arguments.length>4?arguments[4]:void 0;if("number"===y)return function(e,r,n){var i,a,o=e.length,s=Math.abs(r/o);if(n){a=Array(o);for(var u=0;u<o;u++)a[u]=Array(o).fill(0),a[u][u]=1}for(var l=d(e);Math.abs(l[1])>=Math.abs(s);){var c,f,h,p=l[0][0],g=l[0][1];c=e[p][p],f=e[g][g],h=e[p][g],e=function(e,t,r,n){for(var i=e.length,a=Math.cos(t),o=Math.sin(t),s=a*a,u=o*o,l=Array(i).fill(0),c=Array(i).fill(0),f=s*e[r][r]-2*a*o*e[r][n]+u*e[n][n],h=u*e[r][r]+2*a*o*e[r][n]+s*e[n][n],d=0;d<i;d++)l[d]=a*e[r][d]-o*e[n][d],c[d]=o*e[r][d]+a*e[n][d];e[r][r]=f,e[n][n]=h,e[r][n]=0,e[n][r]=0;for(var p=0;p<i;p++)p!==r&&p!==n&&(e[r][p]=l[p],e[p][r]=l[p],e[n][p]=c[p],e[p][n]=c[p]);return e}(e,i=Math.abs(f-c)<=t.relTol?Math.PI/4:.5*Math.atan(2*h/(f-c)),p,g),n&&(a=function(e,t,r,n){for(var i=e.length,a=Math.cos(t),o=Math.sin(t),s=Array(i).fill(0),u=Array(i).fill(0),l=0;l<i;l++)s[l]=a*e[l][r]-o*e[l][n],u[l]=o*e[l][r]+a*e[l][n];for(var c=0;c<i;c++)e[c][r]=s[c],e[c][n]=u[c];return e}(a,i,p,g)),l=d(e)}for(var v=Array(o).fill(0),y=0;y<o;y++)v[y]=e[y][y];return m(aw(v),a,n)}(e,v,b);if("BigNumber"===y)return function(e,d,g){var v,y,b=e.length,D=i(d/b);if(g){y=Array(b);for(var _=0;_<b;_++)y[_]=Array(b).fill(0),y[_][_]=1}for(var x=p(e);i(x[1])>=i(D);){var w=x[0][0],E=x[0][1];v=function(e,r,o){var s=n(r,e);return i(s)<=t.relTol?c(-1).acos().div(4):u(.5,a(f(2,o,l(s))))}(e[w][w],e[E][E],e[w][E]),e=function(e,t,i,a){for(var l=e.length,d=c(o(t)),p=c(s(t)),m=u(d,d),g=u(p,p),v=Array(l).fill(c(0)),y=Array(l).fill(c(0)),b=f(c(2),d,p,e[i][a]),D=r(n(u(m,e[i][i]),b),u(g,e[a][a])),_=h(u(g,e[i][i]),b,u(m,e[a][a])),x=0;x<l;x++)v[x]=n(u(d,e[i][x]),u(p,e[a][x])),y[x]=r(u(p,e[i][x]),u(d,e[a][x]));e[i][i]=D,e[a][a]=_,e[i][a]=c(0),e[a][i]=c(0);for(var w=0;w<l;w++)w!==i&&w!==a&&(e[i][w]=v[w],e[w][i]=v[w],e[a][w]=y[w],e[w][a]=y[w]);return e}(e,v,w,E),g&&(y=function(e,t,i,a){for(var l=e.length,f=o(t),h=s(t),d=Array(l).fill(c(0)),p=Array(l).fill(c(0)),m=0;m<l;m++)d[m]=n(u(f,e[m][i]),u(h,e[m][a])),p[m]=r(u(h,e[m][i]),u(f,e[m][a]));for(var g=0;g<l;g++)e[g][i]=d[g],e[g][a]=p[g];return e}(y,v,w,E)),x=p(e)}for(var A=Array(b).fill(0),C=0;C<b;C++)A[C]=e[C][C];return m(aw(A),y,g)}(e,v,b);throw TypeError("Unsupported data type: "+y)}}({config:t,addScalar:a,subtract:o,column:b,flatten:D,equal:s,abs:u,atan:l,cos:c,sin:f,multiplyScalar:h,inv:p,bignumber:m,complex:x,multiply:g,add:v}),R=function(e){var{addScalar:t,subtract:r,flatten:n,multiply:i,multiplyScalar:a,divideScalar:o,sqrt:s,abs:u,bignumber:l,diag:c,size:f,reshape:h,inv:d,qr:p,usolve:m,usolveAll:g,equal:v,complex:y,larger:b,smaller:D,matrixFromColumns:_,dot:x}=e;function w(e,t){for(var r=0;r<e.length;r++)e[r].push(...Array(t-e[r].length).fill(0));for(var n=e.length;n<t;n++)e.push(Array(t).fill(0)),e[n][n]=1;return e}function E(e,t){var n=f(e);for(var a of t)e=r(e,i(o(x(a=h(a,n),e),x(a,a)),a));return e}function A(e){return u(s(x(e,e)))}function C(e,t){return i(o("BigNumber"===t?l(1):"Complex"===t?y(1):1,A(e)),e)}return function(e,f,h,_){var x=!(arguments.length>4)||void 0===arguments[4]||arguments[4],M=function(e,r,n,i,s){var f,h="BigNumber"===i,d=h?l(0):0,p=h?l(1):"Complex"===i?y(1):1,m=h?l(1):1,g=h?l(10):2,_=a(g,g);s&&(f=Array(r).fill(p));for(var x=!1;!x;){x=!0;for(var w=0;w<r;w++){for(var E=d,A=d,C=0;C<r;C++)w!==C&&(E=t(E,u(e[C][w])),A=t(A,u(e[w][C])));if(!v(E,0)&&!v(A,0)){for(var M=m,S=E,N=o(A,g),F=a(A,g);D(S,N);)S=a(S,_),M=a(M,g);for(;b(S,F);)S=o(S,_),M=o(M,g);if(D(o(t(S,A),M),a(t(E,A),.95))){x=!1;for(var T=o(1,M),B=0;B<r;B++)w!==B&&(e[w][B]=a(e[w][B],T),e[B][w]=a(e[B][w],M));s&&(f[w]=a(f[w],T))}}}}return s?c(f):null}(e,f,0,_,x);!function(e,n,i,s,c,f){var h="BigNumber"===s,d=h?l(0):"Complex"===s?y(0):0;h&&(i=l(i));for(var p=0;p<n-2;p++){for(var m=0,g=d,v=p+1;v<n;v++){var b=e[v][p];D(u(g),u(b))&&(g=b,m=v)}if(!D(u(g),i)){if(m!==p+1){var _=e[m];e[m]=e[p+1],e[p+1]=_;for(var x=0;x<n;x++){var w=e[x][m];e[x][m]=e[x][p+1],e[x][p+1]=w}if(c){var E=f[m];f[m]=f[p+1],f[p+1]=E}}for(var A=p+2;A<n;A++){var C=o(e[A][p],g);if(0!==C){for(var M=0;M<n;M++)e[A][M]=r(e[A][M],a(C,e[p+1][M]));for(var S=0;S<n;S++)e[S][p+1]=t(e[S][p+1],a(C,e[S][A]));if(c)for(var N=0;N<n;N++)f[A][N]=r(f[A][N],a(C,f[p+1][N]))}}}}}(e,f,h,_,x,M);var{values:S,C:N}=function(e,n,o,f,h){var d="BigNumber"===f,m="Complex"===f,g=d?l(1):m?y(1):1;d&&(o=l(o));for(var v=aw(e),_=[],x=n,E=[],A=h?c(Array(n).fill(g)):void 0,C=h?c(Array(x).fill(g)):void 0,M=0;M<=100;){M+=1;for(var S=v[x-1][x-1],N=0;N<x;N++)v[N][N]=r(v[N][N],S);var{Q:F,R:T}=p(v);v=i(T,F);for(var B=0;B<x;B++)v[B][B]=t(v[B][B],S);if(h&&(C=i(C,F)),1===x||D(u(v[x-1][x-2]),o)){M=0,_.push(v[x-1][x-1]),h&&(E.unshift([[1]]),w(C,n),A=i(A,C),x>1&&(C=c(Array(x-1).fill(g)))),x-=1,v.pop();for(var O=0;O<x;O++)v[O].pop()}else if(2===x||D(u(v[x-2][x-3]),o)){M=0;var I=function(e,n,i,o){var u=t(e,o),l=r(a(e,o),a(n,i)),c=a(u,.5),f=a(s(r(a(u,u),a(4,l))),.5);return[t(c,f),r(c,f)]}(v[x-2][x-2],v[x-2][x-1],v[x-1][x-2],v[x-1][x-1]);_.push(...I),h&&(E.unshift(function(e,t,n,i,a,o,s,c){var f="BigNumber"===c,h="Complex"===c,d=f?l(0):h?y(0):0,p=f?l(1):h?y(1):1;if(D(u(n),s))return[[p,d],[d,p]];if(b(u(r(a,o)),s))return[[r(a,i),r(o,i)],[n,n]];var m=r(e,a),g=r(i,a);return D(u(t),s)&&D(u(g),s)?[[m,p],[n,d]]:[[t,d],[g,p]]}(v[x-2][x-2],v[x-2][x-1],v[x-1][x-2],v[x-1][x-1],I[0],I[1],o,f)),w(C,n),A=i(A,C),x>2&&(C=c(Array(x-2).fill(g)))),x-=2,v.pop(),v.pop();for(var z=0;z<x;z++)v[z].pop(),v[z].pop()}if(0===x)break}if(_.sort((e,t)=>+r(u(e),u(t))),M>100){var R=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+_.join(", "));throw R.values=_,R.vectors=[],R}return{values:_,C:h?i(A,function(e,t){for(var r=[],n=0;n<t;n++)r[n]=Array(t).fill(0);var i=0;for(var a of e){for(var o=a.length,s=0;s<o;s++)for(var u=0;u<o;u++)r[i+s][i+u]=a[s][u];i+=o}return r}(E,n)):void 0}}(e,f,h,_,x);if(x){var F=function(e,t,a,o,s,u,f){var h=i(d(a),e,a),p="BigNumber"===f,_="Complex"===f,x=p?l(0):_?y(0):0,w=p?l(1):_?y(1):1,M=[],S=[];for(var N of s){var F=function(e,t,r){for(var n=0;n<e.length;n++)if(r(e[n],t))return n;return -1}(M,N,v);-1===F?(M.push(N),S.push(1)):S[F]+=1}for(var T=[],B=M.length,O=Array(t).fill(x),I=c(Array(t).fill(w)),z=0;z<B;z++)!function(){var e=M[z],s=r(h,i(e,I)),c=g(s,O);for(c.shift();c.length<S[z];){var p=function(e,t,r,n,i){for(var a,o="BigNumber"===i?l(1e3):1e3,s=0;s<5;++s){a=function(e,t,r){var n="BigNumber"===r,i="Complex"===r,a=Array(e).fill(0).map(e=>2*Math.random()-1);return n&&(a=a.map(e=>l(e))),i&&(a=a.map(e=>y(e))),C(a=E(a,t),r)}(t,r,i);try{a=m(e,a)}catch(e){continue}if(b(A(a),o))break}if(s>=5)return null;for(s=0;;){var u=m(e,a);if(D(A(E(a,[u])),n))break;if(++s>=10)return null;a=C(u)}return a}(s,t,c,u,f);if(null===p)break;c.push(p)}var v=i(d(o),a);c=c.map(e=>i(v,e)),T.push(...c.map(t=>({value:e,vector:n(t)})))}();return T}(e,f,N,M,S,h,_);return{values:S,eigenvectors:F}}return{values:S}}}({config:t,addScalar:a,subtract:o,multiply:g,multiplyScalar:h,flatten:D,divideScalar:d,sqrt:w,abs:u,bignumber:m,diag:E,size:A,reshape:C,qr:M,inv:p,usolve:S,usolveAll:N,equal:s,complex:x,larger:y,smaller:B,matrixFromColumns:O,dot:I});return n("eigs",{Array:function(e){return k(i(e))},"Array, number|BigNumber":function(e,t){return k(i(e),{precision:t})},"Array, Object":(e,t)=>k(i(e),t),Matrix:function(e){return k(e,{matricize:!0})},"Matrix, number|BigNumber":function(e,t){return k(e,{precision:t,matricize:!0})},"Matrix, Object":function(e,t){var n={matricize:!0};return r(iR)(n,t),k(e,n)}});function k(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=!("eigenvectors"in n)||n.eigenvectors,s=function(e,t,r){var n=e.toArray(),i=e.size();if(2!==i.length||i[0]!==i[1])throw RangeError("Matrix must be square (size: ".concat(a5(i),")"));var a=i[0];if(function(e,t,r){for(var n=0;n<t;n++)for(var i=0;i<t;i++)if(y(m(u(F(e[n][i]))),r))return!1;return!0}(n,a,t)&&(function(e,t){for(var r=0;r<t;r++)for(var n=0;n<t;n++)e[r][n]=T(e[r][n])}(n,a),function(e,t,r){for(var n=0;n<t;n++)for(var i=n;i<t;i++)if(y(m(u(o(e[n][i],e[i][n]))),r))return!1;return!0}(n,a,t))){var s=L(e,n,a);return z(n,a,t,s,r)}var l=L(e,n,a);return R(n,a,t,l,r)}(e,null!=(r=n.precision)?r:t.relTol,a);return n.matricize&&(s.values=i(s.values),a&&(s.eigenvectors=s.eigenvectors.map(e=>{var{value:t,vector:r}=e;return{value:t,vector:i(r)}}))),a&&Object.defineProperty(s,"vectors",{enumerable:!1,get:()=>{throw Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),s}function L(e,t,r){var n=e.datatype();if("number"===n||"BigNumber"===n||"Complex"===n)return n;for(var i=!1,a=!1,o=!1,s=0;s<r;s++)for(var u=0;u<r;u++){var l=t[s][u];if(iG(l)||iZ(l))i=!0;else if(iV(l))a=!0;else if(iY(l))o=!0;else throw TypeError("Unsupported type in Matrix: "+ax(l))}if(a&&o&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),o){for(var c=0;c<r;c++)for(var f=0;f<r;f++)t[c][f]=x(t[c][f]);return"Complex"}if(a){for(var h=0;h<r;h++)for(var d=0;d<r;d++)t[h][d]=m(t[h][d]);return"BigNumber"}if(i){for(var p=0;p<r;p++)for(var g=0;g<r;g++)t[p][g]=_(t[p][g]);return"number"}throw TypeError("Matrix contains unsupported types only.")}}),uW="equal",uY=aS(uW,["typed","matrix","equalScalar","DenseMatrix","concat","SparseMatrix"],e=>{var{typed:t,matrix:r,equalScalar:n,DenseMatrix:i,concat:a,SparseMatrix:o}=e,s=sE({typed:t}),u=sW({typed:t,SparseMatrix:o}),l=sC({typed:t,DenseMatrix:i}),c=sf({typed:t,matrix:r,concat:a});return t(uW,uZ({typed:t,equalScalar:n}),c({elop:n,SS:u,DS:s,Ss:l}))}),uZ=aS(uW,["typed","equalScalar"],e=>{var{typed:t,equalScalar:r}=e;return t(uW,{"any, any":function(e,t){return null===e?null===t:null===t?null===e:void 0===e?void 0===t:void 0===t?void 0===e:r(e,t)}})}),uX="equalScalar",uJ=aS(uX,["typed","config"],e=>{var{typed:t,config:r}=e,n=s9({typed:t});return t(uX,{"boolean, boolean":function(e,t){return e===t},"number, number":function(e,t){return aW(e,t,r.relTol,r.absTol)},"BigNumber, BigNumber":function(e,t){return e.eq(t)||sZ(e,t,r.relTol,r.absTol)},"bigint, bigint":function(e,t){return e===t},"Fraction, Fraction":function(e,t){return e.equals(t)},"Complex, Complex":function(e,t){var n,i;return n=r.relTol,i=r.absTol,aW(e.re,t.re,n,i)&&aW(e.im,t.im,n,i)}},n)});aS(uX,["typed","config"],e=>{var{typed:t,config:r}=e;return t(uX,{"number, number":function(e,t){return aW(e,t,r.relTol,r.absTol)}})});var uQ=.46875,uK=.5641895835477563,u0=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,21531153547440383e-24],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,6587491615298378e-19,.016315387137302097]],u1=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],u2=0x20000000000000,u8=aS("exp",["typed"],e=>{var{typed:t}=e;return t("exp",{number:oU,Complex:function(e){return e.exp()},BigNumber:function(e){return e.exp()}})}),u3="factorial",u5=aS(u3,["typed","gamma"],e=>{var{typed:t,gamma:r}=e;return t(u3,{number:function(e){if(e<0)throw Error("Value must be non-negative");return r(e+1)},BigNumber:function(e){if(e.isNegative())throw Error("Value must be non-negative");return r(e.plus(1))},"Array | Matrix":t.referToSelf(e=>t=>oM(t,e))})}),u6=(e=>{var{typed:t,matrix:r,addScalar:n,multiplyScalar:i,divideScalar:a,exp:o,tau:s,i:u,dotDivide:l,conj:c,pow:f,ceil:h,log2:d}=e;return t("fft",{Array:p,Matrix:function(e){return e.create(p(e.valueOf()),e.datatype())}});function p(e){var t=oe(e);return 1===t.length?m(e,t[0]):function e(t,r){var n=oe(t);if(0!==r)return Array(n[0]).fill(0).map((n,i)=>e(t[i],r-1));if(1===n.length)return m(t);function i(e){var t=oe(e);return Array(t[1]).fill(0).map((r,n)=>Array(t[0]).fill(0).map((t,r)=>e[r][n]))}return i(e(i(t),1))}(e.map(e=>p(e,t.slice(1))),0)}function m(e){var t=e.length;if(1===t)return[e[0]];if(t%2!=0)return function(e){for(var t=e.length,r=o(a(i(-1,i(u,s)),t)),n=[],g=1-t;g<t;g++)n.push(f(r,a(f(g,2),2)));for(var v=f(2,h(d(t+t-1))),y=[...Array(t).fill(0).map((r,a)=>i(e[a],n[t-1+a])),...Array(v-t).fill(0)],b=[...Array(t+t-1).fill(0).map((e,t)=>a(1,n[t])),...Array(v-(t+t-1)).fill(0)],D=m(y),_=m(b),x=l(c(p(c(Array(v).fill(0).map((e,t)=>i(D[t],_[t]))))),v),w=[],E=t-1;E<t+t-1;E++)w.push(i(x[E],n[E]));return w}(e);for(var r=[...m(e.filter((e,t)=>t%2==0),t/2),...m(e.filter((e,t)=>t%2==1),t/2)],g=0;g<t/2;g++){var v=r[g],y=i(r[g+t/2],o(i(i(s,u),a(-g,t))));r[g]=n(v,y),r[g+t/2]=n(v,i(-1,y))}return r}},aS("FibonacciHeap",["smaller","larger"],e=>{var{smaller:t,larger:r}=e,n=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function a(e,t,r){t.left.right=t.right,t.right.left=t.left,r.degree--,r.child===t&&(r.child=t.right),0===r.degree&&(r.child=null),t.left=e,t.right=e.right,e.right=t,t.right.left=t,t.parent=null,t.mark=!1}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(e,r){var n={key:e,value:r,degree:0};if(this._minimum){var i=this._minimum;n.left=i,n.right=i.right,i.right=n,n.right.left=n,t(e,i.key)&&(this._minimum=n)}else n.left=n,n.right=n,this._minimum=n;return this._size++,n},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return 0===this._size},i.prototype.extractMinimum=function(){var e=this._minimum;if(null===e)return e;for(var i=this._minimum,a=e.degree,s=e.child;a>0;){var u=s.right;s.left.right=s.right,s.right.left=s.left,s.left=i,s.right=i.right,i.right=s,s.right.left=s,s.parent=null,s=u,a--}return e.left.right=e.right,e.right.left=e.left,i=e===e.right?null:function(e,i){var a,s=Math.floor(Math.log(i)*n)+1,u=Array(s),l=0,c=e;if(c)for(l++,c=c.right;c!==e;)l++,c=c.right;for(;l>0;){for(var f=c.degree,h=c.right;a=u[f];){if(r(c.key,a.key)){var d=a;a=c,c=d}o(a,c),u[f]=null,f++}u[f]=c,c=h,l--}e=null;for(var p=0;p<s;p++)(a=u[p])&&(e?(a.left.right=a.right,a.right.left=a.left,a.left=e,a.right=e.right,e.right=a,a.right.left=a,t(a.key,e.key)&&(e=a)):e=a);return e}(i=e.right,this._size),this._size--,this._minimum=i,e},i.prototype.remove=function(e){var r,n,i,o;this._minimum=(r=this._minimum,i=-1,(n=e).key=-1,(o=n.parent)&&t(n.key,o.key)&&(a(r,n,o),function e(t,r){var n=r.parent;n&&(r.mark?(a(t,r,n),e(n)):r.mark=!0)}(r,o)),t(n.key,r.key)&&(r=n),r),this.extractMinimum()};var o=function(e,t){e.left.right=e.right,e.right.left=e.left,e.parent=t,t.child?(e.left=t.child,e.right=t.child.right,t.child.right=e,e.right.left=e):(t.child=e,e.right=e,e.left=e),t.degree++,e.mark=!1};return i},{isClass:!0}));function u4(e,t){var r=ux(t,e,"filter");return r.isUnary?oh(e,r.fn):oh(e,function(e,t,n){return r.fn(e,[t],n)})}var u7=aS("fix",["typed","ceil","floor"],e=>{var{typed:t,ceil:r,floor:n}=e;return t("fix",{number:function(e){return e>0?n(e):r(e)},"number, number":function(e,t){return e>0?n(e,t):r(e,t)}})}),u9=aS("fix",["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],e=>{var{typed:t,Complex:r,matrix:n,ceil:i,floor:a,equalScalar:o,zeros:s,DenseMatrix:u}=e,l=sC({typed:t,DenseMatrix:u}),c=sl({typed:t}),f=u7({typed:t,ceil:i,floor:a});return t("fix",{number:f.signatures.number,"number, number | BigNumber":f.signatures["number,number"],Complex:function(e){return new r(e.re>0?Math.floor(e.re):Math.ceil(e.re),e.im>0?Math.floor(e.im):Math.ceil(e.im))},"Complex, number":function(e,t){return new r(e.re>0?a(e.re,t):i(e.re,t),e.im>0?a(e.im,t):i(e.im,t))},"Complex, BigNumber":function(e,t){var n=t.toNumber();return new r(e.re>0?a(e.re,n):i(e.re,n),e.im>0?a(e.im,n):i(e.im,n))},BigNumber:function(e){return e.isNegative()?i(e):a(e)},"BigNumber, number | BigNumber":function(e,t){return e.isNegative()?i(e,t):a(e,t)},bigint:e=>e,"bigint, number":(e,t)=>e,"bigint, BigNumber":(e,t)=>e,Fraction:function(e){return e.s<0n?e.ceil():e.floor()},"Fraction, number | BigNumber":function(e,t){return e.s<0n?i(e,t):a(e,t)},"Unit, number, Unit":t.referToSelf(e=>function(t,r,n){var i=t.toNumeric(n);return n.multiply(e(i,r))}),"Unit, BigNumber, Unit":t.referToSelf(e=>(t,r,n)=>e(t,r.toNumber(),n)),"Array | Matrix, number | BigNumber, Unit":t.referToSelf(e=>(t,r,n)=>oM(t,t=>e(t,r,n),!0)),"Array | Matrix | Unit, Unit":t.referToSelf(e=>(t,r)=>e(t,0,r)),"Array | Matrix":t.referToSelf(e=>t=>oM(t,e,!0)),"Array | Matrix, number | BigNumber":t.referToSelf(e=>(t,r)=>oM(t,t=>e(t,r),!0)),"number | Complex | Fraction | BigNumber, Array":t.referToSelf(e=>(t,r)=>c(n(r),t,e,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":t.referToSelf(e=>(t,r)=>o(t,0)?s(r.size(),r.storage()):"dense"===r.storage()?c(r,t,e,!0):l(r,t,e,!0))})}),le="flatten",lt=aS(le,["typed"],e=>{var{typed:t}=e;return t(le,{Array:function(e){return of(e)},Matrix:function(e){return e.create(of(e.valueOf(),!0),e.datatype())}})}),lr="floor",ln=new(r(sN))(10),li=aS(lr,["typed","config","round"],e=>{var{typed:t,config:r,round:n}=e;function i(e){var t=Math.floor(e),i=n(e);return t===i?t:aW(e,i,r.relTol,r.absTol)&&!aW(e,t,r.relTol,r.absTol)?i:t}return t(lr,{number:i,"number, number":function(e,t){if(!aT(t))throw RangeError("number of decimals in function floor must be an integer");if(t<0||t>15)throw RangeError("number of decimals in floor number must be in range 0 - 15");var r=10**t;return i(e*r)/r}})}),la=aS(lr,["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],e=>{var{typed:t,config:r,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:s}=e,u=sg({typed:t,equalScalar:a}),l=sC({typed:t,DenseMatrix:s}),c=sl({typed:t}),f=li({typed:t,config:r,round:n});function h(e){var t=(e,t)=>sZ(e,t,r.relTol,r.absTol),i=e.floor(),a=n(e);return i.eq(a)?i:t(e,a)&&!t(e,i)?a:i}return t("floor",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(e){return e.floor()},"Complex, number":function(e,t){return e.floor(t)},"Complex, BigNumber":function(e,t){return e.floor(t.toNumber())},BigNumber:h,"BigNumber, BigNumber":function(e,t){var r=ln.pow(t);return h(e.mul(r)).div(r)},bigint:e=>e,"bigint, number":(e,t)=>e,"bigint, BigNumber":(e,t)=>e,Fraction:function(e){return e.floor()},"Fraction, number":function(e,t){return e.floor(t)},"Fraction, BigNumber":function(e,t){return e.floor(t.toNumber())},"Unit, number, Unit":t.referToSelf(e=>function(t,r,n){var i=t.toNumeric(n);return n.multiply(e(i,r))}),"Unit, BigNumber, Unit":t.referToSelf(e=>(t,r,n)=>e(t,r.toNumber(),n)),"Array | Matrix, number | BigNumber, Unit":t.referToSelf(e=>(t,r,n)=>oM(t,t=>e(t,r,n),!0)),"Array | Matrix | Unit, Unit":t.referToSelf(e=>(t,r)=>e(t,0,r)),"Array | Matrix":t.referToSelf(e=>t=>oM(t,e,!0)),"Array, number | BigNumber":t.referToSelf(e=>(t,r)=>oM(t,t=>e(t,r),!0)),"SparseMatrix, number | BigNumber":t.referToSelf(e=>(t,r)=>u(t,r,e,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(e=>(t,r)=>c(t,r,e,!1)),"number | Complex | Fraction | BigNumber, Array":t.referToSelf(e=>(t,r)=>c(i(r),t,e,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":t.referToSelf(e=>(t,r)=>a(t,0)?o(r.size(),r.storage()):"dense"===r.storage()?c(r,t,e,!0):l(r,t,e,!0))})}),lo="forEach";function ls(e,t){var r=ux(t,e,lo);ow(e,r.fn,r.isUnary)}var lu="format",ll=aS(lu,["typed"],e=>{var{typed:t}=e;return t(lu,{any:a5,"any, Object | function | number | BigNumber":a5})}),lc=aS("fraction",["typed","Fraction"],e=>{var{typed:t,Fraction:r}=e;return t("fraction",{number:function(e){if(!isFinite(e)||isNaN(e))throw Error(e+" cannot be represented as a fraction");return new r(e)},string:function(e){return new r(e)},"number, number":function(e,t){return new r(e,t)},"bigint, bigint":function(e,t){return new r(e,t)},null:function(e){return new r(0)},BigNumber:function(e){return new r(e.toString())},bigint:function(e){return new r(e.toString())},Fraction:function(e){return e},Unit:t.referToSelf(e=>t=>{var r=t.clone();return r.value=e(t.value),r}),Object:function(e){return new r(e)},"Array | Matrix":t.referToSelf(e=>t=>oM(t,e))})}),lf={};!function(e){function t(){return Error("Parameters must be integer")}function r(){return Error("Invalid argument")}function n(){return Error("Division by Zero")}function i(e,i){var o=f,s=h;let u=h;if(null!=e)if(void 0!==i){if("bigint"==typeof e)o=e;else{if(isNaN(e))throw r();if(0!=e%1)throw t();o=BigInt(e)}if("bigint"==typeof i)s=i;else{if(isNaN(i))throw r();if(0!=i%1)throw t();s=BigInt(i)}u=o*s}else if("object"==typeof e){if("d"in e&&"n"in e)o=BigInt(e.n),s=BigInt(e.d),"s"in e&&(o*=BigInt(e.s));else if(0 in e)o=BigInt(e[0]),1 in e&&(s=BigInt(e[1]));else if("bigint"==typeof e)o=e;else throw r();u=o*s}else if("number"==typeof e){if(isNaN(e))throw r();if(0>e&&(u=-h,e=-e),0==e%1)o=BigInt(e);else{i=1;var l=0,c=1,d=1;let t=1;for(1<=e&&(i=10**Math.floor(1+Math.log10(e)),e/=i);1e7>=c&&1e7>=t;)if(e===(s=(l+d)/(c+t))){1e7>=c+t?(o=l+d,s=c+t):t>c?(o=d,s=t):(o=l,s=c);break}else e>s?(l+=d,c+=t):(d+=l,t+=c),1e7<c?(o=d,s=t):(o=l,s=c);o=BigInt(o)*BigInt(i),s=BigInt(s)}}else if("string"==typeof e){if(s=0,l=i=o=f,c=d=h,null===(e=e.replace(/_/g,"").match(/\d+|./g)))throw r();if("-"===e[s]?(u=-h,s++):"+"===e[s]&&s++,e.length===s+1?i=a(e[s++],u):"."===e[s+1]||"."===e[s]?("."!==e[s]&&(o=a(e[s++],u)),(++s+1===e.length||"("===e[s+1]&&")"===e[s+3]||"'"===e[s+1]&&"'"===e[s+3])&&(i=a(e[s],u),d=m**BigInt(e[s].length),s++),("("===e[s]&&")"===e[s+2]||"'"===e[s]&&"'"===e[s+2])&&(l=a(e[s+1],u),c=m**BigInt(e[s+1].length)-h,s+=3)):"/"===e[s+1]||":"===e[s+1]?(i=a(e[s],u),d=a(e[s+2],h),s+=3):"/"===e[s+3]&&" "===e[s+1]&&(o=a(e[s],u),i=a(e[s+2],u),d=a(e[s+4],h),s+=5),e.length<=s)u=o=l+(s=d*c)*o+c*i;else throw r()}else if("bigint"==typeof e)u=o=e,s=h;else throw r();if(s===f)throw n();g.s=u<f?-h:h,g.n=o<f?-o:o,g.d=s<f?-s:s}function a(e,t){try{e=BigInt(e)}catch(e){throw r()}return e*t}function o(e){return"bigint"==typeof e?e:Math.floor(e)}function s(e,t){if(t===f)throw n();let r=Object.create(c.prototype);r.s=e<f?-h:h;let i=l(e=e<f?-e:e,t);return r.n=e/i,r.d=t/i,r}function u(e){let t={},r=e,n=d,i=p-h;for(;i<=r;){for(;r%n===f;)r/=n,t[n]=(t[n]||f)+h;i+=h+d*n++}return r!==e?1<r&&(t[r]=(t[r]||f)+h):t[e]=(t[e]||f)+h,t}function l(e,t){if(!e)return t;if(!t)return e;for(;;){if(!(e%=t))return t;if(!(t%=e))return e}}function c(e,t){if(i(e,t),!(this instanceof c))return s(g.s*g.n,g.d);e=l(g.d,g.n),this.s=g.s,this.n=g.n/e,this.d=g.d/e}"undefined"==typeof BigInt&&(BigInt=function(e){if(isNaN(e))throw Error("");return e});let f=BigInt(0),h=BigInt(1),d=BigInt(2),p=BigInt(5),m=BigInt(10),g={s:h,n:f,d:h};c.prototype={s:h,n:f,d:h,abs:function(){return s(this.n,this.d)},neg:function(){return s(-this.s*this.n,this.d)},add:function(e,t){return i(e,t),s(this.s*this.n*g.d+g.s*this.d*g.n,this.d*g.d)},sub:function(e,t){return i(e,t),s(this.s*this.n*g.d-g.s*this.d*g.n,this.d*g.d)},mul:function(e,t){return i(e,t),s(this.s*g.s*this.n*g.n,this.d*g.d)},div:function(e,t){return i(e,t),s(this.s*g.s*this.n*g.d,this.d*g.n)},clone:function(){return s(this.s*this.n,this.d)},mod:function(e,t){if(void 0===e)return s(this.s*this.n%this.d,h);if(i(e,t),f===g.n*this.d)throw n();return s(this.s*g.d*this.n%(g.n*this.d),g.d*this.d)},gcd:function(e,t){return i(e,t),s(l(g.n,this.n)*l(g.d,this.d),g.d*this.d)},lcm:function(e,t){return i(e,t),g.n===f&&this.n===f?s(f,h):s(g.n*this.n,l(g.n,this.n)*l(g.d,this.d))},inverse:function(){return s(this.s*this.d,this.n)},pow:function(e,t){if(i(e,t),g.d===h)return g.s<f?s((this.s*this.d)**g.n,this.n**g.n):s((this.s*this.n)**g.n,this.d**g.n);if(this.s<f)return null;e=u(this.n),t=u(this.d);let r=h,n=h;for(let t in e)if("1"!==t){if("0"===t){r=f;break}if(e[t]*=g.n,e[t]%g.d!==f)return null;e[t]/=g.d,r*=BigInt(t)**e[t]}for(let e in t)if("1"!==e){if(t[e]*=g.n,t[e]%g.d!==f)return null;t[e]/=g.d,n*=BigInt(e)**t[e]}return g.s<f?s(n,r):s(r,n)},log:function(e,t){if(i(e,t),this.s<=f||g.s<=f)return null;var r={};e=u(g.n);let n=u(g.d);t=u(this.n);let a=u(this.d);for(var o in n)e[o]=(e[o]||f)-n[o];for(var c in a)t[c]=(t[c]||f)-a[c];for(var h in e)"1"!==h&&(r[h]=!0);for(var d in t)"1"!==d&&(r[d]=!0);for(let n in c=o=null,r)if(h=e[n]||f,r=t[n]||f,h===f){if(r!==f)return null}else if(d=l(r,h),r/=d,h/=d,null===o&&null===c)o=r,c=h;else if(r*c!=o*h)return null;return null!==o&&null!==c?s(o,c):null},equals:function(e,t){return i(e,t),this.s*this.n*g.d==g.s*g.n*this.d},lt:function(e,t){return i(e,t),this.s*this.n*g.d<g.s*g.n*this.d},lte:function(e,t){return i(e,t),this.s*this.n*g.d<=g.s*g.n*this.d},gt:function(e,t){return i(e,t),this.s*this.n*g.d>g.s*g.n*this.d},gte:function(e,t){return i(e,t),this.s*this.n*g.d>=g.s*g.n*this.d},compare:function(e,t){return i(e,t),(f<(e=this.s*this.n*g.d-g.s*g.n*this.d))-(e<f)},ceil:function(e){return e=m**BigInt(e||0),s(o(this.s*e*this.n/this.d)+(e*this.n%this.d>f&&this.s>=f?h:f),e)},floor:function(e){return e=m**BigInt(e||0),s(o(this.s*e*this.n/this.d)-(e*this.n%this.d>f&&this.s<f?h:f),e)},round:function(e){return e=m**BigInt(e||0),s(o(this.s*e*this.n/this.d)+this.s*((this.s>=f?h:f)+e*this.n%this.d*d>this.d?h:f),e)},roundTo:function(e,t){i(e,t);var r=this.n*g.d;return t=r%(e=this.d*g.n),r=o(r/e),t+t>=e&&r++,s(this.s*r*g.n,g.d)},divisible:function(e,t){return i(e,t),!(!(g.n*this.d)||this.n*g.d%(g.n*this.d))},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(e){let t=this.n,r=this.d;e=e||15;t:{for(n=r;n%d===f;n/=d);for(;n%p===f;n/=p);if(n===h)n=f;else{for(var n,i=m%n,a=1;i!==h;a++)if(i=i*m%n,2e3<a){n=f;break t}n=BigInt(a)}}t:{i=h,a=m;var s=n;let e=h;for(;s>f;a=a*a%r,s>>=h)s&h&&(e=e*a%r);for(s=0,a=e;300>s;s++){if(i===a){i=BigInt(s);break t}i=i*m%r,a=a*m%r}i=0}if(a=i,i=(this.s<f?"-":"")+o(t/r),(t=t%r*m)&&(i+="."),n){for(e=a;e--;)i+=o(t/r),t%=r,t*=m;for(i+="(",e=n;e--;)i+=o(t/r),t%=r,t*=m;i+=")"}else for(;t&&e--;)i+=o(t/r),t%=r,t*=m;return i},toFraction:function(e){let t=this.n,r=this.d,n=this.s<f?"-":"";if(r===h)n+=t;else{let i=o(t/r);e&&i>f&&(n+=i,n+=" ",t%=r),n=n+t+"/"+r}return n},toLatex:function(e){let t=this.n,r=this.d,n=this.s<f?"-":"";if(r===h)n+=t;else{let i=o(t/r);e&&i>f&&(n+=i,t%=r),n=n+"\\frac{"+t+"}{"+r+"}"}return n},toContinued:function(){let e=this.n,t=this.d,r=[];do{r.push(o(e/t));let n=e%t;e=t,t=n}while(e!==h)return r},simplify:function(e){e=BigInt(1/(e||.001)|0);let t=this.abs(),r=t.toContinued();for(let i=1;i<r.length;i++){let a=s(r[i-1],h);for(var n=i-2;0<=n;n--)a=a.inverse().add(r[n]);if((n=a.sub(t)).n*e<n.d)return a.mul(this.s)}return this}},"function"==typeof define&&define.amd?define([],function(){return c}):(Object.defineProperty(c,"__esModule",{value:!0}),c.default=c,c.Fraction=c,lf=c)}(0);var lh=aS("Fraction",[],()=>(Object.defineProperty(r(lf),"name",{value:"Fraction"}),r(lf).prototype.constructor=r(lf),r(lf).prototype.type="Fraction",r(lf).prototype.isFraction=!0,r(lf).prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},r(lf).fromJSON=function(e){return new(r(lf))(e)},r(lf)),{isClass:!0});function ld(e){if(aT(e))return e<=0?isFinite(e)?1/0:NaN:e>171?1/0:s2(1,e-1);if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*ld(1-e));if(e>=171.35)return 1/0;if(e>85){var t,r=e*e,n=r*e,i=n*e,a=i*e;return Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*r)-139/(51840*n)-571/(2488320*i)+163879/(0xc756000*a)+5246819/(0x11850f0000*a*e))}--e,t=lm[0];for(var o=1;o<lm.length;++o)t+=lm[o]/(e+o);var s=e+lp+.5;return Math.sqrt(2*Math.PI)*Math.pow(s,e+.5)*Math.exp(-s)*t}e=>{var{typed:t,add:r,multiply:n,Complex:i,divide:a,matrix:o}=e;return t("freqz",{"Array, Array":function(e,t){return s(e,t,u(512))},"Array, Array, Array":function(e,t,r){return s(e,t,r)},"Array, Array, number":function(e,t,r){if(r<0)throw Error("w must be a positive number");return s(e,t,u(r))},"Matrix, Matrix":function(e,t){var r=u(512),{w:n,h:i}=s(e.valueOf(),t.valueOf(),r);return{w:o(n),h:o(i)}},"Matrix, Matrix, Matrix":function(e,t,r){var{h:n}=s(e.valueOf(),t.valueOf(),r.valueOf());return{h:o(n),w:o(r)}},"Matrix, Matrix, number":function(e,t,r){if(r<0)throw Error("w must be a positive number");var n=u(r),{h:i}=s(e.valueOf(),t.valueOf(),n);return{h:o(i),w:o(n)}}});function s(e,t,o){for(var s=[],u=[],l=0;l<o.length;l++){for(var c=i(0,0),f=i(0,0),h=0;h<e.length;h++)c=r(c,n(e[h],i(Math.cos(-h*o[l]),Math.sin(-h*o[l]))));for(var d=0;d<t.length;d++)f=r(f,n(t[d],i(Math.cos(-d*o[l]),Math.sin(-d*o[l]))));s.push(c),u.push(f)}for(var p=[],m=0;m<s.length;m++)p.push(a(s[m],u[m]));return{h:p,w:o}}function u(e){for(var t=[],r=0;r<e;r++)t.push(r/e*Math.PI);return t}},ld.signature="number";var lp=4.7421875,lm=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,1580887032249125e-19,-21026444172410488e-20,21743961811521265e-20,-1643181065367639e-19,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],lg=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function lv(e){if(e<0)return NaN;if(0===e)return 1/0;if(!isFinite(e))return e;if(e<.5)return Math.log(Math.PI/Math.sin(Math.PI*e))-lv(1-e);for(var t=(e-=1)+5+.5,r=lg[0],n=6;n>=1;n--)r+=lg[n]/(e+n);return .9189385332046728+(e+.5)*Math.log(t)-t+Math.log(r)}lv.signature="number";var ly="gamma",lb=aS(ly,["typed","config","multiplyScalar","pow","BigNumber","Complex"],e=>{var{typed:t,config:r,multiplyScalar:n,pow:i,BigNumber:a,Complex:o}=e;return t(ly,{number:ld,Complex:function e(t){if(0===t.im)return ld(t.re);if(t.re<.5){var r=new o(1-t.re,-t.im),n=new o(Math.PI*t.re,Math.PI*t.im);return new o(Math.PI).div(n.sin()).div(e(r))}t=new o(t.re-1,t.im);for(var i=new o(lm[0],0),a=1;a<lm.length;++a){var s=new o(lm[a],0);i=i.add(s.div(t.add(a)))}var u=new o(t.re+lp+.5,t.im),l=Math.sqrt(2*Math.PI),c=u.pow(t.add(.5)),f=u.neg().exp();return i.mul(l).mul(c).mul(f)},BigNumber:function(e){if(e.isInteger())return e.isNegative()||e.isZero()?new a(1/0):function e(t){if(t<8)return new a([1,1,2,6,24,120,720,5040][t]);var n=r.precision+(0|Math.log(t.toNumber())),i=a.clone({precision:n});if(t%2==1)return t.times(e(new a(t-1)));for(var o=t,s=new i(t),u=t.toNumber();o>2;)o-=2,u+=o,s=s.times(u);return new a(s.toPrecision(a.precision))}(e.minus(1));if(!e.isFinite())return new a(e.isNegative()?NaN:1/0);throw Error("Integer BigNumber expected")}})}),lD=aS("mod",["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],e=>{var{typed:t,config:r,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:s,concat:u}=e,l=la({typed:t,config:r,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:s}),c=sm({typed:t,equalScalar:a}),f=sE({typed:t}),h=s7({typed:t,equalScalar:a}),d=sg({typed:t,equalScalar:a}),p=sC({typed:t,DenseMatrix:s}),m=sf({typed:t,matrix:i,concat:u});return t("mod",{"number, number":function(e,t){return 0===t?e:e-t*l(e/t)},"BigNumber, BigNumber":function(e,t){return t.isZero()?e:e.sub(t.mul(l(e.div(t))))},"bigint, bigint":function(e,t){if(0n===t)return e;if(e<0){var r=e%t;return 0n===r?r:r+t}return e%t},"Fraction, Fraction":function(e,t){return t.equals(0)?e:e.sub(t.mul(l(e.div(t))))}},m({SS:h,DS:f,SD:c,Ss:d,sS:p}))});function l_(e,t,r,n){if(!(this instanceof l_))throw SyntaxError("Constructor must be called with the new operator");this.fn=e,this.count=t,this.min=r,this.max=n,this.message="Wrong number of arguments in function "+e+" ("+t+" provided, "+r+(null!=n?"-"+n:"")+" expected)",this.stack=Error().stack}l_.prototype=Error(),l_.prototype.constructor=Error,l_.prototype.name="ArgumentsError",l_.prototype.isArgumentsError=!0;var lx="number | BigNumber | Fraction | Matrix | Array",lw="".concat(lx,", ").concat(lx,", ...").concat(lx);function lE(e){return!e.some(e=>Array.isArray(e))}var lA="getMatrixDataType",lC=aS(lA,["typed"],e=>{var{typed:t}=e;return t(lA,{Array:function(e){return og(e,ax)},Matrix:function(e){return e.getDataType()}})});aS("hex",["typed","format"],e=>{var{typed:t,format:r}=e;return t("hex",{"number | BigNumber":function(e){return r(e,{notation:"hex"})},"number | BigNumber, number | BigNumber":function(e,t){return r(e,{notation:"hex",wordSize:t})}})});var lM="identity",lS=aS(lM,["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],e=>{var{typed:t,config:r,matrix:n,BigNumber:i,DenseMatrix:a,SparseMatrix:o}=e;return t(lM,{"":function(){return"Matrix"===r.matrix?n([]):[]},string:function(e){return n(e)},"number | BigNumber":function(e){return u(e,e,"Matrix"===r.matrix?"dense":void 0)},"number | BigNumber, string":function(e,t){return u(e,e,t)},"number | BigNumber, number | BigNumber":function(e,t){return u(e,t,"Matrix"===r.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(e,t,r){return u(e,t,r)},Array:function(e){return s(e)},"Array, string":function(e,t){return s(e,t)},Matrix:function(e){return s(e.valueOf(),e.storage())},"Matrix, string":function(e,t){return s(e.valueOf(),t)}});function s(e,t){switch(e.length){case 0:return t?n(t):[];case 1:return u(e[0],e[0],t);case 2:return u(e[0],e[1],t);default:throw Error("Vector containing two values expected")}}function u(e,t,r){var n=iV(e)||iV(t)?i:null;if(iV(e)&&(e=e.toNumber()),iV(t)&&(t=t.toNumber()),!aT(e)||e<1||!aT(t)||t<1)throw Error("Parameters in function identity must be positive integers");var s=n?new i(1):1,u=n?new n(0):0,l=[e,t];if(r){if("sparse"===r)return o.diagonal(l,s,0,u);if("dense"===r)return a.diagonal(l,s,0,u);throw TypeError('Unknown matrix type "'.concat(r,'"'))}for(var c=oa([],l,u),f=e<t?e:t,h=0;h<f;h++)c[h][h]=s;return c}}),lN=aS("im",["typed"],e=>{var{typed:t}=e;return t("im",{number:()=>0,"BigNumber | Fraction":e=>e.mul(0),Complex:e=>e.im,"Array | Matrix":t.referToSelf(e=>t=>oM(t,e))})}),lF=aS("ImmutableDenseMatrix",["smaller","DenseMatrix"],e=>{var{smaller:t,DenseMatrix:r}=e;function n(e,t){if(!(this instanceof n))throw SyntaxError("Constructor must be called with the new operator");if(t&&!iJ(t))throw Error("Invalid datatype: "+t);if(iK(e)||iQ(e)){var i=new r(e,t);this._data=i._data,this._size=i._size,this._datatype=i._datatype,this._min=null,this._max=null}else if(e&&iQ(e.data)&&iQ(e.size))this._data=e.data,this._size=e.size,this._datatype=e.datatype,this._min=void 0!==e.min?e.min:null,this._max=void 0!==e.max?e.max:null;else if(e)throw TypeError("Unsupported type of data ("+ax(e)+")");else this._data=[],this._size=[0],this._datatype=t,this._min=null,this._max=null}return n.prototype=new r,n.prototype.type="ImmutableDenseMatrix",n.prototype.isImmutableDenseMatrix=!0,n.prototype.subset=function(e){switch(arguments.length){case 1:var t=r.prototype.subset.call(this,e);if(iK(t))return new n({data:t._data,size:t._size,datatype:t._datatype});return t;case 2:case 3:throw Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw SyntaxError("Wrong number of arguments")}},n.prototype.set=function(){throw Error("Cannot invoke set on an Immutable Matrix instance")},n.prototype.resize=function(){throw Error("Cannot invoke resize on an Immutable Matrix instance")},n.prototype.reshape=function(){throw Error("Cannot invoke reshape on an Immutable Matrix instance")},n.prototype.clone=function(){return new n({data:aw(this._data),size:aw(this._size),datatype:this._datatype})},n.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.fromJSON=function(e){return new n(e)},n.prototype.swapRows=function(){throw Error("Cannot invoke swapRows on an Immutable Matrix instance")},n.prototype.min=function(){if(null===this._min){var e=null;this.forEach(function(r){(null===e||t(r,e))&&(e=r)}),this._min=null!==e?e:void 0}return this._min},n.prototype.max=function(){if(null===this._max){var e=null;this.forEach(function(r){(null===e||t(e,r))&&(e=r)}),this._max=null!==e?e:void 0}return this._max},n},{isClass:!0}),lT="index",lB=aS(lT,["typed","Index"],e=>{var{typed:t,Index:r}=e;return t(lT,{"...number | string | BigNumber | Range | Array | Matrix":function(e){var t=e.map(function(e){return iV(e)?e.toNumber():iQ(e)||iK(e)?e.map(function(e){return iV(e)?e.toNumber():e}):e}),n=new r;return r.apply(n,t),n}})}),lO=aS("Index",["ImmutableDenseMatrix","getMatrixDataType"],e=>{var{ImmutableDenseMatrix:t,getMatrixDataType:r}=e;function n(e){if(!(this instanceof n))throw SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var t=0,a=arguments.length;t<a;t++){var o=arguments[t],s=iQ(o),u=iK(o),l=typeof o,c=null;if(i8(o))this._dimensions.push(o),this._isScalar=!1;else if(s||u){var f=void 0;"boolean"===r(o)?(s&&(f=i(lI(o).valueOf())),u&&(f=i(lI(o._data).valueOf())),c=o.valueOf().length):f=i(o.valueOf()),this._dimensions.push(f);var h=f.size();(1!==h.length||1!==h[0]||null!==c)&&(this._isScalar=!1)}else if("number"===l)this._dimensions.push(i([o]));else if("bigint"===l)this._dimensions.push(i([Number(o)]));else if("string"===l)this._dimensions.push(o);else throw TypeError("Dimension must be an Array, Matrix, number, bigint, string, or Range");this._sourceSize.push(c)}}function i(e){for(var r=0,n=e.length;r<n;r++)if("number"!=typeof e[r]||!aT(e[r]))throw TypeError("Index parameters must be positive integer numbers");return new t(e)}return n.prototype.type="Index",n.prototype.isIndex=!0,n.prototype.clone=function(){var e=new n;return e._dimensions=aw(this._dimensions),e._isScalar=this._isScalar,e._sourceSize=this._sourceSize,e},n.create=function(e){var t=new n;return n.apply(t,e),t},n.prototype.size=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];e[t]="string"==typeof n?1:n.size()[0]}return e},n.prototype.max=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];e[t]="string"==typeof n?n:n.max()}return e},n.prototype.min=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];e[t]="string"==typeof n?n:n.min()}return e},n.prototype.forEach=function(e){for(var t=0,r=this._dimensions.length;t<r;t++)e(this._dimensions[t],t,this)},n.prototype.dimension=function(e){return"number"!=typeof e?null:this._dimensions[e]||null},n.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},n.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},n.prototype.isScalar=function(){return this._isScalar},n.prototype.toArray=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];e.push("string"==typeof n?n:n.toArray())}return e},n.prototype.valueOf=n.prototype.toArray,n.prototype.toString=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];"string"==typeof n?e.push(JSON.stringify(n)):e.push(n.toString())}return"["+e.join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},n.fromJSON=function(e){return n.create(e.dimensions)},n},{isClass:!0});function lI(e){var t=[];return e.forEach((e,r)=>{e&&t.push(r)}),t}var lz=aS("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],e=>{var{typed:t,matrix:r,divideScalar:n,addScalar:i,multiply:a,unaryMinus:o,det:s,identity:u,abs:l}=e;return t("inv",{"Array | Matrix":function(e){var t=iK(e)?e.size():oe(e);switch(t.length){case 1:if(1===t[0])if(iK(e))return r([n(1,e.valueOf()[0])]);else return[n(1,e[0])];throw RangeError("Matrix must be square (size: "+a5(t)+")");case 2:var i=t[0],a=t[1];if(i===a)if(iK(e))return r(c(e.valueOf(),i,a),e.storage());else return c(e,i,a);throw RangeError("Matrix must be square (size: "+a5(t)+")");default:throw RangeError("Matrix must be two dimensional (size: "+a5(t)+")")}},any:function(e){return n(1,e)}});function c(e,t,r){if(1===t){if(0===(d=e[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,d)]]}if(2===t){var c,f,h,d,p,m=s(e);if(0===m)throw Error("Cannot calculate inverse, determinant is zero");return[[n(e[1][1],m),n(o(e[0][1]),m)],[n(o(e[1][0]),m),n(e[0][0],m)]]}var g=e.concat();for(c=0;c<t;c++)g[c]=g[c].concat();for(var v=u(t).valueOf(),y=0;y<r;y++){var b=l(g[y][y]),D=y;for(c=y+1;c<t;)l(g[c][y])>b&&(b=l(g[c][y]),D=c),c++;if(0===b)throw Error("Cannot calculate inverse, determinant is zero");(c=D)!==y&&(p=g[y],g[y]=g[c],g[c]=p,p=v[y],v[y]=v[c],v[c]=p);var _=g[y],x=v[y];for(c=0;c<t;c++){var w=g[c],E=v[c];if(c!==y){if(0!==w[y]){for(h=n(o(w[y]),_[y]),f=y;f<r;f++)w[f]=i(w[f],a(h,_[f]));for(f=0;f<r;f++)E[f]=i(E[f],a(h,x[f]))}}else{for(h=_[y],f=y;f<r;f++)w[f]=n(w[f],h);for(f=0;f<r;f++)E[f]=n(E[f],h)}}}return v}}),lR="isInteger",lk=aS(lR,["typed"],e=>{var{typed:t}=e;return t(lR,{number:aT,BigNumber:function(e){return e.isInt()},bigint:function(e){return!0},Fraction:function(e){return 1n===e.d},"Array | Matrix":t.referToSelf(e=>t=>oM(t,e))})}),lL="number";function lP(e){return Number.isNaN(e)}lP.signature=lL;var lq="isNaN",lU=aS(lq,["typed"],e=>{var{typed:t}=e;return t(lq,{number:lP,BigNumber:function(e){return e.isNaN()},bigint:function(e){return!1},Fraction:function(e){return!1},Complex:function(e){return e.isNaN()},Unit:function(e){return Number.isNaN(e.value)},"Array | Matrix":t.referToSelf(e=>t=>oM(t,e))})}),lj="isNegative",lH=aS(lj,["typed","config"],e=>{var{typed:t,config:r}=e;return t(lj,{number:e=>!aW(e,0,r.relTol,r.absTol)&&e<0,BigNumber:e=>!sZ(e,new e.constructor(0),r.relTol,r.absTol)&&e.isNeg()&&!e.isZero()&&!e.isNaN(),bigint:e=>e<0n,Fraction:e=>e.s<0n,Unit:t.referToSelf(e=>r=>t.find(e,r.valueType())(r.value)),"Array | Matrix":t.referToSelf(e=>t=>oM(t,e))})}),l$="isNumeric",lG=aS(l$,["typed"],e=>{var{typed:t}=e;return t(l$,{"number | BigNumber | bigint | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":t.referToSelf(e=>t=>oM(t,e))})}),lV="isPositive",lW=aS(lV,["typed","config"],e=>{var{typed:t,config:r}=e;return t(lV,{number:e=>!aW(e,0,r.relTol,r.absTol)&&e>0,BigNumber:e=>!sZ(e,new e.constructor(0),r.relTol,r.absTol)&&!e.isNeg()&&!e.isZero()&&!e.isNaN(),bigint:e=>e>0n,Fraction:e=>e.s>0n&&e.n>0n,Unit:t.referToSelf(e=>r=>t.find(e,r.valueType())(r.value)),"Array | Matrix":t.referToSelf(e=>t=>oM(t,e))})}),lY="isZero",lZ=aS(lY,["typed","equalScalar"],e=>{var{typed:t,equalScalar:r}=e;return t(lY,{"number | BigNumber | Complex | Fraction":e=>r(e,0),bigint:e=>0n===e,Unit:t.referToSelf(e=>r=>t.find(e,r.valueType())(r.value)),"Array | Matrix":t.referToSelf(e=>t=>oM(t,e))})}),lX="larger",lJ=aS(lX,["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],e=>{var{typed:t,config:r,bignumber:n,matrix:i,DenseMatrix:a,concat:o,SparseMatrix:s}=e,u=sE({typed:t}),l=sW({typed:t,SparseMatrix:s}),c=sC({typed:t,DenseMatrix:a}),f=sf({typed:t,matrix:i,concat:o}),h=s9({typed:t});function d(e,t){return e.gt(t)&&!sZ(e,t,r.relTol,r.absTol)}return t(lX,lQ({typed:t,config:r}),{"boolean, boolean":(e,t)=>e>t,"BigNumber, BigNumber":d,"bigint, bigint":(e,t)=>e>t,"Fraction, Fraction":(e,t)=>1===e.compare(t),"Fraction, BigNumber":function(e,t){return d(n(e),t)},"BigNumber, Fraction":function(e,t){return d(e,n(t))},"Complex, Complex":function(){throw TypeError("No ordering relation is defined for complex numbers")}},h,f({SS:l,DS:u,Ss:c}))}),lQ=aS(lX,["typed","config"],e=>{var{typed:t,config:r}=e;return t(lX,{"number, number":function(e,t){return e>t&&!aW(e,t,r.relTol,r.absTol)}})}),lK="largerEq",l0=aS(lK,["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],e=>{var{typed:t,config:r,matrix:n,DenseMatrix:i,concat:a,SparseMatrix:o}=e,s=sE({typed:t}),u=sW({typed:t,SparseMatrix:o}),l=sC({typed:t,DenseMatrix:i}),c=sf({typed:t,matrix:n,concat:a}),f=s9({typed:t});return t(lK,l1({typed:t,config:r}),{"boolean, boolean":(e,t)=>e>=t,"BigNumber, BigNumber":function(e,t){return e.gte(t)||sZ(e,t,r.relTol,r.absTol)},"bigint, bigint":function(e,t){return e>=t},"Fraction, Fraction":(e,t)=>-1!==e.compare(t),"Complex, Complex":function(){throw TypeError("No ordering relation is defined for complex numbers")}},f,c({SS:u,DS:s,Ss:l}))}),l1=aS(lK,["typed","config"],e=>{var{typed:t,config:r}=e;return t(lK,{"number, number":function(e,t){return e>=t||aW(e,t,r.relTol,r.absTol)}})}),l2=aS("matAlgo08xS0Sid",["typed","equalScalar"],e=>{var{typed:t,equalScalar:r}=e;return function(e,n,i){var a,o,s,u,l,c=e._values,f=e._index,h=e._ptr,d=e._size,p=e._datatype||void 0===e._data?e._datatype:e.getDataType(),m=n._values,g=n._index,v=n._ptr,y=n._size,b=n._datatype||void 0===n._data?n._datatype:n.getDataType();if(d.length!==y.length)throw new a9(d.length,y.length);if(d[0]!==y[0]||d[1]!==y[1])throw RangeError("Dimension mismatch. Matrix A ("+d+") must match Matrix B ("+y+")");if(!c||!m)throw Error("Cannot perform operation on Pattern Sparse Matrices");var D=d[0],_=d[1],x=r,w=0,E=i;"string"==typeof p&&p===b&&"mixed"!==p&&(a=p,x=t.find(r,[a,a]),w=t.convert(0,a),E=t.find(i,[a,a]));for(var A=[],C=[],M=[],S=[],N=[],F=0;F<_;F++){M[F]=C.length;var T=F+1;for(s=h[F],u=h[F+1],o=s;o<u;o++)N[l=f[o]]=T,S[l]=c[o],C.push(l);for(s=v[F],u=v[F+1],o=s;o<u;o++)N[l=g[o]]===T&&(S[l]=E(S[l],m[o]));for(o=M[F];o<C.length;){var B=S[l=C[o]];x(B,w)?C.splice(o,1):(A.push(B),o++)}}return M[_]=C.length,e.createSparseMatrix({values:A,index:C,ptr:M,size:[D,_],datatype:p===e._datatype&&b===n._datatype?a:void 0})}}),l8=aS("useMatrixForArrayScalar",["typed","matrix"],e=>{var{typed:t,matrix:r}=e;return{"Array, number":t.referTo("DenseMatrix, number",e=>(t,n)=>e(r(t),n).valueOf()),"Array, BigNumber":t.referTo("DenseMatrix, BigNumber",e=>(t,n)=>e(r(t),n).valueOf()),"number, Array":t.referTo("number, DenseMatrix",e=>(t,n)=>e(t,r(n)).valueOf()),"BigNumber, Array":t.referTo("BigNumber, DenseMatrix",e=>(t,n)=>e(t,r(n)).valueOf())}});function l3(e,t,r,n){return function(i){if(i>0||r.predictable){if(i<=0)return NaN;var a=i.toString(16),o=a.substring(0,15);return e*(a.length-o.length)+t(Number("0x"+o))}return n(i.toNumber())}}var l5=Math.log(16),l6=(e=>{var{typed:t,typeOf:r,config:n,divideScalar:i,Complex:a}=e;function o(e){return e.log()}function s(e){return o(new a(e,0))}return t("log",{number:function(e){return e>=0||n.predictable?o$(e):s(e)},bigint:l3(l5,o$,n,s),Complex:o,BigNumber:function(e){return!e.isNegative()||n.predictable?e.ln():s(e.toNumber())},"any, any":t.referToSelf(e=>(t,n)=>{if("Fraction"===r(t)&&"Fraction"===r(n)){var a=t.log(n);if(null!==a)return a}return i(e(t),e(n))})})},oG(16)),l4="log2",l7=aS(l4,["typed","config","Complex"],e=>{var{typed:t,config:r,Complex:n}=e;function i(e){return a(new n(e,0))}return t(l4,{number:function(e){return e>=0||r.predictable?oV(e):i(e)},bigint:l3(4,oV,r,i),Complex:a,BigNumber:function(e){return!e.isNegative()||r.predictable?e.log(2):i(e.toNumber())},"Array | Matrix":t.referToSelf(e=>t=>oM(t,e))});function a(e){var t=Math.sqrt(e.re*e.re+e.im*e.im);return new n(Math.log2?Math.log2(t):Math.log(t)/Math.LN2,Math.atan2(e.im,e.re)/Math.LN2)}});function l9(e){var{DenseMatrix:t}=e;return function(e,r,n){var i=e.size();if(2!==i.length)throw RangeError("Matrix must be two dimensional (size: "+a5(i)+")");var a=i[0];if(a!==i[1])throw RangeError("Matrix must be square (size: "+a5(i)+")");var o=[];if(iK(r)){var s=r.size(),u=r._data;if(1===s.length){if(s[0]!==a)throw RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var l=0;l<a;l++)o[l]=[u[l]];return new t({data:o,size:[a,1],datatype:r._datatype})}if(2===s.length){if(s[0]!==a||1!==s[1])throw RangeError("Dimension mismatch. Matrix columns must match vector length.");if(i1(r)){if(n){o=[];for(var c=0;c<a;c++)o[c]=[u[c][0]];return new t({data:o,size:[a,1],datatype:r._datatype})}return r}if(i2(r)){for(var f=0;f<a;f++)o[f]=[0];for(var h=r._values,d=r._index,p=r._ptr,m=p[1],g=p[0];g<m;g++)o[d[g]][0]=h[g];return new t({data:o,size:[a,1],datatype:r._datatype})}}throw RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(iQ(r)){var v=oe(r);if(1===v.length){if(v[0]!==a)throw RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var y=0;y<a;y++)o[y]=[r[y]];return new t({data:o,size:[a,1]})}if(2===v.length){if(v[0]!==a||1!==v[1])throw RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var b=0;b<a;b++)o[b]=[r[b][0]];return new t({data:o,size:[a,1]})}throw RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var ce="lsolve",ct=aS(ce,["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],e=>{var{typed:t,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:s}=e,u=l9({DenseMatrix:s});return t(ce,{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var r=(t=u(e,t,!0))._data,l=e._size[0],c=e._size[1],f=e._values,h=e._index,d=e._ptr,p=[],m=0;m<c;m++){var g=r[m][0]||0;if(o(g,0))p[m]=[0];else{for(var v=0,y=[],b=[],D=d[m],_=d[m+1],x=D;x<_;x++){var w=h[x];w===m?v=f[x]:w>m&&(y.push(f[x]),b.push(w))}if(o(v,0))throw Error("Linear system cannot be solved since matrix is singular");for(var E=n(g,v),A=0,C=b.length;A<C;A++){var M=b[A];r[M]=[a(r[M][0]||0,i(E,y[A]))]}p[m]=[E]}}return new s({data:p,size:[l,1]})}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return l(e,t)},"Array, Array | Matrix":function(e,t){return l(r(e),t).valueOf()}});function l(e,t){for(var r=(t=u(e,t,!0))._data,l=e._size[0],c=e._size[1],f=[],h=e._data,d=0;d<c;d++){var p=r[d][0]||0,m=void 0;if(o(p,0))m=0;else{var g=h[d][d];if(o(g,0))throw Error("Linear system cannot be solved since matrix is singular");m=n(p,g);for(var v=d+1;v<l;v++)r[v]=[a(r[v][0]||0,i(m,h[v][d]))]}f[d]=[m]}return new s({data:f,size:[l,1]})}}),cr=aS("lup",["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],e=>{var{typed:t,matrix:r,abs:n,addScalar:i,divideScalar:a,multiplyScalar:o,subtractScalar:s,larger:u,equalScalar:l,unaryMinus:c,DenseMatrix:f,SparseMatrix:h,Spa:d}=e;return t("lup",{DenseMatrix:function(e){return p(e)},SparseMatrix:function(e){return function(e){var t,r,i,s=e._size[0],f=e._size[1],p=Math.min(s,f),m=e._values,g=e._index,v=e._ptr,y=[],b=[],D=[],_=[s,p],x=[],w=[],E=[],A=[p,f],C=[],M=[];for(t=0;t<s;t++)C[t]=t,M[t]=t;var S=function(e,t){var r=M[e],n=M[t];C[r]=t,C[n]=e,M[e]=n,M[t]=r};for(r=0;r<f;r++)!function(){var e=new d;r<s&&(D.push(y.length),y.push(1),b.push(r)),E.push(x.length);var f=v[r],p=v[r+1];for(i=f;i<p;i++)t=g[i],e.set(C[t],m[i]);r>0&&e.forEach(0,r-1,function(t,r){h._forEachRow(t,y,b,D,function(n,i){n>t&&e.accumulate(n,c(o(i,r)))})});var M=r,N=e.get(r),F=n(N);e.forEach(r+1,s-1,function(e,t){var r=n(t);u(r,F)&&(M=e,F=r,N=t)}),r!==M&&(h._swapRows(r,M,_[1],y,b,D),h._swapRows(r,M,A[1],x,w,E),e.swap(r,M),S(r,M)),e.forEach(0,s-1,function(e,t){e<=r?(x.push(t),w.push(e)):l(t=a(t,N),0)||(y.push(t),b.push(e))})}();return E.push(x.length),D.push(y.length),{L:new h({values:y,index:b,ptr:D,size:_}),U:new h({values:x,index:w,ptr:E,size:A}),p:C,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}(e)},Array:function(e){var t=p(r(e));return{L:t.L.valueOf(),U:t.U.valueOf(),p:t.p}}});function p(e){var t,r,c,h=e._size[0],d=e._size[1],p=Math.min(h,d),m=aw(e._data),g=[],v=[h,p],y=[],b=[p,d],D=[];for(t=0;t<h;t++)D[t]=t;for(r=0;r<d;r++){if(r>0)for(t=0;t<h;t++){var _=Math.min(t,r),x=0;for(c=0;c<_;c++)x=i(x,o(m[t][c],m[c][r]));m[t][r]=s(m[t][r],x)}var w=r,E=0,A=0;for(t=r;t<h;t++){var C=m[t][r],M=n(C);u(M,E)&&(w=t,E=M,A=C)}if(r!==w&&(D[r]=[D[w],D[w]=D[r]][0],f._swapRows(r,w,m)),r<h)for(t=r+1;t<h;t++)l(m[t][r],0)||(m[t][r]=a(m[t][r],A))}for(r=0;r<d;r++)for(t=0;t<h;t++){if(0===r&&(t<d&&(y[t]=[]),g[t]=[]),t<r){t<d&&(y[t][r]=m[t][r]),r<h&&(g[t][r]=0);continue}if(t===r){t<d&&(y[t][r]=m[t][r]),r<h&&(g[t][r]=1);continue}t<d&&(y[t][r]=0),r<h&&(g[t][r]=m[t][r])}var S=new f({data:g,size:v}),N=new f({data:y,size:b}),F=[];for(t=0,p=D.length;t<p;t++)F[D[t]]=t;return{L:S,U:N,p:F,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}});function cn(e,t){var r,n=t.length,i=[];if(e)for(r=0;r<n;r++)i[e[r]]=t[r];else for(r=0;r<n;r++)i[r]=t[r];return i}var ci="lusolve",ca=aS(ci,["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],e=>{var{typed:t,matrix:r,lup:n,slu:i,usolve:a,lsolve:o,DenseMatrix:s}=e,u=l9({DenseMatrix:s});return t(ci,{"Array, Array | Matrix":function(e,t){var i=n(e=r(e));return c(i.L,i.U,i.p,null,t).valueOf()},"DenseMatrix, Array | Matrix":function(e,t){var r=n(e);return c(r.L,r.U,r.p,null,t)},"SparseMatrix, Array | Matrix":function(e,t){var r=n(e);return c(r.L,r.U,r.p,null,t)},"SparseMatrix, Array | Matrix, number, number":function(e,t,r,n){var a=i(e,r,n);return c(a.L,a.U,a.p,a.q,t)},"Object, Array | Matrix":function(e,t){return c(e.L,e.U,e.p,e.q,t)}});function l(e){if(iK(e))return e;if(iQ(e))return r(e);throw TypeError("Invalid Matrix LU decomposition")}function c(e,t,r,n,i){e=l(e),t=l(t),r&&((i=u(e,i,!0))._data=cn(r,i._data));var s=a(t,o(e,i));return n&&(s._data=cn(n,s._data)),s}});e=>{var{typed:t}=e;return t("map",{"Array, function":r,"Matrix, function":function(e,t){return e.map(t)},"Array|Matrix, Array|Matrix, ...Array|Matrix|function":(e,n,i)=>(function(e,n){if("function"!=typeof n)throw Error("Last argument must be a callback function");var i,a,o,s=e[0].isMatrix,u=oy(...e.map(e=>e.isMatrix?e.size():oe(e))),l=s?(e,t)=>e.get(t):o_,c=s?e.map(t=>t.isMatrix?t.create(oD(t.toArray(),u),t.datatype()):e[0].create(oD(t.valueOf(),u))):e.map(e=>e.isMatrix?oD(e.toArray(),u):oD(e,u));if(t.isTypedFunction(n)){var f,h,d,p,m=u.map(()=>0);o=v((f=n,h=c.map(e=>l(e,m)),d=m,p=c,null!==t.resolve(f,[...h,d,...p])?2:null!==t.resolve(f,[...h,d])?1:(t.resolve(f,h),0)))}else{o=v((i=n,a=e.length,i.length>a+1?2:+(i.length===a+1)))}var g=(e,t)=>o([e,...c.slice(1).map(e=>l(e,t))],t);if(s)return c[0].map(g);return r(c[0],g);function v(e){switch(e){case 0:return e=>n(...e);case 1:return(e,t)=>n(...e,t);case 2:return(e,t)=>n(...e,t,...c)}}})([e,n,...i.slice(0,i.length-1)],i[i.length-1])});function r(e,t){var r=ux(t,e,"map");return ox(e,r.fn,r.isUnary)}};var co="mapSlices",cs=aS(co,["typed","isInteger"],e=>{var{typed:t,isInteger:r}=e;return t(co,{"Array | Matrix, number | BigNumber, function":function(e,t,n){if(!r(t))throw TypeError("Integer number expected for dimension");var i=Array.isArray(e)?oe(e):e.size();if(t<0||t>=i.length)throw new aF(t,i.length);return iK(e)?e.create(cu(e.valueOf(),t,n),e.datatype()):cu(e,t,n)}})},{formerly:"apply"});function cu(e,t,r){var n,i,a;if(t<=0)if(!Array.isArray(e[0]))return r(e);else{for(n=0,a=function(e){var t,r,n=e.length,i=e[0].length,a=[];for(r=0;r<i;r++){var o=[];for(t=0;t<n;t++)o.push(e[t][r]);a.push(o)}return a}(e),i=[];n<a.length;n++)i[n]=cu(a[n],t-1,r);return i}for(n=0,i=[];n<e.length;n++)i[n]=cu(e[n],t-1,r);return i}var cl="matrix",cc=aS(cl,["typed","Matrix","DenseMatrix","SparseMatrix"],e=>{var{typed:t,Matrix:r,DenseMatrix:n,SparseMatrix:i}=e;return t(cl,{"":function(){return a([])},string:function(e){return a([],e)},"string, string":function(e,t){return a([],e,t)},Array:function(e){return a(e)},Matrix:function(e){return a(e,e.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(e,t,r){if("dense"===t||"default"===t||void 0===t)return new n(e,r);if("sparse"===t)return new i(e,r);throw TypeError("Unknown matrix type "+JSON.stringify(t)+".")}}),cf=aS("Matrix",[],()=>{function e(){if(!(this instanceof e))throw SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(e,t){throw Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(e,t,r){throw Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(e){throw Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(e,t,r){throw Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(e,t){throw Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(e,t){throw Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(e,t){throw Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(e){throw Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(e){throw Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0}),ch="matrixFromColumns",cd=aS(ch,["typed","matrix","flatten","size"],e=>{var{typed:t,matrix:r,flatten:n,size:i}=e;return t(ch,{"...Array":function(e){return a(e)},"...Matrix":function(e){return r(a(e.map(e=>e.toArray())))}});function a(e){if(0===e.length)throw TypeError("At least one column is needed to construct a matrix.");for(var t=o(e[0]),r=[],i=0;i<t;i++)r[i]=[];for(var a of e){var s=o(a);if(s!==t)throw TypeError("The vectors had different length: "+(0|t)+" ≠ "+(0|s));for(var u=n(a),l=0;l<t;l++)r[l].push(u[l])}return r}function o(e){var t=i(e);if(1===t.length)return t[0];if(2===t.length)if(1===t[0])return t[1];else if(1===t[1])return t[0];else throw TypeError("At least one of the arguments is not a vector.");throw TypeError("Only one- or two-dimensional vectors are supported.")}});e=>{var{typed:t,config:r,numeric:n,larger:i,isNaN:a}=e;return t("max",{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(e,t){return oS(e,t.valueOf(),o)},"...":function(e){if(oA(e))throw TypeError("Scalar values expected in function max");return s(e)}});function o(e,t){try{return i(e,t)?e:t}catch(e){throw uy(e,"max",t)}}function s(e){var t;if(oC(e,function(e){try{a(e)?t=e:(void 0===t||i(e,t))&&(t=e)}catch(t){throw uy(t,"max",e)}}),void 0===t)throw Error("Cannot calculate max of an empty array");return"string"==typeof t&&(t=n(t,aB(t,r))),t}};var cp="mean",cm=(e=>{var{typed:t,add:r,divide:n}=e;return t(cp,{"Array | Matrix":i,"Array | Matrix, number | BigNumber":function(e,t){try{var i=oS(e,t,r),a=Array.isArray(e)?oe(e):e.size();return n(i,a[t])}catch(e){throw uy(e,"mean")}},"...":function(e){if(oA(e))throw TypeError("Scalar values expected in function mean");return i(e)}});function i(e){var t,i=0;if(oC(e,function(e){try{t=void 0===t?e:r(t,e),i++}catch(t){throw uy(t,"mean",e)}}),0===i)throw Error("Cannot calculate the mean of an empty array");return n(t,i)}},"median");e=>{var{typed:t,add:r,divide:n,compare:i,partitionSelect:a}=e;function o(e){try{var t=(e=of(e.valueOf())).length;if(0===t)throw Error("Cannot calculate median of an empty array");if(t%2==0){for(var r=t/2-1,n=a(e,r+1),o=e[r],l=0;l<r;++l)i(e[l],o)>0&&(o=e[l]);return u(o,n)}var c=a(e,(t-1)/2);return s(c)}catch(e){throw uy(e,"median")}}var s=t({"number | BigNumber | Complex | Unit":function(e){return e}}),u=t({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(e,t){return n(r(e,t),2)}});return t(cm,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(e,t){throw Error("median(A, dim) is not yet supported")},"...":function(e){if(oA(e))throw TypeError("Scalar values expected in function median");return o(e)}})};var cg="multiply",cv=aS(cg,["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],e=>{var{typed:t,matrix:r,addScalar:n,multiplyScalar:i,equalScalar:a,dot:o}=e,s=sg({typed:t,equalScalar:a}),u=sl({typed:t});function l(e,t){switch(e.length){case 1:switch(t.length){case 1:if(e[0]!==t[0])throw RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(e[0]!==t[0])throw RangeError("Dimension mismatch in multiplication. Vector length ("+e[0]+") must match Matrix rows ("+t[0]+")");break;default:throw Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;case 2:switch(t.length){case 1:if(e[1]!==t[0])throw RangeError("Dimension mismatch in multiplication. Matrix columns ("+e[1]+") must match Vector length ("+t[0]+")");break;case 2:if(e[1]!==t[0])throw RangeError("Dimension mismatch in multiplication. Matrix A columns ("+e[1]+") must match Matrix B rows ("+t[0]+")");break;default:throw Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;default:throw Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+e.length+" dimensions)")}}var c=t("_multiplyMatrixVector",{"DenseMatrix, any":function(e,r){var a,o=e._data,s=e._size,u=e._datatype||e.getDataType(),l=r._data,c=r._datatype||r.getDataType(),f=s[0],h=s[1],d=n,p=i;u&&c&&u===c&&"string"==typeof u&&"mixed"!==u&&(a=u,d=t.find(n,[a,a]),p=t.find(i,[a,a]));for(var m=[],g=0;g<f;g++){for(var v=o[g],y=p(v[0],l[0]),b=1;b<h;b++)y=d(y,p(v[b],l[b]));m[g]=y}return e.createDenseMatrix({data:m,size:[f],datatype:u===e._datatype&&c===r._datatype?a:void 0})},"SparseMatrix, any":function(e,r){var o,s=e._values,u=e._index,l=e._ptr,c=e._datatype||void 0===e._data?e._datatype:e.getDataType();if(!s)throw Error("Cannot multiply Pattern only Matrix times Dense Matrix");var f=r._data,h=r._datatype||r.getDataType(),d=e._size[0],p=r._size[0],m=[],g=[],v=[],y=n,b=i,D=a,_=0;c&&h&&c===h&&"string"==typeof c&&"mixed"!==c&&(o=c,y=t.find(n,[o,o]),b=t.find(i,[o,o]),D=t.find(a,[o,o]),_=t.convert(0,o));var x=[],w=[];v[0]=0;for(var E=0;E<p;E++){var A=f[E];if(!D(A,_))for(var C=l[E],M=l[E+1],S=C;S<M;S++){var N=u[S];w[N]?x[N]=y(x[N],b(A,s[S])):(w[N]=!0,g.push(N),x[N]=b(A,s[S]))}}for(var F=g.length,T=0;T<F;T++){var B=g[T];m[T]=x[B]}return v[1]=g.length,e.createSparseMatrix({values:m,index:g,ptr:v,size:[d,1],datatype:c===e._datatype&&h===r._datatype?o:void 0})}}),f=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(e,r){var a,o=e._data,s=e._size,u=e._datatype||e.getDataType(),l=r._data,c=r._size,f=r._datatype||r.getDataType(),h=s[0],d=s[1],p=c[1],m=n,g=i;u&&f&&u===f&&"string"==typeof u&&"mixed"!==u&&"mixed"!==u&&(a=u,m=t.find(n,[a,a]),g=t.find(i,[a,a]));for(var v=[],y=0;y<h;y++){var b=o[y];v[y]=[];for(var D=0;D<p;D++){for(var _=g(b[0],l[0][D]),x=1;x<d;x++)_=m(_,g(b[x],l[x][D]));v[y][D]=_}}return e.createDenseMatrix({data:v,size:[h,p],datatype:u===e._datatype&&f===r._datatype?a:void 0})},"DenseMatrix, SparseMatrix":function(e,r){var o,s=e._data,u=e._size,l=e._datatype||e.getDataType(),c=r._values,f=r._index,h=r._ptr,d=r._size,p=r._datatype||void 0===r._data?r._datatype:r.getDataType();if(!c)throw Error("Cannot multiply Dense Matrix times Pattern only Matrix");var m=u[0],g=d[1],v=n,y=i,b=a,D=0;l&&p&&l===p&&"string"==typeof l&&"mixed"!==l&&(o=l,v=t.find(n,[o,o]),y=t.find(i,[o,o]),b=t.find(a,[o,o]),D=t.convert(0,o));for(var _=[],x=[],w=[],E=r.createSparseMatrix({values:_,index:x,ptr:w,size:[m,g],datatype:l===e._datatype&&p===r._datatype?o:void 0}),A=0;A<g;A++){w[A]=x.length;var C=h[A],M=h[A+1];if(M>C)for(var S=0,N=0;N<m;N++){for(var F=N+1,T=void 0,B=C;B<M;B++){var O=f[B];S!==F?(T=y(s[N][O],c[B]),S=F):T=v(T,y(s[N][O],c[B]))}S!==F||b(T,D)||(x.push(N),_.push(T))}}return w[g]=x.length,E},"SparseMatrix, DenseMatrix":function(e,r){var o,s=e._values,u=e._index,l=e._ptr,c=e._datatype||void 0===e._data?e._datatype:e.getDataType();if(!s)throw Error("Cannot multiply Pattern only Matrix times Dense Matrix");var f=r._data,h=r._datatype||r.getDataType(),d=e._size[0],p=r._size[0],m=r._size[1],g=n,v=i,y=a,b=0;c&&h&&c===h&&"string"==typeof c&&"mixed"!==c&&(o=c,g=t.find(n,[o,o]),v=t.find(i,[o,o]),y=t.find(a,[o,o]),b=t.convert(0,o));for(var D=[],_=[],x=[],w=e.createSparseMatrix({values:D,index:_,ptr:x,size:[d,m],datatype:c===e._datatype&&h===r._datatype?o:void 0}),E=[],A=[],C=0;C<m;C++){x[C]=_.length;for(var M=C+1,S=0;S<p;S++){var N=f[S][C];if(!y(N,b))for(var F=l[S],T=l[S+1],B=F;B<T;B++){var O=u[B];A[O]!==M?(A[O]=M,_.push(O),E[O]=v(N,s[B])):E[O]=g(E[O],v(N,s[B]))}}for(var I=x[C],z=_.length,R=I;R<z;R++){var k=_[R];D[R]=E[k]}}return x[m]=_.length,w},"SparseMatrix, SparseMatrix":function(e,r){var a,o,s,u,l,c,f,h,d,p=e._values,m=e._index,g=e._ptr,v=e._datatype||void 0===e._data?e._datatype:e.getDataType(),y=r._values,b=r._index,D=r._ptr,_=r._datatype||void 0===r._data?r._datatype:r.getDataType(),x=e._size[0],w=r._size[1],E=p&&y,A=n,C=i;v&&_&&v===_&&"string"==typeof v&&"mixed"!==v&&(a=v,A=t.find(n,[a,a]),C=t.find(i,[a,a]));for(var M=E?[]:void 0,S=[],N=[],F=e.createSparseMatrix({values:M,index:S,ptr:N,size:[x,w],datatype:v===e._datatype&&_===r._datatype?a:void 0}),T=E?[]:void 0,B=[],O=0;O<w;O++){N[O]=S.length;var I=O+1;for(c=D[O],f=D[O+1],l=c;l<f;l++)if(d=b[l],E)for(s=g[d],u=g[d+1],o=s;o<u;o++)B[h=m[o]]!==I?(B[h]=I,S.push(h),T[h]=C(y[l],p[o])):T[h]=A(T[h],C(y[l],p[o]));else for(s=g[d],u=g[d+1],o=s;o<u;o++)B[h=m[o]]!==I&&(B[h]=I,S.push(h));if(E)for(var z=N[O],R=S.length,k=z;k<R;k++){var L=S[k];M[k]=T[L]}}return N[w]=S.length,F}});return t(cg,i,{"Array, Array":t.referTo("Matrix, Matrix",e=>(t,n)=>{l(oe(t),oe(n));var i=e(r(t),r(n));return iK(i)?i.valueOf():i}),"Matrix, Matrix":function(e,r){var a=e.size(),s=r.size();if(l(a,s),1===a.length){if(1===s.length){if(0===a[0])throw Error("Cannot multiply two empty vectors");return o(e,r)}if("dense"!==r.storage())throw Error("Support for SparseMatrix not implemented");return function(e,r){var a,o=e._data,s=e._size,u=e._datatype||e.getDataType(),l=r._data,c=r._size,f=r._datatype||r.getDataType(),h=s[0],d=c[1],p=n,m=i;u&&f&&u===f&&"string"==typeof u&&"mixed"!==u&&(a=u,p=t.find(n,[a,a]),m=t.find(i,[a,a]));for(var g=[],v=0;v<d;v++){for(var y=m(o[0],l[0][v]),b=1;b<h;b++)y=p(y,m(o[b],l[b][v]));g[v]=y}return e.createDenseMatrix({data:g,size:[d],datatype:u===e._datatype&&f===r._datatype?a:void 0})}(e,r)}return 1===s.length?c(e,r):f(e,r)},"Matrix, Array":t.referTo("Matrix,Matrix",e=>(t,n)=>e(t,r(n))),"Array, Matrix":t.referToSelf(e=>(t,n)=>e(r(t,n.storage()),n)),"SparseMatrix, any":function(e,t){return s(e,t,i,!1)},"DenseMatrix, any":function(e,t){return u(e,t,i,!1)},"any, SparseMatrix":function(e,t){return s(t,e,i,!0)},"any, DenseMatrix":function(e,t){return u(t,e,i,!0)},"Array, any":function(e,t){return u(r(e),t,i,!1).valueOf()},"any, Array":function(e,t){return u(r(t),e,i,!0).valueOf()},"any, any":i,"any, any, ...any":t.referToSelf(e=>(t,r,n)=>{for(var i=e(t,r),a=0;a<n.length;a++)i=e(i,n[a]);return i})})}),cy=aS("multiplyScalar",["typed"],e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":oR,"Complex, Complex":function(e,t){return e.mul(t)},"BigNumber, BigNumber":function(e,t){return e.times(t)},"bigint, bigint":function(e,t){return e*t},"Fraction, Fraction":function(e,t){return e.mul(t)},"number | Fraction | BigNumber | Complex, Unit":(e,t)=>t.multiply(e),"Unit, number | Fraction | BigNumber | Complex | Unit":(e,t)=>e.multiply(t)})}),cb="norm",cD=aS(cb,["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],e=>{var{typed:t,abs:r,add:n,pow:i,conj:a,sqrt:o,multiply:s,equalScalar:u,larger:l,smaller:c,matrix:f,ctranspose:h,eigs:d}=e;return t(cb,{number:Math.abs,Complex:function(e){return e.abs()},BigNumber:function(e){return e.abs()},boolean:function(e){return Math.abs(e)},Array:function(e){return p(f(e),2)},Matrix:function(e){return p(e,2)},"Array, number | BigNumber | string":function(e,t){return p(f(e),t)},"Matrix, number | BigNumber | string":function(e,t){return p(e,t)}});function p(e,t){var f,m,g=e.size();if(1===g.length){if(t===Number.POSITIVE_INFINITY||"inf"===t)return f=0,e.forEach(function(e){var t=r(e);l(t,f)&&(f=t)},!0),f;if(t===Number.NEGATIVE_INFINITY||"-inf"===t)return e.forEach(function(e){var t=r(e);(!m||c(t,m))&&(m=t)},!0),m||0;if("fro"===t)return p(e,2);if("number"==typeof t&&!isNaN(t)){if(!u(t,0)){var v=0;return e.forEach(function(e){v=n(i(r(e),t),v)},!0),i(v,1/t)}return Number.POSITIVE_INFINITY}throw Error("Unsupported parameter value")}if(2===g.length)if(g[0]&&g[1])return function(e,t){if(1===t)return i=[],u=0,e.forEach(function(e,t){var a=t[1],o=n(i[a]||0,r(e));l(o,u)&&(u=o),i[a]=o},!0),u;if(t===Number.POSITIVE_INFINITY||"inf"===t)return c=[],f=0,e.forEach(function(e,t){var i=t[0],a=n(c[i]||0,r(e));l(a,f)&&(f=a),c[i]=a},!0),f;if("fro"===t)return p=0,e.forEach(function(e,t){p=n(p,s(e,a(e)))}),r(o(p));if(2===t){var i,u,c,f,p,m=e.size();if(m[0]!==m[1])throw RangeError("Invalid matrix dimensions");var g=d(s(h(e),e)).values.toArray();return r(o(g[g.length-1]))}throw Error("Unsupported parameter value "+t)}(e,t);else throw RangeError("Invalid matrix dimensions")}});e=>{var{typed:t}=e;return t("not",{"null | undefined":()=>!0,number:sb,Complex:function(e){return 0===e.re&&0===e.im},BigNumber:function(e){return e.isZero()||e.isNaN()},bigint:e=>!e,Unit:t.referToSelf(e=>r=>t.find(e,r.valueType())(r.value)),"Array | Matrix":t.referToSelf(e=>t=>oM(t,e))})};var c_=aS("number",["typed"],e=>{var{typed:t}=e,r=t("number",{"":function(){return 0},number:function(e){return e},string:function(e){if("NaN"===e)return NaN;var t,r,n=(r=(t=e).match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/))?{input:t,radix:({"0b":2,"0o":8,"0x":16})[r[1]],integerPart:r[2],fractionalPart:r[3]}:null;if(n){for(var i=parseInt(n.integerPart,n.radix),a=0,o=0;o<n.fractionalPart.length;o++)a+=parseInt(n.fractionalPart[o],n.radix)/Math.pow(n.radix,o+1);var s=i+a;if(isNaN(s))throw SyntaxError('String "'+n.input+'" is not a valid number');return s}var u=0,l=e.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);l&&(u=Number(l[2]),e=l[1]);var c=Number(e);if(isNaN(c))throw SyntaxError('String "'+e+'" is not a valid number');if(l){if(c>2**u-1)throw SyntaxError('String "'.concat(e,'" is out of range'));c>=2**(u-1)&&(c-=2**u)}return c},BigNumber:function(e){return e.toNumber()},bigint:function(e){return Number(e)},Fraction:function(e){return e.valueOf()},Unit:t.referToSelf(e=>t=>{var r=t.clone();return r.value=e(t.value),r}),null:function(e){return 0},"Unit, string | Unit":function(e,t){return e.toNumber(t)},"Array | Matrix":t.referToSelf(e=>t=>oM(t,e))});return r.fromJSON=function(e){return parseFloat(e.value)},r});function cx(){throw Error('No "bignumber" implementation available')}function cw(){throw Error('No "fraction" implementation available')}function cE(){throw Error('No "matrix" implementation available')}var cA=aS("numeric",["number","?bignumber","?fraction"],e=>{var{number:t,bignumber:r,fraction:n}=e,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:e=>t(e),BigNumber:r?e=>r(e):cx,bigint:e=>BigInt(e),Fraction:n?e=>n(e):cw};return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"number",r=arguments.length>2?arguments[2]:void 0;if(void 0!==r)throw SyntaxError("numeric() takes one or two arguments");var n=ax(e);if(!(n in i))throw TypeError("Cannot convert "+e+' of type "'+n+'"; valid input types are '+Object.keys(i).join(", "));if(!(t in a))throw TypeError("Cannot convert "+e+' to type "'+t+'"; valid output types are '+Object.keys(a).join(", "));return t===n?e:a[t](e)}});aS("oct",["typed","format"],e=>{var{typed:t,format:r}=e;return t("oct",{"number | BigNumber":function(e){return r(e,{notation:"oct"})},"number | BigNumber, number | BigNumber":function(e,t){return r(e,{notation:"oct",wordSize:t})}})});var cC="partitionSelect",cM=aS(cC,["typed","isNumeric","isNaN","compare"],e=>{var{typed:t,isNumeric:r,isNaN:n,compare:i}=e,a=(e,t)=>-i(e,t);return t(cC,{"Array | Matrix, number":function(e,t){return o(e,t,i)},"Array | Matrix, number, string":function(e,t,r){if("asc"===r)return o(e,t,i);if("desc"===r)return o(e,t,a);throw Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":o});function o(e,t,r){if(!aT(t)||t<0)throw Error("k must be a non-negative integer");if(iK(e)){if(e.size().length>1)throw Error("Only one dimensional matrices supported");return s(e.valueOf(),t,r)}if(Array.isArray(e))return s(e,t,r)}function s(e,t,i){if(t>=e.length)throw Error("k out of bounds");for(var a=0;a<e.length;a++)if(r(e[a])&&n(e[a]))return e[a];for(var o=0,s=e.length-1;o<s;){for(var u=o,l=s,c=e[Math.floor(Math.random()*(s-o+1))+o];u<l;)if(i(e[u],c)>=0){var f=e[l];e[l]=e[u],e[u]=f,--l}else++u;i(e[u],c)>0&&--u,t<=u?s=u:o=u+1}return e[t]}});function cS(e){return e.isInteger()&&e.gte(0)}var cN={},cF=s("cmoHh"),cT=s("euRi5"),cB=s("hDsEw"),cO=s("3J2Zm"),cI=s("6Px8M"),cz=s("lDm0S"),cR={};!function(e,t,r){var n,i="random",a=r.pow(256,6),o=r.pow(2,52),u=2*o;function l(s,l,p){var m=[],g=h(function e(t,r){var n,i=[],a=typeof t;if(r&&"object"==a)for(n in t)try{i.push(e(t[n],r-1))}catch(e){}return i.length?i:"string"==a?t:t+"\0"}((l=!0==l?{entropy:!0}:l||{}).entropy?[s,d(t)]:null==s?function(){try{var r;return n&&(r=n.randomBytes)?r=r(256):(r=new Uint8Array(256),(e.crypto||e.msCrypto).getRandomValues(r)),d(r)}catch(r){var i=e.navigator,a=i&&i.plugins;return[+new Date,e,a,e.screen,d(t)]}}():s,3),m),v=new c(m),y=function(){for(var e=v.g(6),t=a,r=0;e<o;)e=(e+r)*256,t*=256,r=v.g(1);for(;e>=u;)e/=2,t/=2,r>>>=1;return(e+r)/t};return y.int32=function(){return 0|v.g(4)},y.quick=function(){return v.g(4)/0x100000000},y.double=y,h(d(v.S),t),(l.pass||p||function(e,t,n,a){return(a&&(a.S&&f(a,v),e.state=function(){return f(v,{})}),n)?(r[i]=e,t):e})(y,g,"global"in l?l.global:this==r,l.state)}function c(e){var t,r=e.length,n=this,i=0,a=n.i=n.j=0,o=n.S=[];for(r||(e=[r++]);i<256;)o[i]=i++;for(i=0;i<256;i++)o[i]=o[a=255&a+e[i%r]+(t=o[i])],o[a]=t;(n.g=function(e){for(var t,r=0,i=n.i,a=n.j,o=n.S;e--;)t=o[i=255&i+1],r=256*r+o[255&(o[i]=o[a=255&a+t])+(o[a]=t)];return n.i=i,n.j=a,r})(256)}function f(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function h(e,t){for(var r,n=e+"",i=0;i<n.length;)t[255&i]=255&(r^=19*t[255&i])+n.charCodeAt(i++);return d(t)}function d(e){return String.fromCharCode.apply(0,e)}if(h(r.random(),t),cR){cR=l;try{n=s("kjyEk")}catch(e){}}else"function"==typeof define&&define.amd?define(function(){return l}):r["seed"+i]=l}("undefined"!=typeof self?self:cR,[],Math),cR.alea=cF,cR.xor128=cT,cR.xorwow=cB,cR.xorshift7=cO,cR.xor4096=cI,cR.tychei=cz;var ck=r(cN=cR)(Date.now());function cL(e){var t;return t=null===e?ck:r(cN)(String(e)),function(){return t()}}var cP=aS("pow",["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],e=>{var{typed:t,config:r,identity:n,multiply:i,matrix:a,inv:o,number:s,fraction:u,Complex:l}=e;return t("pow",{"number, number":c,"Complex, Complex":function(e,t){return e.pow(t)},"BigNumber, BigNumber":function(e,t){return t.isInteger()||e>=0||r.predictable?e.pow(t):new l(e.toNumber(),0).pow(t.toNumber(),0)},"bigint, bigint":(e,t)=>e**t,"Fraction, Fraction":function(e,t){var n=e.pow(t);if(null!=n)return n;if(!r.predictable)return c(e.valueOf(),t.valueOf());throw Error("Result of pow is non-rational and cannot be expressed as a fraction")},"Array, number":f,"Array, BigNumber":function(e,t){return f(e,t.toNumber())},"Matrix, number":h,"Matrix, BigNumber":function(e,t){return h(e,t.toNumber())},"Unit, number | BigNumber":function(e,t){return e.pow(t)}});function c(e,t){if(r.predictable&&!aT(t)&&e<0)try{var n=u(t),i=s(n);if((t===i||1e-14>Math.abs((t-i)/t))&&n.d%2n===1n)return(n.n%2n===0n?1:-1)*Math.pow(-e,t)}catch(e){}return r.predictable&&(e<-1&&t===1/0||e>-1&&e<0&&t===-1/0)?NaN:aT(t)||e>=0||r.predictable?oJ(e,t):e*e<1&&t===1/0||e*e>1&&t===-1/0?0:new l(e,0).pow(t,0)}function f(e,t){if(!aT(t))throw TypeError("For A^b, b must be an integer (value is "+t+")");var r=oe(e);if(2!==r.length)throw Error("For A^b, A must be 2 dimensional (A has "+r.length+" dimensions)");if(r[0]!==r[1])throw Error("For A^b, A must be square (size is "+r[0]+"x"+r[1]+")");if(t<0)try{return f(o(e),-t)}catch(e){if("Cannot calculate inverse, determinant is zero"===e.message)throw TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+t+")");throw e}for(var a=n(r[0]).valueOf(),s=e;t>=1;)(1&t)==1&&(a=i(s,a)),t>>=1,s=i(s,s);return a}function h(e,t){return a(f(e.valueOf(),t))}}),cq=/\$([\w.]+)/g;function cU(e,t,r){return e.replace(cq,function(e,n){var i=n.split("."),a=t[i.shift()];for(void 0!==a&&a.isMatrix&&(a=a.toArray());i.length&&void 0!==a;){var o=i.shift();a=o?a[o]:a+"."}if(void 0!==a)if(!iJ(a))return a5(a,r);else return a;return e})}var cj="prod",cH=(e=>{var{typed:t,config:r,multiplyScalar:n,numeric:i}=e;return t(cj,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(e,t){throw Error("prod(A, dim) is not yet supported")},"...":function(e){return a(e)}});function a(e){var t;if(oC(e,function(e){try{t=void 0===t?e:n(t,e)}catch(t){throw uy(t,"prod",e)}}),"string"==typeof t&&(t=i(t,aB(t,r))),void 0===t)throw Error("Cannot calculate prod of an empty array");return t}},aS("qr",["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],e=>{var{typed:t,matrix:n,zeros:i,identity:a,isZero:o,equal:s,sign:u,sqrt:l,conj:c,unaryMinus:f,addScalar:h,divideScalar:d,multiplyScalar:p,subtractScalar:m,complex:g}=e;return r(iR)(t("qr",{DenseMatrix:function(e){return y(e)},SparseMatrix:function(e){var t=0;throw Error("qr not implemented for sparse matrices yet")},Array:function(e){var t=y(n(e));return{Q:t.Q.valueOf(),R:t.R.valueOf()}}}),{_denseQRimpl:v});function v(e){var t,r,n,g=e._size[0],v=e._size[1],y=a([g],"dense"),b=y._data,D=e.clone(),_=D._data,x=i([g],"");for(n=0;n<Math.min(v,g);++n){var w=_[n][n],E=f(s(w,0)?1:u(w)),A=c(E),C=0;for(t=n;t<g;t++)C=h(C,p(_[t][n],c(_[t][n])));var M=p(E,l(C));if(!o(M)){var S=m(w,M);for(x[n]=1,t=n+1;t<g;t++)x[t]=d(_[t][n],S);var N=f(c(d(S,M))),F=void 0;for(r=n;r<v;r++){for(F=0,t=n;t<g;t++)F=h(F,p(c(x[t]),_[t][r]));for(F=p(F,N),t=n;t<g;t++)_[t][r]=p(m(_[t][r],p(x[t],F)),A)}for(t=0;t<g;t++){for(F=0,r=n;r<g;r++)F=h(F,p(b[t][r],x[r]));for(F=p(F,N),r=n;r<g;++r)b[t][r]=d(m(b[t][r],p(F,c(x[r]))),A)}}}return{Q:y,R:D,toString:function(){return"Q: "+this.Q.toString()+"\nR: "+this.R.toString()}}}function y(e){var t=v(e),r=t.R._data;if(e._data.length>0)for(var n="Complex"===r[0][0].type?g(0):0,i=0;i<r.length;++i)for(var a=0;a<i&&a<(r[0]||[]).length;++a)r[i][a]=n;return t}}));function c$(e,t){var r=[];if((e=e.slice(0)).length>1)for(var n=0,i=e.shift();n<i;n++)r.push(c$(e,t));else for(var a=0,o=e.shift();a<o;a++)r.push(t());return r}var cG=2n**30n,cV="range",cW=aS(cV,["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],e=>{var{typed:t,config:r,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:s,largerEq:u,add:l,isPositive:c}=e;return t(cV,{string:h,"string, boolean":h,number:function(e){throw TypeError("Too few arguments to function range(): ".concat(e))},boolean:function(e){throw TypeError("Unexpected type of argument 1 to function range(): ".concat(e,", number|bigint|BigNumber|Fraction"))},"number, number":function(e,t){return f(d(e,t,1,!1))},"number, number, number":function(e,t,r){return f(d(e,t,r,!1))},"number, number, boolean":function(e,t,r){return f(d(e,t,1,r))},"number, number, number, boolean":function(e,t,r,n){return f(d(e,t,r,n))},"bigint, bigint|number":function(e,t){return f(d(e,t,1n,!1))},"number, bigint":function(e,t){return f(d(BigInt(e),t,1n,!1))},"bigint, bigint|number, bigint|number":function(e,t,r){return f(d(e,t,BigInt(r),!1))},"number, bigint, bigint|number":function(e,t,r){return f(d(BigInt(e),t,BigInt(r),!1))},"bigint, bigint|number, boolean":function(e,t,r){return f(d(e,t,1n,r))},"number, bigint, boolean":function(e,t,r){return f(d(BigInt(e),t,1n,r))},"bigint, bigint|number, bigint|number, boolean":function(e,t,r,n){return f(d(e,t,BigInt(r),n))},"number, bigint, bigint|number, boolean":function(e,t,r,n){return f(d(BigInt(e),t,BigInt(r),n))},"BigNumber, BigNumber":function(e,t){var r=e.constructor;return f(d(e,t,new r(1),!1))},"BigNumber, BigNumber, BigNumber":function(e,t,r){return f(d(e,t,r,!1))},"BigNumber, BigNumber, boolean":function(e,t,r){var n=e.constructor;return f(d(e,t,new n(1),r))},"BigNumber, BigNumber, BigNumber, boolean":function(e,t,r,n){return f(d(e,t,r,n))},"Fraction, Fraction":function(e,t){return f(d(e,t,1,!1))},"Fraction, Fraction, Fraction":function(e,t,r){return f(d(e,t,r,!1))},"Fraction, Fraction, boolean":function(e,t,r){return f(d(e,t,1,r))},"Fraction, Fraction, Fraction, boolean":function(e,t,r,n){return f(d(e,t,r,n))},"Unit, Unit, Unit":function(e,t,r){return f(d(e,t,r,!1))},"Unit, Unit, Unit, boolean":function(e,t,r,n){return f(d(e,t,r,n))}});function f(e){return"Matrix"===r.matrix?n?n(e):cE():e}function h(e,t){var n=function(e){var t=e.split(":").map(function(e){return Number(e)});if(t.some(function(e){return isNaN(e)}))return null;switch(t.length){case 2:return{start:t[0],end:t[1],step:1};case 3:return{start:t[0],end:t[2],step:t[1]};default:return null}}(e);if(!n)throw SyntaxError('String "'+e+'" is no valid range');return"BigNumber"===r.number?(void 0===i&&cx(),f(d(i(n.start),i(n.end),i(n.step)),t)):f(d(n.start,n.end,n.step,t))}function d(e,t,r,n){for(var i=[],f=c(r)?n?o:a:n?u:s,h=e;f(h,t);)i.push(h),h=l(h,r);return i}}),cY=aS("re",["typed"],e=>{var{typed:t}=e;return t("re",{"number | BigNumber | Fraction":e=>e,Complex:e=>e.re,"Array | Matrix":t.referToSelf(e=>t=>oM(t,e))})}),cZ="reshape",cX=aS(cZ,["typed","isInteger","matrix"],e=>{var{typed:t,isInteger:r}=e;return t(cZ,{"Matrix, Array":function(e,t){return e.reshape(t,!0)},"Array, Array":function(e,t){return t.forEach(function(e){if(!r(e))throw TypeError("Invalid size for dimension: "+e)}),oo(e,t)}})}),cJ="rotationMatrix",cQ=(e=>{var{typed:t,config:r,multiplyScalar:n,addScalar:i,unaryMinus:a,norm:o,BigNumber:s,matrix:u,DenseMatrix:l,SparseMatrix:c,cos:f,sin:h}=e;return t(cJ,{"":function(){return"Matrix"===r.matrix?u([]):[]},string:function(e){return u(e)},"number | BigNumber | Complex | Unit":function(e){return d(e,"Matrix"===r.matrix?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(e,t){return d(e,t)},"number | BigNumber | Complex | Unit, Array":function(e,t){var r=u(t);return p(r),v(e,r,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(e,t){p(t);var n=t.storage()||("Matrix"===r.matrix?"dense":void 0);return v(e,t,n)},"number | BigNumber | Complex | Unit, Array, string":function(e,t,r){var n=u(t);return p(n),v(e,n,r)},"number | BigNumber | Complex | Unit, Matrix, string":function(e,t,r){return p(t),v(e,t,r)}});function d(e,t){var r=iV(e)?new s(-1):-1,i=f(e),a=h(e);return g([[i,n(r,a)],[a,i]],t)}function p(e){var t=e.size();if(t.length<1||3!==t[0])throw RangeError("Vector must be of dimensions 1x3")}function m(e){return e.reduce((e,t)=>n(e,t))}function g(e,t){if(t){if("sparse"===t)return new c(e);if("dense"===t)return new l(e);throw TypeError('Unknown matrix type "'.concat(t,'"'))}return e}function v(e,t,r){var n=o(t);if(0===n)throw RangeError("Rotation around zero vector");var u=iV(e)?s:null,l=u?new u(1):1,c=u?new u(-1):-1,d=u?new u(t.get([0])/n):t.get([0])/n,p=u?new u(t.get([1])/n):t.get([1])/n,v=u?new u(t.get([2])/n):t.get([2])/n,y=f(e),b=i(l,a(y)),D=h(e);return g([[i(y,m([d,d,b])),i(m([d,p,b]),m([c,v,D])),i(m([d,v,b]),m([p,D]))],[i(m([d,p,b]),m([v,D])),i(y,m([p,p,b])),i(m([p,v,b]),m([c,d,D]))],[i(m([d,v,b]),m([c,p,D])),i(m([p,v,b]),m([d,D])),i(y,m([v,v,b]))]],r)}},"Number of decimals in function round must be an integer"),cK="round",c0=aS(cK,["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],e=>{var{typed:t,config:r,matrix:n,equalScalar:i,zeros:a,BigNumber:o,DenseMatrix:s}=e,u=sg({typed:t,equalScalar:i}),l=sC({typed:t,DenseMatrix:s}),c=sl({typed:t});function f(e){return Math.abs(aj(e).exponent)}return t(cK,{number:function(e){var t=oQ(e,f(r.relTol));return oQ(aW(e,t,r.relTol,r.absTol)?t:e)},"number, number":function(e,t){var n=f(r.relTol);if(t>=n)return oQ(e,t);var i=oQ(e,n);return oQ(aW(e,i,r.relTol,r.absTol)?i:e,t)},"number, BigNumber":function(e,t){if(!t.isInteger())throw TypeError(cQ);return new o(e).toDecimalPlaces(t.toNumber())},Complex:function(e){return e.round()},"Complex, number":function(e,t){if(t%1)throw TypeError(cQ);return e.round(t)},"Complex, BigNumber":function(e,t){if(!t.isInteger())throw TypeError(cQ);var r=t.toNumber();return e.round(r)},BigNumber:function(e){var t=new o(e).toDecimalPlaces(f(r.relTol));return(sZ(e,t,r.relTol,r.absTol)?t:e).toDecimalPlaces(0)},"BigNumber, BigNumber":function(e,t){if(!t.isInteger())throw TypeError(cQ);var n=f(r.relTol);if(t>=n)return e.toDecimalPlaces(t.toNumber());var i=e.toDecimalPlaces(n);return(sZ(e,i,r.relTol,r.absTol)?i:e).toDecimalPlaces(t.toNumber())},bigint:e=>e,"bigint, number":(e,t)=>e,"bigint, BigNumber":(e,t)=>e,Fraction:function(e){return e.round()},"Fraction, number":function(e,t){if(t%1)throw TypeError(cQ);return e.round(t)},"Fraction, BigNumber":function(e,t){if(!t.isInteger())throw TypeError(cQ);return e.round(t.toNumber())},"Unit, number, Unit":t.referToSelf(e=>function(t,r,n){var i=t.toNumeric(n);return n.multiply(e(i,r))}),"Unit, BigNumber, Unit":t.referToSelf(e=>(t,r,n)=>e(t,r.toNumber(),n)),"Array | Matrix, number | BigNumber, Unit":t.referToSelf(e=>(t,r,n)=>oM(t,t=>e(t,r,n),!0)),"Array | Matrix | Unit, Unit":t.referToSelf(e=>(t,r)=>e(t,0,r)),"Array | Matrix":t.referToSelf(e=>t=>oM(t,e,!0)),"SparseMatrix, number | BigNumber":t.referToSelf(e=>(t,r)=>u(t,r,e,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(e=>(t,r)=>c(t,r,e,!1)),"Array, number | BigNumber":t.referToSelf(e=>(t,r)=>c(n(t),r,e,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":t.referToSelf(e=>(t,r)=>i(t,0)?a(r.size(),r.storage()):l(r,t,e,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":t.referToSelf(e=>(t,r)=>i(t,0)?a(r.size(),r.storage()):c(r,t,e,!0)),"number | Complex | BigNumber | Fraction, Array":t.referToSelf(e=>(t,r)=>c(n(r),t,e,!0).valueOf())})}),c1="schur",c2=aS(c1,["typed","matrix","identity","multiply","qr","norm","subtract"],e=>{var{typed:t,matrix:r,identity:n,multiply:i,qr:a,norm:o,subtract:s}=e;return t(c1,{Array:function(e){var t=u(r(e));return{U:t.U.valueOf(),T:t.T.valueOf()}},Matrix:function(e){return u(e)}});function u(e){var t,r=e.size()[0],u=e,l=n(r),c=0;do{t=u;var f=a(u),h=f.Q;if(u=i(f.R,h),l=i(l,h),c++>100)break}while(o(s(u,t))>1e-4)return{U:l,T:u}}}),c8="setDifference",c3=aS(c8,["typed","size","subset","compareNatural","Index","DenseMatrix"],e=>{var{typed:t,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=e;return t(c8,{"Array | Matrix, Array | Matrix":function(e,t){var s;if(0===n(r(e),new a(0)))s=[];else{if(0===n(r(t),new a(0)))return of(e.toArray());var u,l=op(of(Array.isArray(e)?e:e.toArray()).sort(i)),c=op(of(Array.isArray(t)?t:t.toArray()).sort(i));s=[];for(var f=0;f<l.length;f++){u=!1;for(var h=0;h<c.length;h++)if(0===i(l[f].value,c[h].value)&&l[f].identifier===c[h].identifier){u=!0;break}u||s.push(l[f])}}return Array.isArray(e)&&Array.isArray(t)?om(s):new o(om(s))}})}),c5="setIntersect";e=>{var{typed:t,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=e;return t(c5,{"Array | Matrix, Array | Matrix":function(e,t){var s;if(0===n(r(e),new a(0))||0===n(r(t),new a(0)))s=[];else{var u=op(of(Array.isArray(e)?e:e.toArray()).sort(i)),l=op(of(Array.isArray(t)?t:t.toArray()).sort(i));s=[];for(var c=0;c<u.length;c++)for(var f=0;f<l.length;f++)if(0===i(u[c].value,l[f].value)&&u[c].identifier===l[f].identifier){s.push(u[c]);break}}return Array.isArray(e)&&Array.isArray(t)?om(s):new o(om(s))}})};var c6="setSymDifference";e=>{var{typed:t,size:r,concat:n,subset:i,setDifference:a,Index:o}=e;return t(c6,{"Array | Matrix, Array | Matrix":function(e,t){if(0===i(r(e),new o(0)))return of(t);if(0===i(r(t),new o(0)))return of(e);var s=of(e),u=of(t);return n(a(s,u),a(u,s))}})};var c4="sign",c7=aS(c4,["typed","BigNumber","Fraction","complex"],e=>{var{typed:t,BigNumber:r,complex:n,Fraction:i}=e;return t(c4,{number:oY,Complex:function(e){return 0===e.im?n(oY(e.re)):e.sign()},BigNumber:function(e){return new r(e.cmp(0))},bigint:function(e){return e>0n?1n:e<0n?-1n:0n},Fraction:function(e){return new i(e.s)},"Array | Matrix":t.referToSelf(e=>t=>oM(t,e,!0)),Unit:t.referToSelf(e=>r=>{if(!r._isDerived()&&0!==r.units[0].unit.offset)throw TypeError("sign is ambiguous for units with offset");return t.find(e,r.valueType())(r.value)})})}),c9=aS("sin",["typed"],e=>{var{typed:t}=e,r=up({typed:t});return t("sin",{number:Math.sin,"Complex | BigNumber":e=>e.sin()},r)}),fe="size",ft=aS(fe,["typed","config","?matrix"],e=>{var{typed:t,config:r,matrix:n}=e;return t(fe,{Matrix:function(e){return e.create(e.size(),"number")},Array:oe,string:function(e){return"Array"===r.matrix?[e.length]:n([e.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(e){return"Array"===r.matrix?[]:n?n([],"dense","number"):cE()}})});function fr(e,t,r,n,i,a,o){var s=0;for(r[o]=e;s>=0;){var u=r[o+s],l=r[n+u];-1===l?(s--,a[t++]=u):(r[n+u]=r[i+l],r[o+ ++s]=l)}return t}var fn=aS("csAmd",["add","multiply","transpose"],e=>{var{add:t,multiply:r,transpose:n}=e;return function(e,o){if(!o||e<=0||e>3)return null;var s,u,l,c,f,h,d,p,m,g,v,y,b,D,_,x,w=o._size,E=w[0],A=w[1],C=0,M=Math.max(16,10*Math.sqrt(A));M=Math.min(A-2,M);var S=function(e,i,a,o,s){var u=n(i);if(1===e&&o===a)return t(i,u);if(2===e){for(var l=u._index,c=u._ptr,f=0,h=0;h<a;h++){var d=c[h];if(c[h]=f,!(c[h+1]-d>s))for(var p=c[h+1];d<p;d++)l[f++]=l[d]}c[a]=f,i=n(u)}return r(u,i)}(e,o,E,A,M);!function(e,t,r){for(var n=e._values,i=e._index,a=e._ptr,o=e._size[1],s=0,u=0;u<o;u++){var l=a[u];for(a[u]=s;l<a[u+1];l++)t(i[l],u,n?n[l]:1,null)&&(i[s]=i[l],n&&(n[s]=n[l]),s++)}a[o]=s,i.splice(s,i.length-s),n&&n.splice(s,n.length-s)}(S,a,0);for(var N=S._index,F=S._ptr,T=F[A],B=[],O=[],I=A+1,z=2*(A+1),R=3*(A+1),k=4*(A+1),L=5*(A+1),P=6*(A+1),q=7*(A+1),U=function(e,t,r,n,a,o,s,u,l,c,f,h){for(var d=0;d<e;d++)r[0+d]=t[d+1]-t[d];r[n+e]=0;for(var p=0;p<=e;p++)r[a+p]=-1,o[p]=-1,r[s+p]=-1,r[u+p]=-1,r[l+p]=1,r[c+p]=1,r[f+p]=0,r[h+p]=r[n+p];var m=i(0,0,r,c,e);return r[f+e]=-2,t[e]=-1,r[c+e]=0,m}(A,F,O,0,R,B,z,q,I,P,k,L),j=function(e,t,r,n,i,a,o,s,u,l,c){for(var f=0,h=0;h<e;h++){var d=r[n+h];if(0===d)r[i+h]=-2,f++,t[h]=-1,r[a+h]=0;else if(d>o)r[s+h]=0,r[i+h]=-1,f++,t[h]=-e-2,r[s+e]++;else{var p=r[u+d];-1!==p&&(l[p]=h),r[c+h]=r[u+d],r[u+d]=h}}return f}(A,F,O,L,k,P,M,I,R,B,z),H=0;j<A;){for(l=-1;H<A&&-1===(l=O[R+H]);H++);-1!==O[z+l]&&(B[O[z+l]]=-1),O[R+H]=O[z+l];var $=O[k+l],G=O[I+l];j+=G;var V=0;O[I+l]=-G;var W=F[l],Y=0===$?W:T,Z=Y;for(c=1;c<=$+1;c++){for(c>$?(h=l,d=W,p=O[0+l]-$):(d=F[h=N[W++]],p=O[0+h]),f=1;f<=p;f++)(m=O[I+(s=N[d++])])<=0||(V+=m,O[I+s]=-m,N[Z++]=s,-1!==O[z+s]&&(B[O[z+s]]=B[s]),-1!==B[s]?O[z+B[s]]=O[z+s]:O[R+O[L+s]]=O[z+s]);h!==l&&(F[h]=-l-2,O[P+h]=0)}for(0!==$&&(T=Z),O[L+l]=V,F[l]=Y,O[0+l]=Z-Y,O[k+l]=-2,U=i(U,C,O,P,A),g=Y;g<Z;g++)if(!((v=O[k+(s=N[g])])<=0)){var X=U-(m=-O[I+s]);for(W=F[s],y=F[s]+v-1;W<=y;W++)O[P+(h=N[W])]>=U?O[P+h]-=m:0!==O[P+h]&&(O[P+h]=O[L+h]+X)}for(g=Y;g<Z;g++){for(_=0,b=(y=F[s=N[g]])+O[k+s]-1,D=y,x=0,W=y;W<=b;W++)if(0!==O[P+(h=N[W])]){var J=O[P+h]-U;J>0?(x+=J,N[D++]=h,_+=h):(F[h]=-l-2,O[P+h]=0)}O[k+s]=D-y+1;var Q=D,K=y+O[0+s];for(W=b+1;W<K;W++){var ee=O[I+(u=N[W])];ee<=0||(x+=ee,N[D++]=u,_+=u)}0===x?(F[s]=-l-2,V-=m=-O[I+s],G+=m,j+=m,O[I+s]=0,O[k+s]=-1):(O[L+s]=Math.min(O[L+s],x),N[D]=N[Q],N[Q]=N[y],N[y]=l,O[0+s]=D-y+1,_=(_<0?-_:_)%A,O[z+s]=O[q+_],O[q+_]=s,B[s]=_)}for(O[L+l]=V,U=i(U+(C=Math.max(C,V)),C,O,P,A),g=Y;g<Z;g++)if(!(O[I+(s=N[g])]>=0))for(s=O[q+(_=B[s])],O[q+_]=-1;-1!==s&&-1!==O[z+s];s=O[z+s],U++){for(p=O[0+s],v=O[k+s],W=F[s]+1;W<=F[s]+p-1;W++)O[P+N[W]]=U;var et=s;for(u=O[z+s];-1!==u;){var er=O[0+u]===p&&O[k+u]===v;for(W=F[u]+1;er&&W<=F[u]+p-1;W++)O[P+N[W]]!==U&&(er=0);er?(F[u]=-s-2,O[I+s]+=O[I+u],O[I+u]=0,O[k+u]=-1,u=O[z+u],O[z+et]=u):(et=u,u=O[z+u])}}for(W=Y,g=Y;g<Z;g++)(m=-O[I+(s=N[g])])<=0||(O[I+s]=m,x=Math.min(x=O[L+s]+V-m,A-j-m),-1!==O[R+x]&&(B[O[R+x]]=s),O[z+s]=O[R+x],B[s]=-1,O[R+x]=s,H=Math.min(H,x),O[L+s]=x,N[W++]=s);O[I+l]=G,0==(O[0+l]=W-Y)&&(F[l]=-1,O[P+l]=0),0!==$&&(T=W)}for(s=0;s<A;s++)F[s]=-F[s]-2;for(u=0;u<=A;u++)O[R+u]=-1;for(u=A;u>=0;u--)O[I+u]>0||(O[z+u]=O[R+F[u]],O[R+F[u]]=u);for(h=A;h>=0;h--)O[I+h]<=0||-1!==F[h]&&(O[z+h]=O[R+F[h]],O[R+F[h]]=h);for(l=0,s=0;s<=A;s++)-1===F[s]&&(l=fr(s,l,O,R,z,B,P));return B.splice(B.length-1,1),B};function i(e,t,r,n,i){if(e<2||e+t<0){for(var a=0;a<i;a++)0!==r[n+a]&&(r[n+a]=1);e=2}return e}function a(e,t){return e!==t}}),fi=aS("csCounts",["transpose"],e=>{var{transpose:t}=e;return function(e,r,n,i){if(!e||!r||!n)return null;var a,o,s,u,l,c,f,h=e._size,d=h[0],p=h[1],m=4*p+(i?p+d+1:0),g=[],v=2*p,y=3*p,b=4*p,D=5*p+1;for(s=0;s<m;s++)g[s]=-1;var _=[],x=t(e),w=x._index,E=x._ptr;for(s=0;s<p;s++)for(_[o=n[s]]=+(-1===g[y+o]);-1!==o&&-1===g[y+o];o=r[o])g[y+o]=s;if(i){for(s=0;s<p;s++)g[n[s]]=s;for(a=0;a<d;a++){for(s=p,c=E[a],f=E[a+1],l=c;l<f;l++)s=Math.min(s,g[w[l]]);g[D+a]=g[b+s],g[b+s]=a}}for(a=0;a<p;a++)g[0+a]=a;for(s=0;s<p;s++){for(-1!==r[o=n[s]]&&_[r[o]]--,u=i?g[b+s]:o;-1!==u;u=i?g[D+u]:-1)for(l=E[u];l<E[u+1];l++){var A=function(e,t,r,n,i,a,o){var s,u,l,c=0;if(e<=t||r[n+t]<=r[i+e])return -1;r[i+e]=r[n+t];var f=r[a+e];if(r[a+e]=t,-1===f)c=1,l=e;else{for(c=2,l=f;l!==r[0+l];l=r[0+l]);for(s=f;s!==l;s=u)u=r[o+s],r[o+s]=l}return{jleaf:c,q:l}}(a=w[l],o,g,y,p,v,0);A.jleaf>=1&&_[o]++,2===A.jleaf&&_[A.q]--}-1!==r[o]&&(g[0+o]=r[o])}for(o=0;o<p;o++)-1!==r[o]&&(_[r[o]]+=_[o]);return _}}),fa=aS("csSqr",["add","multiply","transpose"],e=>{var{add:t,multiply:r,transpose:n}=e,i=fn({add:t,multiply:r,transpose:n}),a=fi({transpose:n});return function(e,t,r){var n,o=t._ptr,s=t._size[1],u={};if(u.q=i(e,t),e&&!u.q)return null;if(r){var l=e?function(e,t,r,n){for(var i=e._values,a=e._index,o=e._ptr,s=e._size,u=e._datatype,l=s[0],c=s[1],f=[],h=[],d=0,p=0;p<c;p++){h[p]=d;for(var m=r?r[p]:p,g=o[m],v=o[m+1],y=g;y<v;y++){var b=a[y];f[d]=b,d++}}return h[c]=d,e.createSparseMatrix({values:null,index:f,ptr:h,size:[l,c],datatype:u})}(t,0,u.q,0):t;u.parent=function(e,t){if(!e)return null;var r,n,i=e._index,a=e._ptr,o=e._size,s=o[0],u=o[1],l=[],c=[];for(r=0;r<s;r++)c[u+r]=-1;for(var f=0;f<u;f++){l[f]=-1,c[0+f]=-1;for(var h=a[f],d=a[f+1],p=h;p<d;p++){var m=i[p];for(r=(0,c[u+m]);-1!==r&&r<f;r=n)n=c[0+r],c[0+r]=f,-1===n&&(l[r]=f);t&&(c[u+m]=f)}}return l}(l,1);var c=function(e,t){if(!e)return null;var r,n=0,i=[],a=[],o=2*t;for(r=0;r<t;r++)a[0+r]=-1;for(r=t-1;r>=0;r--)-1!==e[r]&&(a[t+r]=a[0+e[r]],a[0+e[r]]=r);for(r=0;r<t;r++)-1===e[r]&&(n=fr(r,n,a,0,t,i,o));return i}(u.parent,s);if(u.cp=a(l,u.parent,c,1),l&&u.parent&&u.cp&&function(e,t){var r,n,i,a,o,s=e._ptr,u=e._index,l=e._size,c=l[0],f=l[1];t.pinv=[],t.leftmost=[];var h=t.parent,d=t.pinv,p=t.leftmost,m=[],g=c+f,v=c+2*f;for(n=0;n<f;n++)m[c+n]=-1,m[g+n]=-1,m[v+n]=0;for(r=0;r<c;r++)p[r]=-1;for(n=f-1;n>=0;n--)for(a=s[n],o=s[n+1],i=a;i<o;i++)p[u[i]]=n;for(r=c-1;r>=0;r--)d[r]=-1,-1!==(n=p[r])&&(0==m[v+n]++&&(m[g+n]=r),m[0+r]=m[c+n],m[c+n]=r);for(n=0,t.lnz=0,t.m2=c;n<f;n++)if(r=m[c+n],t.lnz++,r<0&&(r=t.m2++),d[r]=n,!(--v[n]<=0)){t.lnz+=m[v+n];var y=h[n];-1!==y&&(0===m[v+y]&&(m[g+y]=m[g+n]),m[0+m[g+n]]=m[c+y],m[c+y]=m[0+r],m[v+y]+=m[v+n])}for(r=0;r<c;r++)d[r]<0&&(d[r]=n++);return!0}(l,u))for(u.unz=0,n=0;n<s;n++)u.unz+=u.cp[n]}else u.unz=4*o[s]+s,u.lnz=u.unz;return u}});function fo(e,t){e[t]=-e[t]-2}function fs(e){return e<0?-e-2:e}var fu=aS("csSpsolve",["divideScalar","multiply","subtract"],e=>{var{divideScalar:t,multiply:r,subtract:n}=e;return function(e,i,a,o,s,u,l){var c,f,h,d,p=e._values,m=e._index,g=e._ptr,v=e._size[1],y=i._values,b=i._index,D=i._ptr,_=function(e,t,r,n,i){var a,o,s,u=e._ptr,l=e._size,c=t._index,f=t._ptr,h=l[1],d=h;for(o=f[r],s=f[r+1],a=o;a<s;a++){var p=c[a];u[p]<0||(d=function(e,t,r,n,i){var a,o,s,u=t._index,l=t._ptr,c=t._size[1],f=0;for(n[0]=e;f>=0;){e=n[f];var h,d,p=i?i[e]:e;l[e]<0||(fo(l,e),n[c+f]=p<0?0:(h=l[p])<0?-h-2:h);var m=1;for(o=n[c+f],s=p<0?0:(d=l[p+1])<0?-d-2:d;o<s;o++)if(!(l[a=u[o]]<0)){n[c+f]=o,n[++f]=a,m=0;break}m&&(f--,n[--r]=e)}return r}(p,e,d,n,i))}for(a=d;a<h;a++)fo(u,n[a]);return d}(e,i,a,o,u);for(c=_;c<v;c++)s[o[c]]=0;for(f=D[a],h=D[a+1],c=f;c<h;c++)s[b[c]]=y[c];for(var x=_;x<v;x++){var w=o[x],E=u?u[w]:w;if(!(E<0))for(f=g[E],h=g[E+1],s[w]=t(s[w],p[l?f:h-1]),c=l?f+1:f,d=l?h:h-1;c<d;c++){var A=m[c];s[A]=n(s[A],r(p[c],s[w]))}}return _}}),fl=aS("csLu",["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],e=>{var{abs:t,divideScalar:r,multiply:n,subtract:i,larger:a,largerEq:o,SparseMatrix:s}=e,u=fu({divideScalar:r,multiply:n,subtract:i});return function(e,i,l){if(!e)return null;var c,f,h,d=e._size[1],p=100,m=100;i&&(c=i.q,p=i.lnz||p,m=i.unz||m);var g=[],v=[],y=[],b=new s({values:g,index:v,ptr:y,size:[d,d]}),D=[],_=[],x=[],w=new s({values:D,index:_,ptr:x,size:[d,d]}),E=[],A=[],C=[];for(f=0;f<d;f++)A[f]=0,E[f]=-1,y[f+1]=0;p=0,m=0;for(var M=0;M<d;M++){y[M]=p,x[M]=m;var S=c?c[M]:M,N=u(b,e,S,C,A,E,1),F=-1,T=-1;for(h=N;h<d;h++)if(E[f=C[h]]<0){var B=t(A[f]);a(B,T)&&(T=B,F=f)}else _[m]=E[f],D[m++]=A[f];if(-1===F||T<=0)return null;E[S]<0&&o(t(A[S]),n(T,l))&&(F=S);var O=A[F];for(_[m]=M,D[m++]=O,E[F]=M,v[p]=F,g[p++]=1,h=N;h<d;h++)E[f=C[h]]<0&&(v[p]=f,g[p++]=r(A[f],O)),A[f]=0}for(h=0,y[d]=p,x[d]=m;h<p;h++)v[h]=E[v[h]];return g.splice(p,g.length-p),v.splice(p,v.length-p),D.splice(m,D.length-m),_.splice(m,_.length-m),{L:b,U:w,pinv:E}}}),fc=aS("slu",["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],e=>{var{typed:t,abs:r,add:n,multiply:i,transpose:a,divideScalar:o,subtract:s,larger:u,largerEq:l,SparseMatrix:c}=e,f=fa({add:n,multiply:i,transpose:a}),h=fl({abs:r,divideScalar:o,multiply:i,subtract:s,larger:u,largerEq:l,SparseMatrix:c});return t("slu",{"SparseMatrix, number, number":function(e,t,r){if(!aT(t)||t<0||t>3)throw Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(r<0||r>1)throw Error("Partial pivoting threshold must be a number from 0 to 1");var n=f(t,e,!1),i=h(e,n,r);return{L:i.L,U:i.U,p:i.pinv,q:n.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}})}),ff="smaller",fh=aS(ff,["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],e=>{var{typed:t,config:r,bignumber:n,matrix:i,DenseMatrix:a,concat:o,SparseMatrix:s}=e,u=sE({typed:t}),l=sW({typed:t,SparseMatrix:s}),c=sC({typed:t,DenseMatrix:a}),f=sf({typed:t,matrix:i,concat:o}),h=s9({typed:t});function d(e,t){return e.lt(t)&&!sZ(e,t,r.relTol,r.absTol)}return t(ff,fd({typed:t,config:r}),{"boolean, boolean":(e,t)=>e<t,"BigNumber, BigNumber":d,"bigint, bigint":(e,t)=>e<t,"Fraction, Fraction":(e,t)=>-1===e.compare(t),"Fraction, BigNumber":function(e,t){return d(n(e),t)},"BigNumber, Fraction":function(e,t){return d(e,n(t))},"Complex, Complex":function(e,t){throw TypeError("No ordering relation is defined for complex numbers")}},h,f({SS:l,DS:u,Ss:c}))}),fd=aS(ff,["typed","config"],e=>{var{typed:t,config:r}=e;return t(ff,{"number, number":function(e,t){return e<t&&!aW(e,t,r.relTol,r.absTol)}})}),fp="smallerEq",fm=aS(fp,["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],e=>{var{typed:t,config:r,matrix:n,DenseMatrix:i,concat:a,SparseMatrix:o}=e,s=sE({typed:t}),u=sW({typed:t,SparseMatrix:o}),l=sC({typed:t,DenseMatrix:i}),c=sf({typed:t,matrix:n,concat:a}),f=s9({typed:t});return t(fp,fg({typed:t,config:r}),{"boolean, boolean":(e,t)=>e<=t,"BigNumber, BigNumber":function(e,t){return e.lte(t)||sZ(e,t,r.relTol,r.absTol)},"bigint, bigint":(e,t)=>e<=t,"Fraction, Fraction":(e,t)=>1!==e.compare(t),"Complex, Complex":function(){throw TypeError("No ordering relation is defined for complex numbers")}},f,c({SS:u,DS:s,Ss:l}))}),fg=aS(fp,["typed","config"],e=>{var{typed:t,config:r}=e;return t(fp,{"number, number":function(e,t){return e<=t||aW(e,t,r.relTol,r.absTol)}})}),fv={},fy={},fb={};function fD(e){return(fb=fD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}).__esModule=!0,fb.default=fb,fD(e)}(fb=fD).__esModule=!0,fb.default=fb;var f_=fb.default,fx={},fw=fb.default;function fE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}(fx=function(e,t){if("object"!=fw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=fw(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}).__esModule=!0,fx.default=fx,(fy=function(e){var t=fx(e,"string");return"symbol"==f_(t)?t:t+""}).__esModule=!0,fy.default=fy,(fv=function(e,t,r){return(t=fy(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}).__esModule=!0,fv.default=fv;var fA=aS("Spa",["addScalar","equalScalar","FibonacciHeap"],e=>{var{addScalar:t,equalScalar:r,FibonacciHeap:n}=e;function i(){if(!(this instanceof i))throw SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(e,t){if(this._values[e])this._values[e].value=t;else{var r=this._heap.insert(e,t);this._values[e]=r}},i.prototype.get=function(e){var t=this._values[e];return t?t.value:0},i.prototype.accumulate=function(e,r){var n=this._values[e];n?n.value=t(n.value,r):(n=this._heap.insert(e,r),this._values[e]=n)},i.prototype.forEach=function(e,t,n){var i=this._heap,a=this._values,o=[],s=i.extractMinimum();for(s&&o.push(s);s&&s.key<=t;)s.key>=e&&!r(s.value,0)&&n(s.key,s.value,this),(s=i.extractMinimum())&&o.push(s);for(var u=0;u<o.length;u++){var l=o[u];a[(s=i.insert(l.key,l.value)).key]=s}},i.prototype.swap=function(e,t){var r=this._values[e],n=this._values[t];if(!r&&n)r=this._heap.insert(e,n.value),this._heap.remove(n),this._values[e]=r,this._values[t]=void 0;else if(r&&!n)n=this._heap.insert(t,r.value),this._heap.remove(r),this._values[t]=n,this._values[e]=void 0;else if(r&&n){var i=r.value;r.value=n.value,n.value=i}},i},{isClass:!0}),fC=aS("SparseMatrix",["typed","equalScalar","Matrix"],e=>{var{typed:t,equalScalar:r,Matrix:n}=e;function i(e,t){if(!(this instanceof i))throw SyntaxError("Constructor must be called with the new operator");if(t&&!iJ(t))throw Error("Invalid datatype: "+t);if(iK(e)){var r,n,o;r=this,n=e,o=t,"SparseMatrix"===n.type?(r._values=n._values?aw(n._values):void 0,r._index=aw(n._index),r._ptr=aw(n._ptr),r._size=aw(n._size),r._datatype=o||n._datatype):a(r,n.valueOf(),o||n._datatype)}else if(e&&iQ(e.index)&&iQ(e.ptr)&&iQ(e.size))this._values=e.values,this._index=e.index,this._ptr=e.ptr,this._size=e.size,this._datatype=t||e.datatype;else if(iQ(e))a(this,e,t);else if(e)throw TypeError("Unsupported type of data ("+ax(e)+")");else this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=t}function a(e,n,i){e._values=[],e._index=[],e._ptr=[],e._datatype=i;var a=n.length,o=0,s=r,u=0;if(iJ(i)&&(s=t.find(r,[i,i])||r,u=t.convert(0,i)),a>0){var l=0;do{e._ptr.push(e._index.length);for(var c=0;c<a;c++){var f=n[c];if(iQ(f)){if(0===l&&o<f.length&&(o=f.length),l<f.length){var h=f[l];s(h,u)||(e._values.push(h),e._index.push(c))}}else 0===l&&o<1&&(o=1),s(f,u)||(e._values.push(f),e._index.push(c))}l++}while(l<o)}e._ptr.push(e._index.length),e._size=[a,o]}function o(e,t,r,n){if(r-t==0)return r;for(var i=t;i<r;i++)if(n[i]===e)return i;return t}function s(e,t,r,n,i,a,o){i.splice(e,0,n),a.splice(e,0,t);for(var s=r+1;s<o.length;s++)o[s]++}function u(e,n,i,a){var o,s,u,l=a||0,c=r,f=0;iJ(e._datatype)&&(c=t.find(r,[e._datatype,e._datatype])||r,f=t.convert(0,e._datatype),l=t.convert(l,e._datatype));var h=!c(l,f),d=e._size[0],p=e._size[1];if(i>p){for(s=p;s<i;s++)if(e._ptr[s]=e._values.length,h)for(o=0;o<d;o++)e._values.push(l),e._index.push(o);e._ptr[i]=e._values.length}else i<p&&(e._ptr.splice(i+1,p-i),e._values.splice(e._ptr[i],e._values.length),e._index.splice(e._ptr[i],e._index.length));if(p=i,n>d){if(h){var m=0;for(s=0;s<p;s++){e._ptr[s]=e._ptr[s]+m,u=e._ptr[s+1]+m;var g=0;for(o=d;o<n;o++,g++)e._values.splice(u+g,0,l),e._index.splice(u+g,0,o),m++}e._ptr[p]=e._values.length}}else if(n<d){var v=0;for(s=0;s<p;s++){e._ptr[s]=e._ptr[s]-v;var y=e._ptr[s],b=e._ptr[s+1]-v;for(u=y;u<b;u++)(o=e._index[u])>n-1&&(e._values.splice(u,1),e._index.splice(u,1),v++)}e._ptr[s]=e._values.length}return e._size[0]=n,e._size[1]=i,e}function l(e,t,r,n,i){var a,o,s=n[0],u=n[1],l=[];for(a=0;a<s;a++)for(o=0,l[a]=[];o<u;o++)l[a][o]=0;for(o=0;o<u;o++)for(var c=r[o],f=r[o+1],h=c;h<f;h++)l[a=t[h]][o]=e?i?aw(e[h]):e[h]:1;return l}return i.prototype=new n,i.prototype.createSparseMatrix=function(e,t){return new i(e,t)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return og(this._values,ax)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(e,t){return new i(e,t)},i.prototype.density=function(){var e=this._size[0],t=this._size[1];return 0!==e&&0!==t?this._index.length/(e*t):0},i.prototype.subset=function(e,t,r){if(!this._values)throw Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return function(e,t){if(!i3(t))throw TypeError("Invalid index");if(t.isScalar())return e.get(t.min());var r,n,a,o,s=t.size();if(s.length!==e._size.length)throw new a9(s.length,e._size.length);var u=t.min(),l=t.max();for(r=0,n=e._size.length;r<n;r++)on(u[r],e._size[r]),on(l[r],e._size[r]);var c=e._values,f=e._index,h=e._ptr,d=t.dimension(0),p=t.dimension(1),m=[],g=[];d.forEach(function(e,t){g[e]=t[0],m[e]=!0});var v=c?[]:void 0,y=[],b=[];return p.forEach(function(e){for(b.push(y.length),a=h[e],o=h[e+1];a<o;a++)!0===m[r=f[a]]&&(y.push(g[r]),v&&v.push(c[a]))}),b.push(y.length),new i({values:v,index:y,ptr:b,size:s,datatype:e._datatype})}(this,e);case 2:case 3:return function(e,t,r,n){if(!t||!0!==t.isIndex)throw TypeError("Invalid index");var i,a=t.size(),o=t.isScalar();if(iK(r)?(i=r.size(),r=r.toArray()):i=oe(r),o){if(0!==i.length)throw TypeError("Scalar expected");e.set(t.min(),r,n)}else{if(1!==a.length&&2!==a.length)throw new a9(a.length,e._size.length,"<");if(i.length<a.length){for(var s=0,u=0;1===a[s]&&1===i[s];)s++;for(;1===a[s];)u++,s++;r=oc(r,a.length,u,i)}if(!aA(a,i))throw new a9(a,i,">");if(1===a.length)t.dimension(0).forEach(function(t,i){on(t),e.set([t,0],r[i[0]],n)});else{var l=t.dimension(0),c=t.dimension(1);l.forEach(function(t,i){on(t),c.forEach(function(a,o){on(a),e.set([t,a],r[i[0]][o[0]],n)})})}}return e}(this,e,t,r);default:throw SyntaxError("Wrong number of arguments")}},i.prototype.get=function(e){if(!iQ(e))throw TypeError("Array expected");if(e.length!==this._size.length)throw new a9(e.length,this._size.length);if(!this._values)throw Error("Cannot invoke get on a Pattern only matrix");var t=e[0],r=e[1];on(t,this._size[0]),on(r,this._size[1]);var n=o(t,this._ptr[r],this._ptr[r+1],this._index);return n<this._ptr[r+1]&&this._index[n]===t?this._values[n]:0},i.prototype.set=function(e,n,i){if(!iQ(e))throw TypeError("Array expected");if(e.length!==this._size.length)throw new a9(e.length,this._size.length);if(!this._values)throw Error("Cannot invoke set on a Pattern only matrix");var a=e[0],l=e[1],c=this._size[0],f=this._size[1],h=r,d=0;iJ(this._datatype)&&(h=t.find(r,[this._datatype,this._datatype])||r,d=t.convert(0,this._datatype)),(a>c-1||l>f-1)&&(u(this,Math.max(a+1,c),Math.max(l+1,f),i),c=this._size[0],f=this._size[1]),on(a,c),on(l,f);var p=o(a,this._ptr[l],this._ptr[l+1],this._index);return p<this._ptr[l+1]&&this._index[p]===a?h(n,d)?function(e,t,r,n,i){r.splice(e,1),n.splice(e,1);for(var a=t+1;a<i.length;a++)i[a]--}(p,l,this._values,this._index,this._ptr):this._values[p]=n:h(n,d)||s(p,a,l,n,this._values,this._index,this._ptr),this},i.prototype.resize=function(e,t,r){if(!i0(e))throw TypeError("Array or Matrix expected");var n=e.valueOf().map(e=>Array.isArray(e)&&1===e.length?e[0]:e);if(2!==n.length)throw Error("Only two dimensions matrix are supported");return n.forEach(function(e){if(!iG(e)||!aT(e)||e<0)throw TypeError("Invalid size, must contain positive integers (size: "+a5(n)+")")}),u(r?this.clone():this,n[0],n[1],t)},i.prototype.reshape=function(e,t){if(!iQ(e))throw TypeError("Array expected");if(2!==e.length)throw Error("Sparse matrices can only be reshaped in two dimensions");e.forEach(function(t){if(!iG(t)||!aT(t)||t<=-2||0===t)throw TypeError("Invalid size, must contain positive integers or -1 (size: "+a5(e)+")")});var r=this._size[0]*this._size[1],n=(e=os(e,r))[0]*e[1];if(r!==n)throw Error("Reshaping sparse matrix will result in the wrong number of elements");var i=t?this.clone():this;if(this._size[0]===e[0]&&this._size[1]===e[1])return i;for(var a=[],u=0;u<i._ptr.length;u++)for(var l=0;l<i._ptr[u+1]-i._ptr[u];l++)a.push(u);for(var c=i._values.slice(),f=i._index.slice(),h=0;h<i._index.length;h++){var d=f[h],p=a[h],m=d*i._size[1]+p;a[h]=m%e[1],f[h]=Math.floor(m/e[1])}i._values.length=0,i._index.length=0,i._ptr.length=e[1]+1,i._size=e.slice();for(var g=0;g<i._ptr.length;g++)i._ptr[g]=0;for(var v=0;v<c.length;v++){var y=f[v],b=a[v],D=c[v];s(o(y,i._ptr[b],i._ptr[b+1],i._index),y,b,D,i._values,i._index,i._ptr)}return i},i.prototype.clone=function(){return new i({values:this._values?aw(this._values):void 0,index:aw(this._index),ptr:aw(this._ptr),size:aw(this._size),datatype:this._datatype})},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(e,n){if(!this._values)throw Error("Cannot invoke map on a Pattern only matrix");var a=this,o=this._size[0],s=this._size[1],u=ux(e,a,"map");return function(e,n,a,o,s,u,l){var c=[],f=[],h=[],d=r,p=0;iJ(e._datatype)&&(d=t.find(r,[e._datatype,e._datatype])||r,p=t.convert(0,e._datatype));for(var m=function(e,t,r){var n=u(e,t,r);d(n,p)||(c.push(n),f.push(t))},g=0;g<=s;g++){h.push(c.length);var v=e._ptr[g],y=e._ptr[g+1];if(l)for(var b=v;b<y;b++){var D=e._index[b];D>=0&&D<=a&&m(e._values[b],D-n,g-o)}else{for(var _={},x=v;x<y;x++)_[e._index[x]]=e._values[x];for(var w=n;w<=a;w++)m(w in _?_[w]:0,w-n,g-o)}}return h.push(c.length),new i({values:c,index:f,ptr:h,size:[a-n+1,s-o+1]})}(this,0,o-1,0,s-1,function(e,t,r){return u.fn(e,[t,r],a)},n)},i.prototype.forEach=function(e,t){if(!this._values)throw Error("Cannot invoke forEach on a Pattern only matrix");for(var r=this._size[0],n=this._size[1],i=ux(e,this,"forEach"),a=0;a<n;a++){var o=this._ptr[a],s=this._ptr[a+1];if(t)for(var u=o;u<s;u++){var l=this._index[u];i.fn(this._values[u],[l,a],this)}else{for(var c={},f=o;f<s;f++)c[this._index[f]]=this._values[f];for(var h=0;h<r;h++){var d=h in c?c[h]:0;i.fn(d,[h,a],this)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw Error("Cannot iterate a Pattern only matrix");for(var e=this._size[1],t=0;t<e;t++)for(var r=this._ptr[t],n=this._ptr[t+1],i=r;i<n;i++){var a=this._index[i];yield{value:this._values[i],index:[a,t]}}},i.prototype.toArray=function(){return l(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return l(this._values,this._index,this._ptr,this._size,!1)},i.prototype.format=function(e){for(var t=this._size[0],r=this._size[1],n=this.density(),i="Sparse Matrix ["+a5(t,e)+" x "+a5(r,e)+"] density: "+a5(n,e)+"\n",a=0;a<r;a++)for(var o=this._ptr[a],s=this._ptr[a+1],u=o;u<s;u++)i+="\n    ("+a5(this._index[u],e)+", "+a5(a,e)+") ==> "+(this._values?a5(this._values[u],e):"X");return i},i.prototype.toString=function(){return a5(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(e){if(e){if(iV(e)&&(e=e.toNumber()),!iG(e)||!aT(e))throw TypeError("The parameter k must be an integer number")}else e=0;var t=e>0?e:0,r=e<0?-e:0,n=this._size[0],a=this._size[1],o=Math.min(n-r,a-t),s=[],u=[],l=[];l[0]=0;for(var c=t;c<a&&s.length<o;c++)for(var f=this._ptr[c],h=this._ptr[c+1],d=f;d<h;d++){var p=this._index[d];if(p===c-t+r){s.push(this._values[d]),u[s.length-1]=p-r;break}}return l.push(s.length),new i({values:s,index:u,ptr:l,size:[o,1]})},i.fromJSON=function(e){return new i(e)},i.diagonal=function(e,n,a,o,s){if(!iQ(e))throw TypeError("Array expected, size parameter");if(2!==e.length)throw Error("Only two dimensions matrix are supported");if(e=e.map(function(e){if(iV(e)&&(e=e.toNumber()),!iG(e)||!aT(e)||e<1)throw Error("Size values must be positive integers");return e}),a){if(iV(a)&&(a=a.toNumber()),!iG(a)||!aT(a))throw TypeError("The parameter k must be an integer number")}else a=0;var u,l=r,c=0;iJ(s)&&(l=t.find(r,[s,s])||r,c=t.convert(0,s));var f=a>0?a:0,h=a<0?-a:0,d=e[0],p=e[1],m=Math.min(d-h,p-f);if(iQ(n)){if(n.length!==m)throw Error("Invalid value array length");u=function(e){return n[e]}}else if(iK(n)){var g=n.size();if(1!==g.length||g[0]!==m)throw Error("Invalid matrix length");u=function(e){return n.get([e])}}else u=function(){return n};for(var v=[],y=[],b=[],D=0;D<p;D++){b.push(v.length);var _=D-f;if(_>=0&&_<m){var x=u(_);l(x,c)||(y.push(_+h),v.push(x))}}return b.push(v.length),new i({values:v,index:y,ptr:b,size:[d,p]})},i.prototype.swapRows=function(e,t){if(!iG(e)||!aT(e)||!iG(t)||!aT(t))throw Error("Row index must be positive integers");if(2!==this._size.length)throw Error("Only two dimensional matrix is supported");return on(e,this._size[0]),on(t,this._size[0]),i._swapRows(e,t,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(e,t,r,n,i){for(var a=n[e],o=n[e+1],s=a;s<o;s++)i(r[s],t[s])},i._swapRows=function(e,t,r,n,i,a){for(var s=0;s<r;s++){var u=a[s],l=a[s+1],c=o(e,u,l,i),f=o(t,u,l,i);if(c<l&&f<l&&i[c]===e&&i[f]===t){if(n){var h=n[c];n[c]=n[f],n[f]=h}continue}if(c<l&&i[c]===e&&(f>=l||i[f]!==t)){var d=n?n[c]:void 0;i.splice(f,0,t),n&&n.splice(f,0,d),i.splice(f<=c?c+1:c,1),n&&n.splice(f<=c?c+1:c,1);continue}if(f<l&&i[f]===t&&(c>=l||i[c]!==e)){var p=n?n[f]:void 0;i.splice(c,0,e),n&&n.splice(c,0,p),i.splice(c<=f?f+1:f,1),n&&n.splice(c<=f?f+1:f,1)}}},i},{isClass:!0}),fM=aS("sqrt",["config","typed","Complex"],e=>{var{config:t,typed:r,Complex:n}=e;return r("sqrt",{number:i,Complex:function(e){return e.sqrt()},BigNumber:function(e){return!e.isNegative()||t.predictable?e.sqrt():i(e.toNumber())},Unit:function(e){return e.pow(.5)}});function i(e){return isNaN(e)?NaN:e>=0||t.predictable?Math.sqrt(e):new n(e,0).sqrt()}}),fS="stirlingS2";e=>{var{typed:t,addScalar:r,subtractScalar:n,multiplyScalar:i,divideScalar:a,pow:o,factorial:s,combinations:u,isNegative:l,isInteger:c,number:f,bignumber:h,larger:d}=e,p=[],m=[];return t(fS,{"number | BigNumber, number | BigNumber":function(e,t){if(!c(e)||l(e)||!c(t)||l(t))throw TypeError("Non-negative integer value expected in function stirlingS2");if(d(t,e))throw TypeError("k must be less than or equal to n in function stirlingS2");var n=!(iG(e)&&iG(t)),a=n?m:p,o=n?h:f,s=f(e),u=f(t);if(a[s]&&a[s].length>u)return a[s][u];for(var g=0;g<=s;++g)if(a[g]||(a[g]=[o(+(0===g))]),0!==g)for(var v=a[g],y=a[g-1],b=v.length;b<=g&&b<=u;++b)b===g?v[b]=1:v[b]=r(i(o(b),y[b]),y[b-1]);return a[s][u]}})};var fN="subset",fF=aS(fN,["typed","matrix","zeros","add"],e=>{var{typed:t,matrix:r,zeros:n,add:i}=e;return t(fN,{"Matrix, Index":function(e,t){return oi(t)?r():(or(e,t),e.subset(t))},"Array, Index":t.referTo("Matrix, Index",function(e){return function(t,n){var i=e(r(t),n);return n.isScalar()?i:i.valueOf()}}),"Object, Index":fO,"string, Index":fT,"Matrix, Index, any, any":function(e,t,r,a){return oi(t)?e:(or(e,t),e.clone().subset(t,function(e,t){if("string"==typeof e)throw Error("can't boradcast a string");if(t._isScalar)return e;var r=t.size();if(!r.every(e=>e>0))return e;try{return i(e,n(r))}catch(t){return e}}(r,t),a))},"Array, Index, any, any":t.referTo("Matrix, Index, any, any",function(e){return function(t,n,i,a){var o=e(r(t),n,i,a);return o.isMatrix?o.valueOf():o}}),"Array, Index, any":t.referTo("Matrix, Index, any, any",function(e){return function(t,n,i){return e(r(t),n,i,void 0).valueOf()}}),"Matrix, Index, any":t.referTo("Matrix, Index, any, any",function(e){return function(t,r,n){return e(t,r,n,void 0)}}),"string, Index, string":fB,"string, Index, string, string":fB,"Object, Index, any":fI})});function fT(e,t){if(!i3(t))throw TypeError("Index expected");if(oi(t))return"";if(or(Array.from(e),t),1!==t.size().length)throw new a9(t.size().length,1);var r=e.length;on(t.min()[0],r),on(t.max()[0],r);var n=t.dimension(0),i="";return n.forEach(function(t){i+=e.charAt(t)}),i}function fB(e,t,r,n){if(!t||!0!==t.isIndex)throw TypeError("Index expected");if(oi(t))return e;if(or(Array.from(e),t),1!==t.size().length)throw new a9(t.size().length,1);if(void 0!==n){if("string"!=typeof n||1!==n.length)throw TypeError("Single character expected as defaultValue")}else n=" ";var i=t.dimension(0);if(i.size()[0]!==r.length)throw new a9(i.size()[0],r.length);var a=e.length;on(t.min()[0]),on(t.max()[0]);for(var o=[],s=0;s<a;s++)o[s]=e.charAt(s);if(i.forEach(function(e,t){o[e]=r.charAt(t[0])}),o.length>a)for(var u=a-1,l=o.length;u<l;u++)o[u]||(o[u]=n);return o.join("")}function fO(e,t){if(!oi(t)){if(1!==t.size().length)throw new a9(t.size(),1);var r=t.dimension(0);if("string"!=typeof r)throw TypeError("String expected as index to retrieve an object property");return iP(e,r)}}function fI(e,t,r){if(oi(t))return e;if(1!==t.size().length)throw new a9(t.size(),1);var n=t.dimension(0);if("string"!=typeof n)throw TypeError("String expected as index to retrieve an object property");var i=aw(e);return iq(i,n,r),i}var fz="subtract",fR=aS(fz,["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],e=>{var{typed:t,matrix:r,equalScalar:n,subtractScalar:i,unaryMinus:a,DenseMatrix:o,concat:s}=e,u=sa({typed:t}),l=sE({typed:t}),c=s7({typed:t,equalScalar:n}),f=ss({typed:t,DenseMatrix:o}),h=sC({typed:t,DenseMatrix:o}),d=sf({typed:t,matrix:r,concat:s});return t(fz,{"any, any":i},d({elop:i,SS:c,DS:u,SD:l,Ss:h,sS:f}))}),fk="subtractScalar",fL=aS(fk,["typed"],e=>{var{typed:t}=e;return t(fk,{"number, number":oz,"Complex, Complex":function(e,t){return e.sub(t)},"BigNumber, BigNumber":function(e,t){return e.minus(t)},"bigint, bigint":function(e,t){return e-t},"Fraction, Fraction":function(e,t){return e.sub(t)},"Unit, Unit":t.referToSelf(e=>(r,n)=>{if(null===r.value||void 0===r.value)throw Error("Parameter x contains a unit with undefined value");if(null===n.value||void 0===n.value)throw Error("Parameter y contains a unit with undefined value");if(!r.equalBase(n))throw Error("Units do not match");var i=r.clone();return i.value=t.find(e,[i.valueType(),n.valueType()])(i.value,n.value),i.fixPrefix=!1,i})})}),fP=(e=>{var{typed:t,config:r,add:n,numeric:i}=e;return t("sum",{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(e,t){try{return oS(e,t,n)}catch(e){throw uy(e,"sum")}},"...":function(e){if(oA(e))throw TypeError("Scalar values expected in function sum");return a(e)}});function a(e){var t;return oC(e,function(e){try{t=void 0===t?e:n(t,e)}catch(t){throw uy(t,"sum",e)}}),void 0===t&&(t=i(0,r.number)),"string"==typeof t&&(t=i(t,aB(t,r))),t}},"sylvester");e=>{var{typed:t,schur:r,matrixFromColumns:n,matrix:i,multiply:a,range:o,concat:s,transpose:u,index:l,subset:c,add:f,subtract:h,identity:d,lusolve:p,abs:m}=e;return t(fP,{"Matrix, Matrix, Matrix":g,"Array, Matrix, Matrix":function(e,t,r){return g(i(e),t,r)},"Array, Array, Matrix":function(e,t,r){return g(i(e),i(t),r)},"Array, Matrix, Array":function(e,t,r){return g(i(e),t,i(r))},"Matrix, Array, Matrix":function(e,t,r){return g(e,i(t),r)},"Matrix, Array, Array":function(e,t,r){return g(e,i(t),i(r))},"Matrix, Matrix, Array":function(e,t,r){return g(e,t,i(r))},"Array, Array, Array":function(e,t,r){return g(i(e),i(t),i(r)).toArray()}});function g(e,t,g){for(var v=t.size()[0],y=e.size()[0],b=r(e),D=b.T,_=b.U,x=r(a(-1,t)),w=x.T,E=x.U,A=a(a(u(_),g),E),C=o(0,y),M=[],S=(e,t)=>s(e,t,1),N=(e,t)=>s(e,t,0),F=0;F<v;F++)if(F<v-1&&m(c(w,l(F+1,F)))>1e-5){for(var T=N(c(A,l(C,F)),c(A,l(C,F+1))),B=0;B<F;B++)T=f(T,N(a(M[B],c(w,l(B,F))),a(M[B],c(w,l(B,F+1)))));var O=a(d(y),a(-1,c(w,l(F,F)))),I=a(d(y),a(-1,c(w,l(F+1,F)))),z=a(d(y),a(-1,c(w,l(F,F+1)))),R=a(d(y),a(-1,c(w,l(F+1,F+1)))),k=p(N(S(f(D,O),I),S(z,f(D,R))),T);M[F]=k.subset(l(o(0,y),0)),M[F+1]=k.subset(l(o(y,2*y),0)),F++}else{for(var L=c(A,l(C,F)),P=0;P<F;P++)L=f(L,a(M[P],c(w,l(P,F))));var q=h(D,a(c(w,l(F,F)),d(y)));M[F]=p(q,L)}return a(_,a(i(n(...M)),u(E)))}};var fq="transpose",fU=aS(fq,["typed","matrix"],e=>{var{typed:t,matrix:r}=e;return t(fq,{Array:e=>n(r(e)).valueOf(),Matrix:n,any:aw});function n(e){var t,r=e.size();switch(r.length){case 1:t=e.clone();break;case 2:var n=r[0],i=r[1];if(0===i)throw RangeError("Cannot transpose a 2D matrix with no columns (size: "+a5(r)+")");switch(e.storage()){case"dense":t=function(e,t,r){for(var n,i=e._data,a=[],o=0;o<r;o++){n=a[o]=[];for(var s=0;s<t;s++)n[s]=aw(i[s][o])}return e.createDenseMatrix({data:a,size:[r,t],datatype:e._datatype})}(e,n,i);break;case"sparse":t=function(e,t,r){for(var n,i,a,o=e._values,s=e._index,u=e._ptr,l=o?[]:void 0,c=[],f=[],h=[],d=0;d<t;d++)h[d]=0;for(n=0,i=s.length;n<i;n++)h[s[n]]++;for(var p=0,m=0;m<t;m++)f.push(p),p+=h[m],h[m]=f[m];for(f.push(p),a=0;a<r;a++)for(var g=u[a],v=u[a+1],y=g;y<v;y++){var b=h[s[y]]++;c[b]=a,o&&(l[b]=aw(o[y]))}return e.createSparseMatrix({values:l,index:c,ptr:f,size:[r,t],datatype:e._datatype})}(e,n,i)}break;default:throw RangeError("Matrix must be a vector or two dimensional (size: "+a5(r)+")")}return t}}),fj=function(){return fj=r(u_).create,r(u_)},fH=aS("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],function(e){var{BigNumber:t,Complex:r,DenseMatrix:n,Fraction:i}=e,a=fj();return a.clear(),a.addTypes([{name:"number",test:iG},{name:"Complex",test:iY},{name:"BigNumber",test:iV},{name:"bigint",test:iW},{name:"Fraction",test:iZ},{name:"Unit",test:iX},{name:"identifier",test:e=>iJ&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(e)},{name:"string",test:iJ},{name:"Chain",test:a_},{name:"Array",test:iQ},{name:"Matrix",test:iK},{name:"DenseMatrix",test:i1},{name:"SparseMatrix",test:i2},{name:"Range",test:i8},{name:"Index",test:i3},{name:"boolean",test:i5},{name:"ResultSet",test:i6},{name:"Help",test:i4},{name:"function",test:i7},{name:"Date",test:i9},{name:"RegExp",test:ae},{name:"null",test:an},{name:"undefined",test:ai},{name:"AccessorNode",test:aa},{name:"ArrayNode",test:ao},{name:"AssignmentNode",test:as},{name:"BlockNode",test:au},{name:"ConditionalNode",test:al},{name:"ConstantNode",test:ac},{name:"FunctionNode",test:ah},{name:"FunctionAssignmentNode",test:af},{name:"IndexNode",test:ad},{name:"Node",test:ap},{name:"ObjectNode",test:am},{name:"OperatorNode",test:ag},{name:"ParenthesisNode",test:av},{name:"RangeNode",test:ay},{name:"RelationalNode",test:ab},{name:"SymbolNode",test:aD},{name:"Map",test:ar},{name:"Object",test:at}]),a.addConversions([{from:"number",to:"BigNumber",convert:function(e){if(t||f$(e),e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+e+"). Use function bignumber(x) to convert to BigNumber.");return new t(e)}},{from:"number",to:"Complex",convert:function(e){return r||fG(e),new r(e,0)}},{from:"BigNumber",to:"Complex",convert:function(e){return r||fG(e),new r(e.toNumber(),0)}},{from:"bigint",to:"number",convert:function(e){if(e>Number.MAX_SAFE_INTEGER)throw TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+e+")");return Number(e)}},{from:"bigint",to:"BigNumber",convert:function(e){return t||f$(e),new t(e.toString())}},{from:"bigint",to:"Fraction",convert:function(e){return i||fV(e),new i(e)}},{from:"Fraction",to:"BigNumber",convert:function(e){throw TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(e){return r||fG(e),new r(e.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(e){i||fV(e);var t=new i(e);if(t.valueOf()!==e)throw TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+e+"). Use function fraction(x) to convert to Fraction.");return t}},{from:"string",to:"number",convert:function(e){var t=Number(e);if(isNaN(t))throw Error('Cannot convert "'+e+'" to a number');return t}},{from:"string",to:"BigNumber",convert:function(e){t||f$(e);try{return new t(e)}catch(t){throw Error('Cannot convert "'+e+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(e){try{return BigInt(e)}catch(t){throw Error('Cannot convert "'+e+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(e){i||fV(e);try{return new i(e)}catch(t){throw Error('Cannot convert "'+e+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(e){r||fG(e);try{return new r(e)}catch(t){throw Error('Cannot convert "'+e+'" to Complex')}}},{from:"boolean",to:"number",convert:function(e){return+e}},{from:"boolean",to:"BigNumber",convert:function(e){return t||f$(e),new t(+e)}},{from:"boolean",to:"bigint",convert:function(e){return BigInt(+e)}},{from:"boolean",to:"Fraction",convert:function(e){return i||fV(e),new i(+e)}},{from:"boolean",to:"string",convert:function(e){return String(e)}},{from:"Array",to:"Matrix",convert:function(e){return n||function(){throw Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new n(e)}},{from:"Matrix",to:"Array",convert:function(e){return e.valueOf()}}]),a.onMismatch=(e,t,r)=>{var n=a.createError(e,t,r);if(["wrongType","mismatch"].includes(n.data.category)&&1===t.length&&i0(t[0])&&r.some(e=>!e.params.includes(","))){var i=TypeError("Function '".concat(e,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(e,")'."));throw i.data=n.data,i}throw n},a.onMismatch=(e,t,r)=>{var n=a.createError(e,t,r);if(["wrongType","mismatch"].includes(n.data.category)&&1===t.length&&i0(t[0])&&r.some(e=>!e.params.includes(","))){var i=TypeError("Function '".concat(e,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(e,")'."));throw i.data=n.data,i}throw n},a});function f$(e){throw Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function fG(e){throw Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function fV(e){throw Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}var fW="typeOf",fY=aS(fW,["typed"],e=>{var{typed:t}=e;return t(fW,{any:ax})}),fZ="unaryMinus",fX=aS(fZ,["typed"],e=>{var{typed:t}=e;return t(fZ,{number:ok,"Complex | BigNumber | Fraction":e=>e.neg(),bigint:e=>-e,Unit:t.referToSelf(e=>r=>{var n=r.clone();return n.value=t.find(e,n.valueType())(r.value),n}),"Array | Matrix":t.referToSelf(e=>t=>oM(t,e,!0))})}),fJ="unaryPlus",fQ=(e=>{var{typed:t,config:r,numeric:n}=e;return t(fJ,{number:oL,Complex:function(e){return e},BigNumber:function(e){return e},bigint:function(e){return e},Fraction:function(e){return e},Unit:function(e){return e.clone()},"Array | Matrix":t.referToSelf(e=>t=>oM(t,e,!0)),boolean:function(e){return n(+!!e,r.number)},string:function(e){return n(e,aB(e,r))}})},"unequal"),fK=aS(fQ,["typed","equalScalar"],e=>{var{typed:t,equalScalar:r}=e;return t(fQ,{"any, any":function(e,t){return null===e?null!==t:null===t?null!==e:void 0===e?void 0!==t:void 0===t?void 0!==e:!r(e,t)}})});function f0(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f0(Object(n),!0).forEach(function(t){r(fv)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f0(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}e=>{var t,n,i,{on:a,config:o,addScalar:s,subtractScalar:u,multiplyScalar:l,divideScalar:c,pow:f,abs:h,fix:d,round:p,equal:m,isNumeric:g,format:v,number:y,Complex:b,BigNumber:D,Fraction:_}=e;function x(e,t){if(!(this instanceof x))throw Error("Constructor must be called with the new operator");if(!(null==e||g(e)||iY(e)))throw TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,void 0===t)this.units=[],this.dimensions=B.map(e=>0);else if("string"==typeof t){var n=x.parse(t);this.units=n.units,this.dimensions=n.dimensions}else if(iX(t)&&null===t.value)this.fixPrefix=t.fixPrefix,this.skipAutomaticSimplification=t.skipAutomaticSimplification,this.dimensions=t.dimensions.slice(0),this.units=t.units.map(e=>r(iR)({},e));else throw TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.value=this._normalize(e)}function w(){for(;" "===i||"	"===i;)A()}function E(e){return e>="0"&&e<="9"}function A(){n++,i=t.charAt(n)}function C(e){n=e,i=t.charAt(n)}function M(){var e,t="",r=n;if("+"===i?A():"-"===i&&(t+=i,A()),!((e=i)>="0"&&e<="9"||"."===e))return C(r),null;if("."===i){if(t+=i,A(),!E(i))return C(r),null}else{for(;E(i);)t+=i,A();"."===i&&(t+=i,A())}for(;E(i);)t+=i,A();if("E"===i||"e"===i){var a="",o=n;if(a+=i,A(),("+"===i||"-"===i)&&(a+=i,A()),!E(i))return C(o),t;for(t+=a;E(i);)t+=i,A()}return t}function S(e){return i===e?(A(),e):null}Object.defineProperty(x,"name",{value:"Unit"}),x.prototype.constructor=x,x.prototype.type="Unit",x.prototype.isUnit=!0,x.parse=function(e,r){if(r=r||{},n=-1,i="","string"!=typeof(t=e))throw TypeError("Invalid argument in Unit.parse, string expected");var a=new x;a.units=[];var s=1,u=!1;A(),w();var l=M(),c=null;if(l){if("BigNumber"===o.number)c=new D(l);else if("Fraction"===o.number)try{c=new _(l)}catch(e){c=parseFloat(l)}else c=parseFloat(l);w(),S("*")?(s=1,u=!0):S("/")&&(s=-1,u=!0)}for(var f=[],h=1;;){for(w();"("===i;)f.push(s),h*=s,s=1,A(),w();var d=void 0;if(i){var p=i;if(null===(d=function(){for(var e="";E(i)||x.isValidAlpha(i);)e+=i,A();var t=e.charAt(0);return x.isValidAlpha(t)?e:null}()))throw SyntaxError('Unexpected "'+p+'" in "'+t+'" at index '+n.toString())}else break;var m=N(d);if(null===m)throw SyntaxError('Unit "'+d+'" not found.');var g=s*h;if(w(),S("^")){w();var v=M();if(null===v)throw SyntaxError('In "'+e+'", "^" must be followed by a floating-point number');g*=v}a.units.push({unit:m.unit,prefix:m.prefix,power:g});for(var y=0;y<B.length;y++)a.dimensions[y]+=(m.unit.dimensions[y]||0)*g;for(w();")"===i;){if(0===f.length)throw SyntaxError('Unmatched ")" in "'+t+'" at index '+n.toString());h/=f.pop(),A(),w()}if(u=!1,S("*")?(s=1,u=!0):S("/")?(s=-1,u=!0):s=1,m.unit.base){var b=m.unit.base.key;P.auto[b]={unit:m.unit,prefix:m.prefix}}}if(w(),i)throw SyntaxError('Could not parse: "'+e+'"');if(u)throw SyntaxError('Trailing characters: "'+e+'"');if(0!==f.length)throw SyntaxError('Unmatched "(" in "'+t+'"');if(0===a.units.length&&!r.allowNoUnits)throw SyntaxError('"'+e+'" contains no units');return a.value=void 0!==c?a._normalize(c):null,a},x.prototype.clone=function(){var e=new x;e.fixPrefix=this.fixPrefix,e.skipAutomaticSimplification=this.skipAutomaticSimplification,e.value=aw(this.value),e.dimensions=this.dimensions.slice(0),e.units=[];for(var t=0;t<this.units.length;t++)for(var r in e.units[t]={},this.units[t])aC(this.units[t],r)&&(e.units[t][r]=this.units[t][r]);return e},x.prototype.valueType=function(){return ax(this.value)},x.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},x.prototype._normalize=function(e){if(null==e||0===this.units.length)return e;for(var t=e,r=x._getNumberConverter(ax(e)),n=0;n<this.units.length;n++){var i=r(this.units[n].unit.value),a=r(this.units[n].prefix.value),o=r(this.units[n].power);t=l(t,f(l(i,a),o))}return t},x.prototype._denormalize=function(e,t){if(null==e||0===this.units.length)return e;for(var r=e,n=x._getNumberConverter(ax(e)),i=0;i<this.units.length;i++){var a=n(this.units[i].unit.value),o=n(this.units[i].prefix.value),s=n(this.units[i].power);r=c(r,f(l(a,o),s))}return r};var N=uI(e=>{if(aC(R,e)){var t=R[e],r=t.prefixes[""];return{unit:t,prefix:r}}for(var n in R)if(aC(R,n)&&function(e,t){var r=e.length-t.length,n=e.length;return e.substring(r,n)===t}(e,n)){var i=R[n],a=e.length-n.length,o=e.substring(0,a),s=aC(i.prefixes,o)?i.prefixes[o]:void 0;if(void 0!==s)return{unit:i,prefix:s}}return null},{hasher:e=>e[0],limit:100});function F(e){return e.equalBase(O.NONE)&&null!==e.value&&!o.predictable?e.value:e}x.isValuelessUnit=function(e){return null!==N(e)},x.prototype.hasBase=function(e){if("string"==typeof e&&(e=O[e]),!e)return!1;for(var t=0;t<B.length;t++)if(Math.abs((this.dimensions[t]||0)-(e.dimensions[t]||0))>1e-12)return!1;return!0},x.prototype.equalBase=function(e){for(var t=0;t<B.length;t++)if(Math.abs((this.dimensions[t]||0)-(e.dimensions[t]||0))>1e-12)return!1;return!0},x.prototype.equals=function(e){return this.equalBase(e)&&m(this.value,e.value)},x.prototype.multiply=function(e){for(var t=this.clone(),r=iX(e)?e:new x(e),n=0;n<B.length;n++)t.dimensions[n]=(this.dimensions[n]||0)+(r.dimensions[n]||0);for(var i=0;i<r.units.length;i++){var a=f1({},r.units[i]);t.units.push(a)}return null!==this.value||null!==r.value?t.value=l(null===this.value?this._normalize(1):this.value,null===r.value?r._normalize(1):r.value):t.value=null,iX(e)&&(t.skipAutomaticSimplification=!1),F(t)},x.prototype.divideInto=function(e){return new x(e).divide(this)},x.prototype.divide=function(e){for(var t=this.clone(),r=iX(e)?e:new x(e),n=0;n<B.length;n++)t.dimensions[n]=(this.dimensions[n]||0)-(r.dimensions[n]||0);for(var i=0;i<r.units.length;i++){var a=f1(f1({},r.units[i]),{},{power:-r.units[i].power});t.units.push(a)}return null!==this.value||null!==r.value?t.value=c(null===this.value?this._normalize(1):this.value,null===r.value?r._normalize(1):r.value):t.value=null,iX(e)&&(t.skipAutomaticSimplification=!1),F(t)},x.prototype.pow=function(e){for(var t=this.clone(),r=0;r<B.length;r++)t.dimensions[r]=(this.dimensions[r]||0)*e;for(var n=0;n<t.units.length;n++)t.units[n].power*=e;return null!==t.value?t.value=f(t.value,e):t.value=null,t.skipAutomaticSimplification=!1,F(t)},x.prototype.abs=function(){var e=this.clone();if(null!==e.value)if(e._isDerived()||0===e.units.length||0===e.units[0].unit.offset)e.value=h(e.value);else{var t=e._numberConverter(),r=l(t(e.units[0].unit.value),t(e.units[0].unit.offset));e.value=u(h(s(e.value,r)),r)}for(var n in e.units)("VA"===e.units[n].unit.name||"VAR"===e.units[n].unit.name)&&(e.units[n].unit=R.W);return e},x.prototype.to=function(e){var t,r=null===this.value?this._normalize(1):this.value;if("string"==typeof e)t=x.parse(e);else if(iX(e))t=e.clone();else throw Error("String or Unit expected as parameter");if(!this.equalBase(t))throw Error("Units do not match ('".concat(t.toString(),"' != '").concat(this.toString(),"')"));if(null!==t.value)throw Error("Cannot convert to a unit with a value");if(null===this.value||this._isDerived()||0===this.units.length||0===t.units.length||this.units[0].unit.offset===t.units[0].unit.offset)t.value=aw(r);else{var n=x._getNumberConverter(ax(r)),i=l(this.units[0].unit.value,this.units[0].unit.offset),a=l(t.units[0].unit.value,t.units[0].unit.offset);t.value=s(r,n(u(i,a)))}return t.fixPrefix=!0,t.skipAutomaticSimplification=!0,t},x.prototype.toNumber=function(e){return y(this.toNumeric(e))},x.prototype.toNumeric=function(e){var t;return(t=e?this.to(e):this.clone())._isDerived()||0===t.units.length?t._denormalize(t.value):t._denormalize(t.value,t.units[0].prefix.value)},x.prototype.toString=function(){return this.format()},x.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.units.length>0?this.formatUnits():null,fixPrefix:this.fixPrefix}},x.fromJSON=function(e){var t,r=new x(e.value,null!=(t=e.unit)?t:void 0);return r.fixPrefix=e.fixPrefix||!1,r},x.prototype.valueOf=x.prototype.toString,x.prototype.simplify=function(){var e,t,r=this.clone(),n=[];for(var i in q)if(aC(q,i)&&r.hasBase(O[i])){e=i;break}if("NONE"===e)r.units=[];else if(e&&aC(q,e)&&(t=q[e]),t)r.units=[{unit:t.unit,prefix:t.prefix,power:1}];else{for(var a=!1,o=0;o<B.length;o++){var s=B[o];Math.abs(r.dimensions[o]||0)>1e-12&&(aC(q,s)?n.push({unit:q[s].unit,prefix:q[s].prefix,power:r.dimensions[o]||0}):a=!0)}n.length<r.units.length&&!a&&(r.units=n)}return r},x.prototype.toSI=function(){for(var e=this.clone(),t=[],r=0;r<B.length;r++){var n=B[r];if(Math.abs(e.dimensions[r]||0)>1e-12)if(aC(P.si,n))t.push({unit:P.si[n].unit,prefix:P.si[n].prefix,power:e.dimensions[r]||0});else throw Error("Cannot express custom unit "+n+" in SI units")}return(e.units=t,e.fixPrefix=!0,e.skipAutomaticSimplification=!0,null!==this.value)?(e.value=null,this.to(e)):e},x.prototype.formatUnits=function(){for(var e="",t="",r=0,n=0,i=0;i<this.units.length;i++)this.units[i].power>0?(r++,e+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power-1)>1e-15&&(e+="^"+this.units[i].power)):this.units[i].power<0&&n++;if(n>0)for(var a=0;a<this.units.length;a++)this.units[a].power<0&&(r>0?(t+=" "+this.units[a].prefix.name+this.units[a].unit.name,Math.abs(this.units[a].power+1)>1e-15&&(t+="^"+-this.units[a].power)):(t+=" "+this.units[a].prefix.name+this.units[a].unit.name,t+="^"+this.units[a].power));e=e.substr(1),t=t.substr(1),r>1&&n>0&&(e="("+e+")"),n>1&&r>0&&(t="("+t+")");var o=e;return r>0&&n>0&&(o+=" / "),o+=t},x.prototype.format=function(e){var t=this.skipAutomaticSimplification||null===this.value?this.clone():this.simplify(),r=!1;for(var n in void 0!==t.value&&null!==t.value&&iY(t.value)&&(r=1e-14>Math.abs(t.value.re)),t.units)aC(t.units,n)&&t.units[n].unit&&("VA"===t.units[n].unit.name&&r?t.units[n].unit=R.VAR:"VAR"!==t.units[n].unit.name||r||(t.units[n].unit=R.VA));1===t.units.length&&!t.fixPrefix&&1e-14>Math.abs(t.units[0].power-Math.round(t.units[0].power))&&(t.units[0].prefix=t._bestPrefix());var i=t._denormalize(t.value),a=null!==t.value?v(i,e||{}):"",o=t.formatUnits();return t.value&&iY(t.value)&&(a="("+a+")"),o.length>0&&a.length>0&&(a+=" "),a+=o},x.prototype._bestPrefix=function(){if(1!==this.units.length||Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var e=null!==this.value?h(this.value):0,t=h(this.units[0].unit.value),r=this.units[0].prefix;if(0===e)return r;var n=this.units[0].power,i=Math.log(e/Math.pow(r.value*t,n))/Math.LN10-1.2;if(i>-2.200001&&i<1.800001)return r;i=Math.abs(i);var a=this.units[0].unit.prefixes;for(var o in a)if(aC(a,o)){var s=a[o];if(s.scientific){var u=Math.abs(Math.log(e/Math.pow(s.value*t,n))/Math.LN10-1.2);(u<i||u===i&&s.name.length<r.name.length)&&(r=s,i=u)}}return r},x.prototype.splitUnit=function(e){for(var t=this.clone(),r=[],n=0;n<e.length&&(t=t.to(e[n]),n!==e.length-1);n++){var i=t.toNumeric(),a=p(i),o=void 0,l=new x(m(a,i)?a:d(t.toNumeric()),e[n].toString());r.push(l),t=u(t,l)}for(var c=0,f=0;f<r.length;f++)c=s(c,r[f].value);return m(c,this.value)&&(t.value=0),r.push(t),r};var T={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},R:{name:"R",value:1e27,scientific:!0},Q:{name:"Q",value:1e30,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0},r:{name:"r",value:1e-27,scientific:!0},q:{name:"q",value:1e-30,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},ronna:{name:"ronna",value:1e27,scientific:!0},quetta:{name:"quetta",value:1e30,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0},ronto:{name:"ronto",value:1e-27,scientific:!0},quecto:{name:"quecto",value:1e-30,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},R:{name:"R",value:1e54,scientific:!0},Q:{name:"Q",value:1e60,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0},r:{name:"r",value:1e-54,scientific:!0},q:{name:"q",value:1e-60,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},R:{name:"R",value:1e81,scientific:!0},Q:{name:"Q",value:1e90,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0},r:{name:"r",value:1e-81,scientific:!0},q:{name:"q",value:1e-90,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:1048576,scientific:!0},Gi:{name:"Gi",value:0x40000000,scientific:!0},Ti:{name:"Ti",value:0x10000000000,scientific:!0},Pi:{name:"Pi",value:0x4000000000000,scientific:!0},Ei:{name:"Ei",value:0x1000000000000000,scientific:!0},Zi:{name:"Zi",value:11805916207174113e5,scientific:!0},Yi:{name:"Yi",value:12089258196146292e8,scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:1048576,scientific:!0},gibi:{name:"gibi",value:0x40000000,scientific:!0},tebi:{name:"tebi",value:0x10000000000,scientific:!0},pebi:{name:"pebi",value:0x4000000000000,scientific:!0},exi:{name:"exi",value:0x1000000000000000,scientific:!0},zebi:{name:"zebi",value:11805916207174113e5,scientific:!0},yobi:{name:"yobi",value:12089258196146292e8,scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};T.SHORTLONG=r(iR)({},T.SHORT,T.LONG),T.BINARY_SHORT=r(iR)({},T.BINARY_SHORT_SI,T.BINARY_SHORT_IEC),T.BINARY_LONG=r(iR)({},T.BINARY_LONG_SI,T.BINARY_LONG_IEC);var B=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],O={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var I in O)aC(O,I)&&(O[I].key=I);var z={name:"",base:{},value:1,offset:0,dimensions:B.map(e=>0)},R={meter:{name:"meter",base:O.LENGTH,prefixes:T.LONG,value:1,offset:0},inch:{name:"inch",base:O.LENGTH,prefixes:T.NONE,value:.0254,offset:0},foot:{name:"foot",base:O.LENGTH,prefixes:T.NONE,value:.3048,offset:0},yard:{name:"yard",base:O.LENGTH,prefixes:T.NONE,value:.9144,offset:0},mile:{name:"mile",base:O.LENGTH,prefixes:T.NONE,value:1609.344,offset:0},link:{name:"link",base:O.LENGTH,prefixes:T.NONE,value:.201168,offset:0},rod:{name:"rod",base:O.LENGTH,prefixes:T.NONE,value:5.0292,offset:0},chain:{name:"chain",base:O.LENGTH,prefixes:T.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:O.LENGTH,prefixes:T.NONE,value:1e-10,offset:0},m:{name:"m",base:O.LENGTH,prefixes:T.SHORT,value:1,offset:0},in:{name:"in",base:O.LENGTH,prefixes:T.NONE,value:.0254,offset:0},ft:{name:"ft",base:O.LENGTH,prefixes:T.NONE,value:.3048,offset:0},yd:{name:"yd",base:O.LENGTH,prefixes:T.NONE,value:.9144,offset:0},mi:{name:"mi",base:O.LENGTH,prefixes:T.NONE,value:1609.344,offset:0},li:{name:"li",base:O.LENGTH,prefixes:T.NONE,value:.201168,offset:0},rd:{name:"rd",base:O.LENGTH,prefixes:T.NONE,value:5.02921,offset:0},ch:{name:"ch",base:O.LENGTH,prefixes:T.NONE,value:20.1168,offset:0},mil:{name:"mil",base:O.LENGTH,prefixes:T.NONE,value:254e-7,offset:0},m2:{name:"m2",base:O.SURFACE,prefixes:T.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:O.SURFACE,prefixes:T.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:O.SURFACE,prefixes:T.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:O.SURFACE,prefixes:T.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:O.SURFACE,prefixes:T.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:O.SURFACE,prefixes:T.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:O.SURFACE,prefixes:T.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:O.SURFACE,prefixes:T.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:O.SURFACE,prefixes:T.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:O.SURFACE,prefixes:T.NONE,value:1e4,offset:0},m3:{name:"m3",base:O.VOLUME,prefixes:T.CUBIC,value:1,offset:0},L:{name:"L",base:O.VOLUME,prefixes:T.SHORT,value:.001,offset:0},l:{name:"l",base:O.VOLUME,prefixes:T.SHORT,value:.001,offset:0},litre:{name:"litre",base:O.VOLUME,prefixes:T.LONG,value:.001,offset:0},cuin:{name:"cuin",base:O.VOLUME,prefixes:T.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:O.VOLUME,prefixes:T.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:O.VOLUME,prefixes:T.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:O.VOLUME,prefixes:T.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:O.VOLUME,prefixes:T.NONE,value:15e-6,offset:0},drop:{name:"drop",base:O.VOLUME,prefixes:T.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:O.VOLUME,prefixes:T.NONE,value:5e-8,offset:0},minim:{name:"minim",base:O.VOLUME,prefixes:T.NONE,value:61611519921875e-21,offset:0},fluiddram:{name:"fluiddram",base:O.VOLUME,prefixes:T.NONE,value:36966911953125e-19,offset:0},fluidounce:{name:"fluidounce",base:O.VOLUME,prefixes:T.NONE,value:295735295625e-16,offset:0},gill:{name:"gill",base:O.VOLUME,prefixes:T.NONE,value:11829411825e-14,offset:0},cc:{name:"cc",base:O.VOLUME,prefixes:T.NONE,value:1e-6,offset:0},cup:{name:"cup",base:O.VOLUME,prefixes:T.NONE,value:2365882365e-13,offset:0},pint:{name:"pint",base:O.VOLUME,prefixes:T.NONE,value:473176473e-12,offset:0},quart:{name:"quart",base:O.VOLUME,prefixes:T.NONE,value:946352946e-12,offset:0},gallon:{name:"gallon",base:O.VOLUME,prefixes:T.NONE,value:.003785411784,offset:0},beerbarrel:{name:"beerbarrel",base:O.VOLUME,prefixes:T.NONE,value:.117347765304,offset:0},oilbarrel:{name:"oilbarrel",base:O.VOLUME,prefixes:T.NONE,value:.158987294928,offset:0},hogshead:{name:"hogshead",base:O.VOLUME,prefixes:T.NONE,value:.238480942392,offset:0},g:{name:"g",base:O.MASS,prefixes:T.SHORT,value:.001,offset:0},gram:{name:"gram",base:O.MASS,prefixes:T.LONG,value:.001,offset:0},ton:{name:"ton",base:O.MASS,prefixes:T.SHORT,value:907.18474,offset:0},t:{name:"t",base:O.MASS,prefixes:T.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:O.MASS,prefixes:T.LONG,value:1e3,offset:0},grain:{name:"grain",base:O.MASS,prefixes:T.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:O.MASS,prefixes:T.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:O.MASS,prefixes:T.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:O.MASS,prefixes:T.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:O.MASS,prefixes:T.NONE,value:45.359237,offset:0},stick:{name:"stick",base:O.MASS,prefixes:T.NONE,value:.115,offset:0},stone:{name:"stone",base:O.MASS,prefixes:T.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:O.MASS,prefixes:T.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:O.MASS,prefixes:T.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:O.MASS,prefixes:T.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:O.MASS,prefixes:T.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:O.MASS,prefixes:T.NONE,value:45.359237,offset:0},s:{name:"s",base:O.TIME,prefixes:T.SHORT,value:1,offset:0},min:{name:"min",base:O.TIME,prefixes:T.NONE,value:60,offset:0},h:{name:"h",base:O.TIME,prefixes:T.NONE,value:3600,offset:0},second:{name:"second",base:O.TIME,prefixes:T.LONG,value:1,offset:0},sec:{name:"sec",base:O.TIME,prefixes:T.LONG,value:1,offset:0},minute:{name:"minute",base:O.TIME,prefixes:T.NONE,value:60,offset:0},hour:{name:"hour",base:O.TIME,prefixes:T.NONE,value:3600,offset:0},day:{name:"day",base:O.TIME,prefixes:T.NONE,value:86400,offset:0},week:{name:"week",base:O.TIME,prefixes:T.NONE,value:604800,offset:0},month:{name:"month",base:O.TIME,prefixes:T.NONE,value:2629800,offset:0},year:{name:"year",base:O.TIME,prefixes:T.NONE,value:0x1e187e0,offset:0},decade:{name:"decade",base:O.TIME,prefixes:T.NONE,value:315576e3,offset:0},century:{name:"century",base:O.TIME,prefixes:T.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:O.TIME,prefixes:T.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:O.FREQUENCY,prefixes:T.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:O.FREQUENCY,prefixes:T.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:O.ANGLE,prefixes:T.SHORT,value:1,offset:0},radian:{name:"radian",base:O.ANGLE,prefixes:T.LONG,value:1,offset:0},deg:{name:"deg",base:O.ANGLE,prefixes:T.SHORT,value:null,offset:0},degree:{name:"degree",base:O.ANGLE,prefixes:T.LONG,value:null,offset:0},grad:{name:"grad",base:O.ANGLE,prefixes:T.SHORT,value:null,offset:0},gradian:{name:"gradian",base:O.ANGLE,prefixes:T.LONG,value:null,offset:0},cycle:{name:"cycle",base:O.ANGLE,prefixes:T.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:O.ANGLE,prefixes:T.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:O.ANGLE,prefixes:T.NONE,value:null,offset:0},A:{name:"A",base:O.CURRENT,prefixes:T.SHORT,value:1,offset:0},ampere:{name:"ampere",base:O.CURRENT,prefixes:T.LONG,value:1,offset:0},K:{name:"K",base:O.TEMPERATURE,prefixes:T.SHORT,value:1,offset:0},degC:{name:"degC",base:O.TEMPERATURE,prefixes:T.SHORT,value:1,offset:273.15},degF:{name:"degF",base:O.TEMPERATURE,prefixes:T.SHORT,value:new _(5,9),offset:459.67},degR:{name:"degR",base:O.TEMPERATURE,prefixes:T.SHORT,value:new _(5,9),offset:0},kelvin:{name:"kelvin",base:O.TEMPERATURE,prefixes:T.LONG,value:1,offset:0},celsius:{name:"celsius",base:O.TEMPERATURE,prefixes:T.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:O.TEMPERATURE,prefixes:T.LONG,value:new _(5,9),offset:459.67},rankine:{name:"rankine",base:O.TEMPERATURE,prefixes:T.LONG,value:new _(5,9),offset:0},mol:{name:"mol",base:O.AMOUNT_OF_SUBSTANCE,prefixes:T.SHORT,value:1,offset:0},mole:{name:"mole",base:O.AMOUNT_OF_SUBSTANCE,prefixes:T.LONG,value:1,offset:0},cd:{name:"cd",base:O.LUMINOUS_INTENSITY,prefixes:T.SHORT,value:1,offset:0},candela:{name:"candela",base:O.LUMINOUS_INTENSITY,prefixes:T.LONG,value:1,offset:0},N:{name:"N",base:O.FORCE,prefixes:T.SHORT,value:1,offset:0},newton:{name:"newton",base:O.FORCE,prefixes:T.LONG,value:1,offset:0},dyn:{name:"dyn",base:O.FORCE,prefixes:T.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:O.FORCE,prefixes:T.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:O.FORCE,prefixes:T.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:O.FORCE,prefixes:T.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:O.FORCE,prefixes:T.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:O.FORCE,prefixes:T.NONE,value:9.80665,offset:0},J:{name:"J",base:O.ENERGY,prefixes:T.SHORT,value:1,offset:0},joule:{name:"joule",base:O.ENERGY,prefixes:T.LONG,value:1,offset:0},erg:{name:"erg",base:O.ENERGY,prefixes:T.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:O.ENERGY,prefixes:T.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:O.ENERGY,prefixes:T.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:O.ENERGY,prefixes:T.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:O.ENERGY,prefixes:T.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:O.POWER,prefixes:T.SHORT,value:1,offset:0},watt:{name:"watt",base:O.POWER,prefixes:T.LONG,value:1,offset:0},hp:{name:"hp",base:O.POWER,prefixes:T.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:O.POWER,prefixes:T.SHORT,value:b.I,offset:0},VA:{name:"VA",base:O.POWER,prefixes:T.SHORT,value:1,offset:0},Pa:{name:"Pa",base:O.PRESSURE,prefixes:T.SHORT,value:1,offset:0},psi:{name:"psi",base:O.PRESSURE,prefixes:T.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:O.PRESSURE,prefixes:T.NONE,value:101325,offset:0},bar:{name:"bar",base:O.PRESSURE,prefixes:T.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:O.PRESSURE,prefixes:T.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:O.PRESSURE,prefixes:T.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:O.PRESSURE,prefixes:T.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:O.PRESSURE,prefixes:T.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:O.ELECTRIC_CHARGE,prefixes:T.LONG,value:1,offset:0},C:{name:"C",base:O.ELECTRIC_CHARGE,prefixes:T.SHORT,value:1,offset:0},farad:{name:"farad",base:O.ELECTRIC_CAPACITANCE,prefixes:T.LONG,value:1,offset:0},F:{name:"F",base:O.ELECTRIC_CAPACITANCE,prefixes:T.SHORT,value:1,offset:0},volt:{name:"volt",base:O.ELECTRIC_POTENTIAL,prefixes:T.LONG,value:1,offset:0},V:{name:"V",base:O.ELECTRIC_POTENTIAL,prefixes:T.SHORT,value:1,offset:0},ohm:{name:"ohm",base:O.ELECTRIC_RESISTANCE,prefixes:T.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:O.ELECTRIC_INDUCTANCE,prefixes:T.LONG,value:1,offset:0},H:{name:"H",base:O.ELECTRIC_INDUCTANCE,prefixes:T.SHORT,value:1,offset:0},siemens:{name:"siemens",base:O.ELECTRIC_CONDUCTANCE,prefixes:T.LONG,value:1,offset:0},S:{name:"S",base:O.ELECTRIC_CONDUCTANCE,prefixes:T.SHORT,value:1,offset:0},weber:{name:"weber",base:O.MAGNETIC_FLUX,prefixes:T.LONG,value:1,offset:0},Wb:{name:"Wb",base:O.MAGNETIC_FLUX,prefixes:T.SHORT,value:1,offset:0},tesla:{name:"tesla",base:O.MAGNETIC_FLUX_DENSITY,prefixes:T.LONG,value:1,offset:0},T:{name:"T",base:O.MAGNETIC_FLUX_DENSITY,prefixes:T.SHORT,value:1,offset:0},b:{name:"b",base:O.BIT,prefixes:T.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:O.BIT,prefixes:T.BINARY_LONG,value:1,offset:0},B:{name:"B",base:O.BIT,prefixes:T.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:O.BIT,prefixes:T.BINARY_LONG,value:8,offset:0}},k={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fldr:"fluiddram",fluiddrams:"fluiddram",floz:"fluidounce",fluidounces:"fluidounce",gi:"gill",gills:"gill",cp:"cup",cups:"cup",pt:"pint",pints:"pint",qt:"quart",quarts:"quart",gal:"gallon",gallons:"gallon",bbl:"beerbarrel",beerbarrels:"beerbarrel",obl:"oilbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function L(e){if("BigNumber"===e.number){var t=uk(D);R.rad.value=new D(1),R.deg.value=t.div(180),R.grad.value=t.div(200),R.cycle.value=t.times(2),R.arcsec.value=t.div(648e3),R.arcmin.value=t.div(10800)}else R.rad.value=1,R.deg.value=Math.PI/180,R.grad.value=Math.PI/200,R.cycle.value=2*Math.PI,R.arcsec.value=Math.PI/648e3,R.arcmin.value=Math.PI/10800;R.radian.value=R.rad.value,R.degree.value=R.deg.value,R.gradian.value=R.grad.value}L(o),a&&a("config",function(e,t){e.number!==t.number&&L(e)});var P={si:{NONE:{unit:z,prefix:T.NONE[""]},LENGTH:{unit:R.m,prefix:T.SHORT[""]},MASS:{unit:R.g,prefix:T.SHORT.k},TIME:{unit:R.s,prefix:T.SHORT[""]},CURRENT:{unit:R.A,prefix:T.SHORT[""]},TEMPERATURE:{unit:R.K,prefix:T.SHORT[""]},LUMINOUS_INTENSITY:{unit:R.cd,prefix:T.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:R.mol,prefix:T.SHORT[""]},ANGLE:{unit:R.rad,prefix:T.SHORT[""]},BIT:{unit:R.bits,prefix:T.SHORT[""]},FORCE:{unit:R.N,prefix:T.SHORT[""]},ENERGY:{unit:R.J,prefix:T.SHORT[""]},POWER:{unit:R.W,prefix:T.SHORT[""]},PRESSURE:{unit:R.Pa,prefix:T.SHORT[""]},ELECTRIC_CHARGE:{unit:R.C,prefix:T.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:R.F,prefix:T.SHORT[""]},ELECTRIC_POTENTIAL:{unit:R.V,prefix:T.SHORT[""]},ELECTRIC_RESISTANCE:{unit:R.ohm,prefix:T.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:R.H,prefix:T.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:R.S,prefix:T.SHORT[""]},MAGNETIC_FLUX:{unit:R.Wb,prefix:T.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:R.T,prefix:T.SHORT[""]},FREQUENCY:{unit:R.Hz,prefix:T.SHORT[""]}}};P.cgs=JSON.parse(JSON.stringify(P.si)),P.cgs.LENGTH={unit:R.m,prefix:T.SHORT.c},P.cgs.MASS={unit:R.g,prefix:T.SHORT[""]},P.cgs.FORCE={unit:R.dyn,prefix:T.SHORT[""]},P.cgs.ENERGY={unit:R.erg,prefix:T.NONE[""]},P.us=JSON.parse(JSON.stringify(P.si)),P.us.LENGTH={unit:R.ft,prefix:T.NONE[""]},P.us.MASS={unit:R.lbm,prefix:T.NONE[""]},P.us.TEMPERATURE={unit:R.degF,prefix:T.NONE[""]},P.us.FORCE={unit:R.lbf,prefix:T.NONE[""]},P.us.ENERGY={unit:R.BTU,prefix:T.BTU[""]},P.us.POWER={unit:R.hp,prefix:T.NONE[""]},P.us.PRESSURE={unit:R.psi,prefix:T.NONE[""]},P.auto=JSON.parse(JSON.stringify(P.si));var q=P.auto;for(var U in x.setUnitSystem=function(e){if(aC(P,e))q=P[e];else throw Error("Unit system "+e+" does not exist. Choices are: "+Object.keys(P).join(", "))},x.getUnitSystem=function(){for(var e in P)if(aC(P,e)&&P[e]===q)return e},x.typeConverters={BigNumber:function(e){return null!=e&&e.isFraction?new D(String(e.n)).div(String(e.d)).times(String(e.s)):new D(e+"")},Fraction:function(e){return new _(e)},Complex:function(e){return e},number:function(e){return null!=e&&e.isFraction?y(e):e}},x.prototype._numberConverter=function(){var e=x.typeConverters[this.valueType()];if(e)return e;throw TypeError('Unsupported Unit value type "'+this.valueType()+'"')},x._getNumberConverter=function(e){if(!x.typeConverters[e])throw TypeError('Unsupported type "'+e+'"');return x.typeConverters[e]},R)if(aC(R,U)){var j=R[U];j.dimensions=j.base.dimensions}for(var H in k)if(aC(k,H)){var $=R[k[H]],G={};for(var V in $)aC($,V)&&(G[V]=$[V]);G.name=H,R[H]=G}return x.isValidAlpha=function(e){return/^[a-zA-Z]$/.test(e)},x.createUnit=function(e,t){if("object"!=typeof e)throw TypeError("createUnit expects first parameter to be of type 'Object'");if(t&&t.override){for(var r in e)if(aC(e,r)&&x.deleteUnit(r),e[r].aliases)for(var n,i=0;i<e[r].aliases.length;i++)x.deleteUnit(e[r].aliases[i])}for(var a in e)aC(e,a)&&(n=x.createUnitSingle(a,e[a]));return n},x.createUnitSingle=function(e,t){if(null==t&&(t={}),"string"!=typeof e)throw TypeError("createUnitSingle expects first parameter to be of type 'string'");if(aC(R,e))throw Error('Cannot create unit "'+e+'": a unit with that name already exists');for(var r=0;r<e.length;r++){if(i=e.charAt(r),0===r&&!x.isValidAlpha(i))throw Error('Invalid unit name (must begin with alpha character): "'+e+'"');if(r>0&&!(x.isValidAlpha(i)||E(i)))throw Error('Invalid unit name (only alphanumeric characters are allowed): "'+e+'"')}var n,a,o,s=null,u=[],l=0;if(t&&"Unit"===t.type)s=t.clone();else if("string"==typeof t)""!==t&&(n=t);else if("object"==typeof t)n=t.definition,a=t.prefixes,l=t.offset,o=t.baseName,t.aliases&&(u=t.aliases.valueOf());else throw TypeError('Cannot create unit "'+e+'" from "'+t.toString()+'": expecting "string" or "Unit" or "Object"');if(u){for(var c=0;c<u.length;c++)if(aC(R,u[c]))throw Error('Cannot create alias "'+u[c]+'": a unit with that name already exists')}if(n&&"string"==typeof n&&!s)try{s=x.parse(n,{allowNoUnits:!0})}catch(t){throw t.message='Could not create unit "'+e+'" from "'+n+'": '+t.message,t}else n&&"Unit"===n.type&&(s=n.clone());u=u||[],l=l||0,a=a&&a.toUpperCase&&T[a.toUpperCase()]||T.NONE;var f={};if(s){f={name:e,value:s.value,dimensions:s.dimensions.slice(0),prefixes:a,offset:l};var h=!1;for(var d in O)if(aC(O,d)){for(var p=!0,m=0;m<B.length;m++)if(Math.abs((f.dimensions[m]||0)-(O[d].dimensions[m]||0))>1e-12){p=!1;break}if(p){h=!0,f.base=O[d];break}}if(!h){o=o||e+"_STUFF";var g={dimensions:s.dimensions.slice(0)};g.key=o,O[o]=g,q[o]={unit:f,prefix:T.NONE[""]},f.base=O[o]}}else{if(o=o||e+"_STUFF",B.indexOf(o)>=0)throw Error('Cannot create new base unit "'+e+'": a base unit with that name already exists (and cannot be overridden)');for(var v in B.push(o),O)aC(O,v)&&(O[v].dimensions[B.length-1]=0);for(var y={dimensions:[]},b=0;b<B.length;b++)y.dimensions[b]=0;y.dimensions[B.length-1]=1,y.key=o,O[o]=y,f={name:e,value:1,dimensions:O[o].dimensions.slice(0),prefixes:a,offset:l,base:O[o]},q[o]={unit:f,prefix:T.NONE[""]}}x.UNITS[e]=f;for(var D=0;D<u.length;D++){var _=u[D],w={};for(var A in f)aC(f,A)&&(w[A]=f[A]);w.name=_,x.UNITS[_]=w}return delete N.cache,new x(null,e)},x.deleteUnit=function(e){delete x.UNITS[e],delete N.cache},x.PREFIXES=T,x.BASE_DIMENSIONS=B,x.BASE_UNITS=O,x.UNIT_SYSTEMS=P,x.UNITS=R,x};var f2="usolve",f8=aS(f2,["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],e=>{var{typed:t,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:s}=e,u=l9({DenseMatrix:s});return t(f2,{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var r=(t=u(e,t,!0))._data,l=e._size[0],c=e._size[1],f=e._values,h=e._index,d=e._ptr,p=[],m=c-1;m>=0;m--){var g=r[m][0]||0;if(o(g,0))p[m]=[0];else{for(var v=0,y=[],b=[],D=d[m],_=d[m+1],x=_-1;x>=D;x--){var w=h[x];w===m?v=f[x]:w<m&&(y.push(f[x]),b.push(w))}if(o(v,0))throw Error("Linear system cannot be solved since matrix is singular");for(var E=n(g,v),A=0,C=b.length;A<C;A++){var M=b[A];r[M]=[a(r[M][0],i(E,y[A]))]}p[m]=[E]}}return new s({data:p,size:[l,1]})}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return l(e,t)},"Array, Array | Matrix":function(e,t){return l(r(e),t).valueOf()}});function l(e,t){for(var r=(t=u(e,t,!0))._data,l=e._size[0],c=e._size[1],f=[],h=e._data,d=c-1;d>=0;d--){var p=r[d][0]||0,m=void 0;if(o(p,0))m=0;else{var g=h[d][d];if(o(g,0))throw Error("Linear system cannot be solved since matrix is singular");m=n(p,g);for(var v=d-1;v>=0;v--)r[v]=[a(r[v][0]||0,i(m,h[v][d]))]}f[d]=[m]}return new s({data:f,size:[l,1]})}}),f3="usolveAll",f5=aS(f3,["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],e=>{var{typed:t,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:s}=e,u=l9({DenseMatrix:s});return t(f3,{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var r=[u(e,t,!0)._data.map(e=>e[0])],l=e._size[0],c=e._size[1],f=e._values,h=e._index,d=e._ptr,p=c-1;p>=0;p--)for(var m=r.length,g=0;g<m;g++){for(var v=r[g],y=[],b=[],D=d[p],_=d[p+1],x=0,w=_-1;w>=D;w--){var E=h[w];E===p?x=f[w]:E<p&&(y.push(f[w]),b.push(E))}if(o(x,0))if(o(v[p],0)){if(0===g){var A=[...v];A[p]=1;for(var C=0,M=b.length;C<M;C++){var S=b[C];A[S]=a(A[S],y[C])}r.push(A)}}else{if(0===g)return[];r.splice(g,1),g-=1,m-=1}else{v[p]=n(v[p],x);for(var N=0,F=b.length;N<F;N++){var T=b[N];v[T]=a(v[T],i(v[p],y[N]))}}}return r.map(e=>new s({data:e.map(e=>[e]),size:[l,1]}))}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return l(e,t)},"Array, Array | Matrix":function(e,t){return l(r(e),t).map(e=>e.valueOf())}});function l(e,t){for(var r=[u(e,t,!0)._data.map(e=>e[0])],l=e._data,c=e._size[0],f=e._size[1],h=f-1;h>=0;h--)for(var d=r.length,p=0;p<d;p++){var m=r[p];if(o(l[h][h],0))if(o(m[h],0)){if(0===p){var g=[...m];g[h]=1;for(var v=h-1;v>=0;v--)g[v]=a(g[v],l[v][h]);r.push(g)}}else{if(0===p)return[];r.splice(p,1),p-=1,d-=1}else{m[h]=n(m[h],l[h][h]);for(var y=h-1;y>=0;y--)m[y]=a(m[y],i(m[h],l[y][h]))}}return r.map(e=>new s({data:e.map(e=>[e]),size:[c,1]}))}}),f6="unbiased",f4="variance",f7=(e=>{var{typed:t,add:r,subtract:n,multiply:i,divide:a,mapSlices:o,isNaN:s}=e;return t(f4,{"Array | Matrix":function(e){return u(e,f6)},"Array | Matrix, string":u,"Array | Matrix, number | BigNumber":function(e,t){return l(e,t,f6)},"Array | Matrix, number | BigNumber, string":l,"...":function(e){return u(e,f6)}});function u(e,t){var o,u=0;if(0===e.length)throw SyntaxError("Function variance requires one or more parameters (0 provided)");if(oC(e,function(e){try{o=void 0===o?e:r(o,e),u++}catch(t){throw uy(t,"variance",e)}}),0===u)throw Error("Cannot calculate variance of an empty array");var l=a(o,u);if(o=void 0,oC(e,function(e){var t=n(e,l);o=void 0===o?i(t,t):r(o,i(t,t))}),s(o))return o;switch(t){case"uncorrected":return a(o,u);case"biased":return a(o,u+1);case"unbiased":var c=iV(o)?o.mul(0):0;return 1===u?c:a(o,u-1);default:throw Error('Unknown normalization "'+t+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function l(e,t,r){try{if(0===e.length)throw SyntaxError("Function variance requires one or more parameters (0 provided)");return o(e,t,e=>u(e,r))}catch(e){throw uy(e,"variance")}}},"xgcd");e=>{var{typed:t,config:r,matrix:n,BigNumber:i}=e;return t(f7,{"number, number":function(e,t){var i=oX(e,t);return"Array"===r.matrix?i:n(i)},"BigNumber, BigNumber":function(e,t){var a,o,s,u,l=new i(0),c=new i(1),f=l,h=c,d=c,p=l;if(!e.isInt()||!t.isInt())throw Error("Parameters in function xgcd must be integer numbers");for(;!t.isZero();)o=e.div(t).floor(),s=e.mod(t),a=f,f=h.minus(o.times(f)),h=a,a=d,d=p.minus(o.times(d)),p=a,e=t,t=s;return u=e.lt(l)?[e.neg(),h.neg(),p.neg()]:[e,e.isZero()?0:h,p],"Array"===r.matrix?u:n(u)}})};var f9="zeros",he=aS(f9,["typed","config","matrix","BigNumber"],e=>{var{typed:t,config:r,matrix:n,BigNumber:i}=e;return t(f9,{"":function(){return"Array"===r.matrix?a([]):a([],"default")},"...number | BigNumber | string":function(e){if("string"==typeof e[e.length-1]){var t=e.pop();return a(e,t)}return"Array"===r.matrix?a(e):a(e,"default")},Array:a,Matrix:function(e){var t=e.storage();return a(e.valueOf(),t)},"Array | Matrix, string":function(e,t){return a(e.valueOf(),t)}});function a(e,t){var r,a=(r=!1,e.forEach(function(e,t,n){iV(e)&&(r=!0,n[t]=e.toNumber())}),r)?new i(0):0;if(e.forEach(function(e){if("number"!=typeof e||!aT(e)||e<0)throw Error("Parameters in function zeros must be positive integers")}),t){var o=n(t);return e.length>0?o.resize(e,a):o}var s=[];return e.length>0?oa(s,e,a):s}}),ht=sF({config:aM}),hr=ul({}),hn=lh({}),hi=cf({}),ha=uE({Matrix:hi}),ho=fH({BigNumber:ht,Complex:hr,DenseMatrix:ha,Fraction:hn}),hs=oK({typed:ho}),hu=sp({typed:ho}),hl=sw({typed:ho}),hc=us({Complex:hr,typed:ho}),hf=ud({typed:ho}),hh=um({typed:ho}),hd=uJ({config:aM,typed:ho}),hp=lt({typed:ho}),hm=lC({typed:ho}),hg=lN({typed:ho}),hv=lk({typed:ho}),hy=lW({config:aM,typed:ho}),hb=lZ({equalScalar:hd,typed:ho});var hD=cy({typed:ho}),h_=c_({typed:ho}),hx=cY({typed:ho}),hw=c7({BigNumber:ht,Fraction:hn,complex:hc,typed:ho}),hE=c9({typed:ho}),hA=fC({Matrix:hi,equalScalar:hd,typed:ho}),hC=fL({typed:ho}),hM=sS({BigNumber:ht,typed:ho}),hS=lU({typed:ho}),hN=cc({DenseMatrix:ha,Matrix:hi,SparseMatrix:hA,typed:ho}),hF=cX({isInteger:hv,matrix:hN,typed:ho}),hT=fM({Complex:hr,config:aM,typed:ho}),hB=fU({matrix:hN,typed:ho}),hO=he({BigNumber:ht,config:aM,matrix:hN,typed:ho}),hI=uf({isInteger:hv,matrix:hN,typed:ho}),hz=uv({conj:hf,transpose:hB,typed:ho}),hR=uM({DenseMatrix:ha,SparseMatrix:hA,matrix:hN,typed:ho}),hk=uY({DenseMatrix:ha,SparseMatrix:hA,concat:hI,equalScalar:hd,matrix:hN,typed:ho}),hL=lc({Fraction:hn,typed:ho}),hP=lS({BigNumber:ht,DenseMatrix:ha,SparseMatrix:hA,config:aM,matrix:hN,typed:ho}),hq=lG({typed:ho}),hU=l0({DenseMatrix:ha,SparseMatrix:hA,concat:hI,config:aM,matrix:hN,typed:ho}),hj=cA({bignumber:hM,fraction:hL,number:h_}),hH=c0({BigNumber:ht,DenseMatrix:ha,config:aM,equalScalar:hd,matrix:hN,typed:ho,zeros:hO}),h$=ft({matrix:hN,config:aM,typed:ho}),hG=fh({DenseMatrix:ha,SparseMatrix:hA,bignumber:hM,concat:hI,config:aM,matrix:hN,typed:ho}),hV=fX({typed:ho}),hW=sh({DenseMatrix:ha,SparseMatrix:hA,addScalar:hu,concat:hI,equalScalar:hd,matrix:hN,typed:ho}),hY=ut({BigNumber:ht,DenseMatrix:ha,Fraction:hn,concat:hI,config:aM,equalScalar:hd,matrix:hN,typed:ho}),hZ=uF({numeric:hj,typed:ho}),hX=la({DenseMatrix:ha,config:aM,equalScalar:hd,matrix:hN,round:hH,typed:ho,zeros:hO}),hJ=lO({ImmutableDenseMatrix:lF({DenseMatrix:ha,smaller:hG}),getMatrixDataType:hm}),hQ=lJ({DenseMatrix:ha,SparseMatrix:hA,bignumber:hM,concat:hI,config:aM,matrix:hN,typed:ho}),hK=ct({DenseMatrix:ha,divideScalar:hZ,equalScalar:hd,matrix:hN,multiplyScalar:hD,subtractScalar:hC,typed:ho}),h0=cd({flatten:hp,matrix:hN,size:h$,typed:ho});var h1=cH({addScalar:hu,complex:hc,conj:hf,divideScalar:hZ,equal:hk,identity:hP,isZero:hb,matrix:hN,multiplyScalar:hD,sign:hw,sqrt:hT,subtractScalar:hC,typed:ho,unaryMinus:hV,zeros:hO}),h2=fm({DenseMatrix:ha,SparseMatrix:hA,concat:hI,config:aM,matrix:hN,typed:ho}),h8=fF({add:hW,matrix:hN,typed:ho,zeros:hO}),h3=fR({DenseMatrix:ha,concat:hI,equalScalar:hd,matrix:hN,subtractScalar:hC,typed:ho,unaryMinus:hV}),h5=f8({DenseMatrix:ha,divideScalar:hZ,equalScalar:hd,matrix:hN,multiplyScalar:hD,subtractScalar:hC,typed:ho}),h6=ua({compare:hY,typed:ho}),h4=uT({addScalar:hu,conj:hf,multiplyScalar:hD,size:h$,typed:ho}),h7=u6({larger:hQ,smaller:hG}),h9=cv({addScalar:hu,dot:h4,equalScalar:hd,matrix:hN,multiplyScalar:hD,typed:ho}),de=cW({bignumber:hM,matrix:hN,add:hW,config:aM,isPositive:hy,larger:hQ,largerEq:hU,smaller:hG,smallerEq:h2,typed:ho}),dt=fc({SparseMatrix:hA,abs:hs,add:hW,divideScalar:hZ,larger:hQ,largerEq:hU,multiply:h9,subtract:h3,transpose:hB,typed:ho}),dr=f5({DenseMatrix:ha,divideScalar:hZ,equalScalar:hd,matrix:hN,multiplyScalar:hD,subtractScalar:hC,typed:ho}),dn=sK({DenseMatrix:ha,config:aM,equalScalar:hd,matrix:hN,round:hH,typed:ho,zeros:hO}),di=s1({Index:hJ,matrix:hN,range:de,typed:ho}),da=uA({divideScalar:hZ,isZero:hb,matrix:hN,multiply:h9,subtractScalar:hC,typed:ho,unaryMinus:hV}),ds=lz({abs:hs,addScalar:hu,det:da,divideScalar:hZ,identity:hP,matrix:hN,multiply:h9,typed:ho,unaryMinus:hV}),du=cP({Complex:hr,config:aM,fraction:hL,identity:hP,inv:ds,matrix:hN,multiply:h9,number:h_,typed:ho});var dl=fA({FibonacciHeap:h7,addScalar:hu,equalScalar:hd}),dc=lb({BigNumber:ht,Complex:hr,config:aM,multiplyScalar:hD,pow:du,typed:ho}),df=cr({DenseMatrix:ha,Spa:dl,SparseMatrix:hA,abs:hs,addScalar:hu,divideScalar:hZ,equalScalar:hd,larger:hQ,matrix:hN,multiplyScalar:hD,subtractScalar:hC,typed:ho,unaryMinus:hV}),dh=uV({abs:hs,add:hW,addScalar:hu,atan:hl,bignumber:hM,column:di,complex:hc,config:aM,cos:hh,diag:hR,divideScalar:hZ,dot:h4,equal:hk,flatten:hp,im:hg,inv:ds,larger:hQ,matrix:hN,matrixFromColumns:h0,multiply:h9,multiplyScalar:hD,number:h_,qr:h1,re:hx,reshape:hF,sin:hE,size:h$,smaller:hG,sqrt:hT,subtract:h3,typed:ho,usolve:h5,usolveAll:dr});var dd=cD({abs:hs,add:hW,conj:hf,ctranspose:hz,eigs:dh,equalScalar:hd,larger:hQ,matrix:hN,multiply:h9,pow:du,smaller:hG,sqrt:hT,typed:ho});class dp{constructor(e,t){this._position=hN([e,t])}get position(){return this._position}set position(e){this._position=e}set inner(e){this._position=e.position}get magnitude(){let e=this._position.get([0]),t=this._position.get([1]);return Math.sqrt(e*e+t*t)}set magnitude(e){let t=this.magnitude;0!==t&&(this._position=h9(this._position,e/t))}set limit(e){this.magnitude>e&&(this.magnitude=e)}get x(){return this._position.get([0])}set x(e){this._position.set([0],e)}get y(){return this._position.get([1])}set y(e){this._position.set([1],e)}get angle(){return 180*Math.atan2(this.y,this.x)/Math.PI}toString(){return`Vector2D(${this.x}, ${this.y})`}normalize(){let e=this._position.get([0]),t=this._position.get([1]),r=Math.hypot(e,t);0!==r&&(this._position.set([0],e/r),this._position.set([1],t/r))}add(e){this._position=hW(this._position,e.position)}subtract(e){this.add(new dp(-e.x,-e.y))}equals(e){return 1e-5>Math.abs(this.x-e.x)&&1e-5>Math.abs(this.y-e.y)}}class dm{static{this.ZERO_VECTOR=new dp(0,0)}static add(e,t){let r=hW(e.position,t.position);return new dp(r.get([0]),r.get([1]))}static subtract(e,t){let r=h3(e.position,t.position);return new dp(r.get([0]),r.get([1]))}static multiply(e,t){let r=h9(e.position,t);return new dp(r.get([0]),r.get([1]))}static distance(e,t){return dm.subtract(e,t).magnitude}static zero(){return new dp(0,0)}static north(){return new dp(0,-1)}static east(){return new dp(1,0)}static south(){return new dp(0,1)}static west(){return new dp(-1,0)}static canvasSize(){return new dp(window.innerWidth,window.innerHeight)}static equals(e,t){return e.x===t.x&&e.y===t.y}static copy(e){return new dp(e.x,e.y)}static normalize(e){let t=dm.copy(e);return t.normalize(),t}static fromAngle(e){let t=e*Math.PI/180;return new dp(Math.cos(t),Math.sin(t))}static getRandom(e){return new dp(Math.random()*e.x,Math.random()*e.y)}static circularOverlap(e,t,r){return dm.distance(e,t)<=r}}class dg{constructor(){this._data=new Map}get data(){return this._data}static empty(){return new dg}reload(){this._data=new Map}update(e){this._data.forEach(t=>t.update(e)),this.removeDeadEntities()}add(e){this._data.set(e.uuid,e)}clear(){this._data=new Map}removeDeadEntities(){this._data.forEach((e,t)=>{e.isAlive||this._data.delete(t)})}getFilteredValues(e){return Array.from(this._data.values()).filter(e)}}class dv{get isAlive(){return console.warn("Calling isAlive on ModelEntity instance, objects should not be initialized directly!"),!0}draw(e){let t="ModelEntity should never be initiated directly!";throw console.error(t,this),Error(t)}update(e){console.warn("No update function implemented",this,e)}}var dy=class{constructor(){this._behaviors=[]}addBehavior(e){this._behaviors.push(e)}getBehavior(e){return this._behaviors.find(t=>t.constructor.name===e)||null}getAllBehaviors(){return this._behaviors}},db=class{constructor(e){this._target=e}apply(e){let t=e.movementComponent,r=t.location,n=dm.subtract(this._target,r),i=dm.normalize(n);t.velocity=dm.multiply(i,t.maxSpeed)}updateTarget(e){this._target=e}},dD=class{constructor(e=1.5,t=1,r=.3){this.wanderAngle=Math.random()*Math.PI*2,this.circleDistance=e,this.circleRadius=t,this.angleChange=r}apply(e){if(!e.movementComponent)return;let t=e.movementComponent,r=t.velocity;if(0===r.magnitude)return;let n=dm.normalize(r),i=dm.multiply(n,this.circleDistance);this.wanderAngle+=(Math.random()-.5)*2*this.angleChange;let a=new dp(Math.cos(this.wanderAngle),Math.sin(this.wanderAngle)),o=dm.multiply(a,this.circleRadius),s=dm.add(i,o),u=dm.add(r,s);u.magnitude=t.maxSpeed,t.velocity=u}},d_=class{apply(e){this.wander(e,2e-4)}wander(e,t){let r=t+t,n=e.movementComponent,i=new dp(Math.random()*r-t,Math.random()*r-t),a=dm.add(n.velocity,i);a.limit=n.maxSpeed,n.velocity=a}},dx=class{constructor(){this._behaviorManager=new dy,this.behaviorManager.addBehavior(new db(new dp(0,0))),this.behaviorManager.addBehavior(new dD),this.behaviorManager.addBehavior(new d_),this._currentBehavior=this._behaviorManager.getBehavior(d_.name)||new d_,this._target=new dp(0,0)}isIdle(){return this._currentBehavior instanceof d_}setIdle(){this._currentBehavior=this._behaviorManager.getBehavior(d_.name)||new d_}get currentBehavior(){return this._currentBehavior}get behaviorManager(){return this._behaviorManager}apply(e){this._currentBehavior&&this._currentBehavior.apply(e)}setBehavior(e){let t=this._behaviorManager.getBehavior(e);t?this._currentBehavior=t:console.warn(`Behavior of type ${e} not found`)}updateTarget(e){this._target=e,this._currentBehavior instanceof db&&this._currentBehavior.updateTarget(e)}};class dw{constructor(e,t){this._location=e,this._velocity=dm.zero(),this._orientation=dm.north(),this._acceleration=dm.zero(),this._maxSpeed=t}get location(){return this._location}set location(e){this._location=e}get velocity(){return this._velocity}set velocity(e){this._velocity=e,dm.equals(e,dm.zero())||(this._orientation=dm.normalize(e))}get orientation(){return this._orientation}set orientation(e){dm.equals(this._velocity,dm.zero())?this._orientation=dm.normalize(e):console.warn("Trying to set rotation for a moving object",this,e)}get maxSpeed(){return this._maxSpeed.baseValue}applyForce(e){this._acceleration=dm.add(this._acceleration,e)}update(e){console.log("x"),this._velocity=dm.add(this._velocity,this._acceleration),this._velocity.limit=this._maxSpeed.baseValue,this._location=dm.add(this._location,dm.multiply(this._velocity,e)),this._resetAcceleration(),this._maxSpeed.reset(),this._maxSpeed.add(this._velocity.magnitude)}_resetAcceleration(){this._acceleration=dm.zero()}}class dE extends dw{constructor(e,t,r,n){super(e,t),this._a=r,this._b=n}get a(){return this._a}get b(){return this._b}isOutOfBounds(){let e=this._location.x,t=this._location.y,r=this.a.x,n=this.a.y,i=this.b.x,a=this.b.y;return e>i||e<r||t>a||t<n}}class dA extends dE{constructor(e,t){super(e,t,new dp(0,0),new dp(window.innerWidth,window.innerHeight))}get b(){return new dp(window.innerWidth,window.innerHeight)}}class dC extends dA{update(e){this._velocity=dm.add(this._velocity,this._acceleration),this._velocity.limit=this._maxSpeed.baseValue,this._location=dm.add(this._location,dm.multiply(this._velocity,e)),this._location.x<this.a.x?this._location.x=this.b.x:this._location.x>this.b.x&&(this._location.x=this.a.x),this._location.y<this.a.y?this._location.y=this.b.y:this._location.y>this.b.y&&(this._location.y=this.a.y);let t=this._velocity.magnitude;this._resetAcceleration(),this._maxSpeed.reset(),this._maxSpeed.add(t)}getWrappedPositions(e){let{x:t,y:r}=this._location,{x:n,y:i}=this.a,{x:a,y:o}=this.b,s=[new dp(t,r)];return t-e<n&&s.push(new dp(t+(a-n),r)),t+e>a&&s.push(new dp(t-(a-n),r)),r-e<i&&s.push(new dp(t,r+(o-i))),r+e>o&&s.push(new dp(t,r-(o-i))),t-e<n&&r-e<i&&s.push(new dp(t+(a-n),r+(o-i))),t+e>a&&r-e<i&&s.push(new dp(t-(a-n),r+(o-i))),t-e<n&&r+e>o&&s.push(new dp(t+(a-n),r-(o-i))),t+e>a&&r+e>o&&s.push(new dp(t-(a-n),r-(o-i))),s}}const dM={bgHighlight:"#2a1323",danger:"#ff3366"};class dS{constructor(e,t,r=0){this._id=e,this._baseValue=t,this._value=t,this._decayRate=r,this._baseValueModifiers=new Map,this._decayRateModifiers=new Map}get id(){return this._id}get value(){return this._value}get baseValue(){return this._baseValue+Array.from(this._baseValueModifiers.values()).reduce((e,t)=>e+t,0)}get decayRate(){return this._decayRate+Array.from(this._decayRateModifiers.values()).reduce((e,t)=>e+t,0)}get fullValue(){return this.baseValue}get factor(){return this._value/this.fullValue}get percentage(){return 100*this.factor}addBaseValueModifier(e,t){this._baseValueModifiers.set(e,t)}addDecayRateModifier(e,t){this._decayRateModifiers.set(e,t)}removeBaseValueModifier(e){this._baseValueModifiers.delete(e)}removeDecayRateModifier(e){this._decayRateModifiers.delete(e)}applyDecay(e){0!==this.decayRate&&(this._value-=this.decayRate*e,this._value<0&&(this._value=0))}update(e){this.applyDecay(e)}isEmpty(){return this._value<=0}isFull(){return this._value>=this.fullValue}debug(){return`Stat ${this._id}: value=${this._value}, baseValue=${this.baseValue}, decayRate=${this.decayRate}`}reset(){this._value=this.baseValue}add(e){this._value+=e,this._value>this.baseValue&&this.reset()}subtract(e){this.add(-e)}}class dN extends dS{constructor(e,t,r=0){super(e,t,r),this._value=0}applyDecay(e){0!==this.decayRate&&(this._value+=this.decayRate*e,this._value>this.baseValue&&(this._value=this.baseValue))}reset(){this._value=0}}class dF extends dS{static{this.id="health"}constructor(e=100,t=0){super(dF.id,e,t)}}class dT extends dS{static{this.id="durability"}constructor(e=100,t=.01){super(dT.id,e,t)}}class dB extends dS{static{this.id="foodItemCount"}constructor(e=1,t=0){super(dB.id,e,t)}}class dO extends dS{static{this.id="mana"}constructor(e=100,t=.03){super(dO.id,e,t)}}class dI extends dS{static{this.id="stamina"}constructor(e=100,t=.02){super(dI.id,e,t)}}class dz extends dS{static{this.id="attack"}constructor(e=10){super(dz.id,e,0)}}class dR extends dS{static{this.id="defense"}constructor(e=5){super(dR.id,e,0)}}class dk extends dS{static{this.id="agility"}constructor(e=10){super(dk.id,e,0)}}class dL extends dS{static{this.id="intelligence"}constructor(e=10){super(dL.id,e,0)}}class dP extends dS{static{this.id="strength"}constructor(e=10){super(dP.id,e,0)}}class dq extends dS{static{this.id="magicResistance"}constructor(e=5){super(dq.id,e,0)}}class dU extends dS{static{this.id="physicalResistance"}constructor(e=5){super(dU.id,e,0)}}class dj extends dS{static{this.id="criticalHitChance"}constructor(e=.1){super(dj.id,e,0)}}class dH extends dS{static{this.id="healthRegen"}constructor(e=0,t=.01){super(dH.id,e,t)}}class d$ extends dS{static{this.id="manaRegen"}constructor(e=0,t=.01){super(d$.id,e,t)}}class dG extends dS{static{this.id="experience"}constructor(e=0){super(dG.id,e,0)}}class dV extends dS{static{this.id="viewRadius"}constructor(e,t=100){super(dV.id,t),this._size=e}get value(){let e=super.value;return this.scale(e)}get baseValue(){let e=super.baseValue;return this.scale(e)}scale(e){return e*(1+this._size.value/100)}}class dW extends dN{static{this.id="movementSpeed"}constructor(e,t=.1){super(dW.id,t,0),this._sizeStat=e}get value(){let e=super.value;return this.scale(e)}get baseValue(){let e=super.baseValue;return this.scale(e)}scale(e){return e*(9.81/this._sizeStat.value)}}class dY extends dN{static{this.id="hunger"}constructor(e,t=100){super(dY.id,t,.002),this._movementSpeed=e}applyDecay(e){let t=this.decayRate,r=this._movementSpeed.value;this._value+=t*e+.2*r*e,this._value>this.baseValue&&(this._value=this.baseValue)}scale(e){return e*(9.81/this._movementSpeed.value)}}class dZ extends dS{static{this.id="size"}constructor(e=5+50*Math.random()){super(dZ.id,e,0)}}class dX{static circle(e,t,r,n,i="#000"){e.beginPath(),e.arc(t,r,n,0,2*Math.PI),e.strokeStyle=i,e.stroke()}static circleFilled(e,t,r,n,i="#000"){e.beginPath(),e.arc(t,r,n,0,2*Math.PI),e.fillStyle=i,e.fill()}static circleGradient(e,t,r,n,i){e.beginPath(),e.arc(t,r,n,0,2*Math.PI),e.fillStyle=i,e.fill()}static square(e,t,r,n,i="#000"){e.strokeStyle=i,e.strokeRect(t,r,n,n)}static squareFilled(e,t,r,n,i="#000"){e.fillStyle=i,e.fillRect(t,r,n,n)}static rect(e,t,r,n,i,a="#000"){e.strokeStyle=a,e.strokeRect(t,r,n,i)}static rectFilled(e,t,r,n,i,a="#000"){e.fillStyle=a,e.fillRect(t,r,n,i)}static line(e,t,r,n,i,a="#000"){e.beginPath(),e.moveTo(t,r),e.lineTo(n,i),e.strokeStyle=a,e.stroke()}}class dJ{static drawBar(e,t,r,n,i=5,a=1,o="#333",s="#0f0"){let u=Math.max(0,Math.min(1,a));dX.rectFilled(e,t,r,n,i,o),dX.rectFilled(e,t,r,n*u,i,s)}static drawBarsStacked(e,t,r,n,i,a=5,o=2){i.forEach((i,s)=>{this.drawBar(e,t,r+s*(a+o),n,a,i.factor,i.bgColor??"#333",i.fillColor??"#0f0")})}}class dQ{static drawEntity(e,t,r){let n=t.movementComponent,i=r||n.location;n.velocity;let a=dm.normalize(n.orientation),o=t.statComponent.statsManager,s=o.getStatById(dZ.id),u=s?.value??10,l=t.aliveStat?.factor??-1,c=10+(u-10)*l,f=new dp(i.x+a.x*c,i.y+a.y*c);dX.circleFilled(e,i.x,i.y,c,dM.bgHighlight),dX.line(e,i.x,i.y,f.x,f.y,dM.danger),dX.circle(e,i.x,i.y,c,dM.danger);let h=o.getStatById(dY.id),d=h?.factor??-1,p=i.x-u,m=i.y+u;dJ.drawBarsStacked(e,p,m,2*u,[{factor:l,bgColor:"#8B0000",fillColor:"#00FF00"},{factor:d,bgColor:"#bf9600",fillColor:"#FFFF00"}],5,2);let g=o.getStatById(dV.id);g&&dX.circle(e,i.x,i.y,g.value,dM.danger)}static drawFood(e,t,r){let n=e.createRadialGradient(t.x,t.y,0,t.x,t.y,2*r);n.addColorStop(0,"rgba(255, 255, 0, 0.6)"),n.addColorStop(1,"rgba(255, 255, 0, 0)"),dX.circleGradient(e,t.x,t.y,2*r,n),dX.squareFilled(e,t.x-r,t.y-r,2*r,"#ffff00")}}class dK{constructor(){this.events={}}static getInstance(){return dK.instance||(dK.instance=new dK),dK.instance}reset(){this.events={}}on(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)}off(e,t){this.events[e]&&(this.events[e]=this.events[e].filter(e=>e!==t))}emit(e,t){this.events[e]&&this.events[e].forEach(e=>e(t))}}class d0{addRule(e){if(this._rules.has(e.name))return void console.error(`Rule with name "${e.name}" already exists.`);this._rules.set(e.name,e)}evaluateAll(e,t){this._rules.forEach(r=>r.evaluate(e,t))}removeRule(e){this._rules.has(e)?this._rules.delete(e):console.error(`Rule with name "${e}" not found.`)}clearRules(){this._rules.clear()}getRule(e){return this._rules.get(e)}hasRule(e){return this._rules.has(e)}constructor(){this._rules=new Map}}class d1{constructor(){this._eventBus=dK.getInstance(),this._stats=new Map,this._statRuleManager=new d0}get stats(){return Array.from(this._stats.values())}get statRuleManager(){return this._statRuleManager}addStat(e){this._stats.has(e.id)||this._stats.set(e.id,e)}update(e){this._stats.forEach(t=>{t.update(e),this._statRuleManager.evaluateAll(t,this),this._eventBus.emit("stat-change-"+t.id,t),t.isFull()&&this._eventBus.emit("stat-full-"+t.id,t),t.isEmpty()&&this._eventBus.emit("stat-empty-"+t.id,t)})}getStatById(e){return this._stats.get(e)}resetStats(){this._stats.forEach(e=>e.reset())}getStatValue(e){let t=this.getStatById(e);return t?t.value:void 0}addStatBaseValueModifier(e,t,r){let n=this.getStatById(e);n&&n.addBaseValueModifier(t,r)}addStatDecayRateModifier(e,t,r){let n=this.getStatById(e);n&&n.addDecayRateModifier(t,r)}}class d2{constructor(){this._statsManager=new d1}get statsManager(){return this._statsManager}update(e){this._statsManager.update(e)}listenToStatEvents(){let e=dK.getInstance();e.on("stat-full-health",e=>{console.log(`Health is full! Value: ${e.value}`)}),e.on("stat-empty-health",e=>{console.log(`Health is empty! Value: ${e.value}`)})}debug(){return this._statsManager.stats.map(e=>e.debug()).join("\n")}}class d8 extends dv{constructor(e,t,r){super(),this.id="entity",this.sizeStat=new dZ,this.movementSpeed=new dW(this.sizeStat),this._movementComponent=new dC(e,this.movementSpeed),this._behaviourComponent=new dx,this._statsComponent=new d2,this.aliveStat=r,this._statsComponent.statsManager.addStat(r),this._statsComponent.statsManager.addStat(this.sizeStat),this._statsComponent.statsManager.addStat(this.movementSpeed),this.uuid=iO.getId(this.id)}get movementComponent(){return this._movementComponent}get behaviourComponent(){return this._behaviourComponent}get statComponent(){return this._statsComponent}get isAlive(){return!this.aliveStat.isEmpty()}draw(e){let t=this.sizeStat.value;this._movementComponent instanceof dC&&this._movementComponent.getWrappedPositions(t).forEach(t=>{dQ.drawEntity(e,this,t)}),dQ.drawEntity(e,this)}update(e){this._behaviourComponent.apply(this),this._statsComponent.update(e),this._movementComponent.update(e)}}class d3{constructor(e,t,r,n,i){this._name=e,this.conditions=t,this.typeCondition=r,this.onActivateCallback=n,this.onDeactivateCallback=i}get name(){return this._name}evaluate(e,t){this.typeCondition(e)&&(this.conditions.every(t=>t(e))?this.onActivateCallback(t):this.onDeactivateCallback(t))}}const d5="health-hunger",d6="mn-"+d5+"-modifier",d4=new class{constructor(e){this.conditions=[],this.typeCondition=()=>!0,this.onActivateCallback=()=>{},this.onDeactivateCallback=()=>{},this.ruleName=e}addCondition(e){return this.conditions.push(e),this}addTypeCondition(e){return this.typeCondition=e,this}onActivate(e){return this.onActivateCallback=e,this}onDeactivate(e){return this.onDeactivateCallback=e,this}build(){return new d3(this.ruleName,this.conditions,this.typeCondition,this.onActivateCallback,this.onDeactivateCallback)}}(d5).addTypeCondition(e=>e.id===dY.id).addCondition(e=>e.isFull()).onActivate(e=>{let t=e.getStatById(dF.id);t?.addDecayRateModifier(d6,.01)}).onDeactivate(e=>{let t=e.getStatById(dF.id);t?.removeDecayRateModifier(d6)}).build();class d7{constructor(e){this.subGoals=new Map,this.id=e}hasSubGoal(e){return this.subGoals.has(e)}getSubGoals(){return Array.from(this.subGoals.values())}addSubGoal(e){this.subGoals.set(e.id,e)}removeSubGoal(e){this.subGoals.delete(e)}execute(e){let t=0;return this.getRelevantActions().forEach(r=>{let n=e.getAction(r);n&&!(n.checkPreconditions()&&n.execute())&&t++}),0===t}equals(e){return e.id===this.id}getBestSubGoal(){let e=Array.from(this.subGoals.values());return 0===e.length?null:e.reduce((e,t)=>t.getPriority()>e.getPriority()?t:e)}static bestSubGoalFilterFunction(e){return!e.isSatisfied()&&e.getPriority()>=0}hasSubGoals(){return 0!==this.getSubGoals().length}toString(){return`Goal(${this.id}, priority=${this.getPriority()}, satisfied=${this.isSatisfied()})`}}class d9 extends d7{static{this.id="root-goal"}constructor(){super(d9.id)}getPriority(){return 1}isSatisfied(){return!1}getRelevantActions(){return[]}getDescription(){return"The goal that always represents the Root of the Goal Tree."}}class pe{addAction(e){this.hasAction(e.id)||this.actions.add(e)}removeAction(e){let t=this.getAction(e);t&&this.actions.delete(t)}getAction(e){return Array.from(this.actions).find(t=>t.id===e)}hasAction(e){return!!this.getAction(e)}clearActions(){this.actions.clear()}getAllActions(){return Array.from(this.actions)}constructor(){this.actions=new Set}}class pt{constructor(){this._rootGoal=new d9,this._actionManager=new pe}addGoalTree(e){this._rootGoal.addSubGoal(e)}execute(){let e=this._rootGoal,t=null;for(;;){if(!e)throw console.error("Failing goal tree: ",this),console.error("Last goal:",t),Error("There was a failing leaf node in the goal tree.");let r=e.execute(this._actionManager),n=e.isSatisfied();if(r&&n)return e;t=e,e=e.getBestSubGoal()}}}class pr{constructor(e){this.id=e}equals(e){return this.id===e.id}}class pn extends pr{static{this.id="action-eat"}constructor(e){super(pn.id),this._statsManager=e}checkPreconditions(){try{return this.getStats(),!0}catch(e){return!1}}execute(){let{hungerStat:e,foodItemCountStat:t}=this.getStats();return!(!e||!t||t.isEmpty())&&(e.add(20),t.subtract(1),!0)}getCost(){throw Error("Method not implemented.")}getStats(){let e=this._statsManager.getStatById(dY.id),t=this._statsManager.getStatById(dB.id);if(e&&t)return{hungerStat:e,foodItemCountStat:t};throw Error("Did not find hunger or foodItemCount stat ..")}}class pi extends pr{static{this.id="action-idle"}constructor(e){super(pi.id),this._behaviourComponent=e}checkPreconditions(){return!0}execute(){return!!this._behaviourComponent.isIdle()||(this._behaviourComponent.setIdle(),!0)}getCost(){throw Error("Method not implemented.")}}class pa extends pr{static{this.id="action-wander"}constructor(e){super(pa.id),this._behaviourComponent=e}checkPreconditions(){return!0}execute(){return this._behaviourComponent.currentBehavior instanceof dD||(this._behaviourComponent.setBehavior(dD.name),!0)}getCost(){throw Error("Method not implemented.")}}class po extends d7{static{this.id="goal-wander"}constructor(e){super(po.id),this._behaviourComponent=e}getPriority(){return .1}isSatisfied(){return this._behaviourComponent.currentBehavior instanceof dD}getRelevantActions(){return[pa.id]}getDescription(){return"If we have food items, we will eat one"}}class ps extends d7{static{this.id="goal-eat"}constructor(e,t){super(ps.id),this._lastHunger=0,this._statsManager=e,this.addSubGoal(new po(t))}getPriority(){let e=this._statsManager.getStatById(dY.id);return e?e.factor:0}isSatisfied(){let e=this._statsManager.getStatById(dY.id);return!!e&&this._lastHunger>e.value}getRelevantActions(){return[pn.id]}getDescription(){return"If we have food items, we will eat one"}execute(e){let t=super.execute(e),r=this._statsManager.getStatById(dY.id);return!!t&&!!r&&(this._lastHunger=r.value,!0)}}class pu extends d7{static{this.id="goal-hunger"}constructor(e,t){super(pu.id),this._statsManager=e,this.addSubGoal(new ps(e,t))}getPriority(){let e=this._statsManager.getStatById(dY.id);return e?e.factor*e.factor:0}isSatisfied(){let e=this._statsManager.getStatById(dY.id);return!!e&&e.factor<.1}getRelevantActions(){return[]}getDescription(){return"Checks if we are hungry."}}class pl extends d7{static{this.id="goal-idle"}constructor(e){super(pl.id),this._behaviourComponent=e}getPriority(){return .1}isSatisfied(){return this._behaviourComponent.isIdle()}getRelevantActions(){return[pi.id]}getDescription(){return"If we have food items, we will eat one"}}class pc extends d8{constructor(e){super(e,pc.getMaxSpeed(Math.random()),new dF),this.id="monster",this.goalManager=new pt,this._statsComponent.statsManager.addStat(new dY(this.movementSpeed)),this._statsComponent.statsManager.statRuleManager.addRule(d4),this.goalManager.addGoalTree(new pu(this._statsComponent.statsManager,this.behaviourComponent)),this.goalManager._actionManager.addAction(new pn(this._statsComponent.statsManager)),this._statsComponent.statsManager.addStat(new dB);let t=new dV(this.sizeStat);this.viewRadiusStat=t,console.log(t),this._statsComponent.statsManager.addStat(t),this.goalManager.addGoalTree(new pl(this._behaviourComponent)),this.goalManager._actionManager.addAction(new pi(this._behaviourComponent)),this.goalManager._actionManager.addAction(new pa(this._behaviourComponent))}static getMaxSpeed(e){return .05+.1*e}update(e){super.update(e),this.goalManager.execute()}draw(e){let t=this.viewRadiusStat.value;this._movementComponent instanceof dC&&this._movementComponent.getWrappedPositions(t).forEach(t=>{dQ.drawEntity(e,this,t)}),dQ.drawEntity(e,this)}}class pf extends iz{constructor(e){super(pf.getButtons(e),["controller-window"])}static getButtons(e){let t=iB.createButton("Play",()=>{e.start()}),r=iB.createButton("Pause",()=>{e.stop()}),n=iB.createButton("Next",()=>{e.controller.update(10)});return[t,r,n,iB.createButton("Reload",()=>{e.controller.reload()}),iB.createButton("Spawn",()=>{let t=e.controller.model,r=e.controller.view;t.add(new pc(dm.getRandom(dm.canvasSize()))),r.update(t)})]}_createHeaderDiv(e){let t=iB.createDiv(iO.getId("header"),{},["app-window","header"]),r=iB.createTitle(e,"p",{}),n=iB.createButton("_",()=>this._toggleMinimize());return t.appendChild(r),t.appendChild(n),t}}var ph=((n=ph||{}).MouseMoveCtrl="mousemove-ctrl",n.KeyDown="keydown",n.KeyUp="keyup",n.MouseUp="mouseup",n.MouseDown="mousedown",n.MouseClick="click",n.MouseContextMenu="contextmenu",n.ItemSpawn="item-spawn",n.ItemClick="item-click",n.TouchMove="touchmove",n.TouchStart="touchstart",n.TouchEnd="touchend",n);class pd{constructor(){this._inputBus=dK.getInstance(),this._ctrlModifier=!1,this._shiftModifier=!1,this._mousePosition=dm.zero(),this.initializeListeners(),this.setupModifiers()}static{this._instance=null}static get instance(){return this._instance||(this._instance=new pd),this._instance}get mousePosition(){return this._mousePosition}addTouchstart(e){this._inputBus.on(ph.TouchStart,e)}addTouchmove(e){this._inputBus.on(ph.TouchMove,e)}addTouchend(e){this._inputBus.on(ph.TouchEnd,e)}addKeydown(e,t){this._inputBus.on(ph.KeyDown+"-"+e,t)}addKeyup(e,t){this._inputBus.on(ph.KeyUp+"-"+e,t)}addMousedown(e){this._inputBus.on(ph.MouseDown,e)}addMousemove(e){this._inputBus.on(ph.MouseMoveCtrl,e)}addMouseup(e){this._inputBus.on(ph.MouseUp,e)}initializeListeners(){this.initializeKeyListeners(),this.initializeMouseListeners(),this.initializeTouchListeners()}initializeKeyListeners(){document.addEventListener("keydown",e=>{this._inputBus.emit(ph.KeyDown+"-"+e.code,e)}),document.addEventListener("keyup",e=>{this._inputBus.emit(ph.KeyUp+"-"+e.code,e)})}initializeMouseListeners(){let e=document.querySelector("canvas#game_canvas");if(e)window.addEventListener("mousemove",e=>{this._ctrlModifier&&this._inputBus.emit(ph.MouseMoveCtrl,e)}),this._inputBus.on(ph.MouseMoveCtrl,e=>{this._mousePosition.x=e.clientX,this._mousePosition.y=e.clientY}),e.addEventListener("click",e=>{e.preventDefault(),this._inputBus.emit(ph.MouseClick,e)}),document.addEventListener("contextmenu",e=>{e.preventDefault(),this._inputBus.emit(ph.MouseContextMenu,e)});else throw console.error("Could not find canvas while trying to setup the InputManager!",this),Error("Could not find canvas while trying to setup the InputManager!")}initializeTouchListeners(){let e=document.querySelector("canvas#game_canvas");e&&(e.addEventListener("touchstart",e=>{e.preventDefault(),this._inputBus.emit(ph.TouchStart,e)}),e.addEventListener("touchmove",e=>{e.preventDefault(),this._mousePosition.x=e.touches[0].clientX,this._mousePosition.y=e.touches[0].clientY,this._inputBus.emit(ph.TouchMove,e)}),e.addEventListener("touchend",e=>{e.preventDefault(),this._inputBus.emit(ph.TouchEnd,e)}))}setupModifiers(){this.addKeydown("ControlLeft",e=>{this._ctrlModifier||(this._ctrlModifier=!0)}),this.addKeyup("ControlLeft",e=>{this._ctrlModifier&&(this._ctrlModifier=!1)}),this.addKeydown("ShiftLeft",e=>{this._shiftModifier||(this._shiftModifier=!0)}),this.addKeyup("ShiftLeft",e=>{this._shiftModifier&&(this._shiftModifier=!1)})}}class pp extends d8{constructor(e){super(e,0,new dT),this.id="food",this.movementSpeed=new dW(this.sizeStat,0)}draw(e){let t=10*this.aliveStat.factor;dQ.drawFood(e,this._movementComponent.location,t)}update(e){this._statsComponent.update(e)}}class pm{constructor(e,t){this._model=t,this._view=e}get model(){return this._model}set model(e){this._model=e}get view(){return this._view}update(e){this._model.update(e),this._view.update(this._model)}reload(){this._model.clear(),this._view.update(this._model)}updateRender(){this._view.update(this._model)}}class pg extends pm{constructor(e,t){super(e,t),dK.getInstance().on(ph.MouseClick,e=>{this._model.add(new pp(new dp(e.clientX,e.clientY))),this._view.update(this._model)}),dK.getInstance().on(ph.TouchStart,e=>{let t=e.touches[0];this._model.add(new pp(new dp(t.clientX,t.clientY))),this._view.update(this._model)})}}class pv{constructor(){this._lastModel=dg.empty()}update(e){this._lastModel=e}redrawOnResize(){window.addEventListener("resize",()=>{this.update(this._lastModel)})}}class py extends pv{static{this.canvasSize=1e3}constructor(e){super(),this._canvas=e;let t=e.getContext("2d");if(t)this._context=t;else throw console.error("Canvas: ",e),Error("Context not found in canvas.");this.redrawOnResize()}update(e){super.update(e),this._context.clearRect(0,0,this._canvas.width,this._canvas.height),e.data.forEach(e=>{e&&e.draw(this._context)})}}class pb extends py{constructor(e){super(e)}}class pD{static{this._instance=null}constructor(e){this._model=e}static initialize(e){if(this._instance)throw Error("WorldQuerySystem has already been initialized.");this._instance=new pD(e)}static getInstance(){if(!this._instance)throw Error("WorldQuerySystem is not initialized. Call initialize() first.");return this._instance}getModel(){return this._model}getFood(){return this._model.getFilteredValues(e=>e instanceof pp).map(e=>e)}getMonsters(e){return this._model.getFilteredValues(t=>t instanceof pc&&t!=e).map(e=>e)}}class p_ extends dg{constructor(){super(),this._eventBus=dK.getInstance(),pD.initialize(this)}update(e){super.update(e)}filterById(e){this.getFilteredValues(t=>t.id===e)}}const px=new class{constructor(){this._lastFrameTime=0,this._isPlaying=!1;let e=iB.createGameCanvas("game_canvas",window.innerWidth,window.innerHeight);document.body.appendChild(e),this._controller=new pg(new pb(e),new p_),this._windowManager=new iT,this._windowManager.addWindow(new pf(this)),this._inputManager=pd.instance,this._inputManager.addMousemove(e=>{this._controller.model.add(new pp(new dp(e.clientX,e.clientY))),this._controller.view.update(this._controller.model)})}get windowManager(){return this._windowManager}get controller(){return this._controller}get isPlaying(){return this._isPlaying}set isPlaying(e){this._isPlaying=e}gameLoop(e){if(!this._isPlaying)return;let t=e-this._lastFrameTime;this._lastFrameTime=e,this._controller.update(t),requestAnimationFrame(e=>this.gameLoop(e))}start(){this._isPlaying=!0,this._lastFrameTime=performance.now(),requestAnimationFrame(e=>this.gameLoop(e))}stop(){this._isPlaying=!1}};px.controller.model.add(new pc(dm.getRandom(dm.canvasSize()))),px.controller.updateRender();
//# sourceMappingURL=AGNIS.240cd420.js.map
