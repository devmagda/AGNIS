function e(e,t){return Object.keys(t).forEach(function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[r]}})}),e}function t(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}function r(e){return e&&e.__esModule?e.default:e}var n,i=globalThis,a={},o={},u=i.parcelRequire7c1d;null==u&&((u=function(e){if(e in a)return a[e].exports;if(e in o){var t=o[e];delete o[e];var r={id:e,exports:{}};return a[e]=r,t.call(r.exports,r,r.exports),r.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){o[e]=t},i.parcelRequire7c1d=u);var s=u.register;s("cmoHh",function(e,t){!function(e,t,r){function n(e){var t,r=this,n=(t=0xefc8249d,function(e){e=String(e);for(var r=0;r<e.length;r++){var n=.02519603282416938*(t+=e.charCodeAt(r));t=n>>>0,n-=t,n*=t,t=n>>>0,n-=t,t+=0x100000000*n}return(t>>>0)*23283064365386963e-26});r.next=function(){var e=2091639*r.s0+23283064365386963e-26*r.c;return r.s0=r.s1,r.s1=r.s2,r.s2=e-(r.c=0|e)},r.c=1,r.s0=n(" "),r.s1=n(" "),r.s2=n(" "),r.s0-=n(e),r.s0<0&&(r.s0+=1),r.s1-=n(e),r.s1<0&&(r.s1+=1),r.s2-=n(e),r.s2<0&&(r.s2+=1)}function i(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function a(e,t){var r=new n(e),a=t&&t.state,o=r.next;return o.int32=function(){return 0x100000000*r.next()|0},o.double=function(){return o()+(2097152*o()|0)*11102230246251565e-32},o.quick=o,a&&("object"==typeof a&&i(a,r),o.state=function(){return i(r,{})}),o}t&&t.exports?t.exports=a:r&&r.amd?r(function(){return a}):this.alea=a}(0,e,"function"==typeof define&&define)}),s("euRi5",function(e,t){!function(e,t,r){function n(e){var t=this,r="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:r+=e;for(var n=0;n<r.length+64;n++)t.x^=0|r.charCodeAt(n),t.next()}function i(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function a(e,t){var r=new n(e),a=t&&t.state,o=function(){return(r.next()>>>0)/0x100000000};return o.double=function(){do var e=r.next()>>>11,t=(r.next()>>>0)/0x100000000,n=(e+t)/2097152;while(0===n)return n},o.int32=r.next,o.quick=o,a&&("object"==typeof a&&i(a,r),o.state=function(){return i(r,{})}),o}t&&t.exports?t.exports=a:r&&r.amd?r(function(){return a}):this.xor128=a}(0,e,"function"==typeof define&&define)}),s("hDsEw",function(e,t){!function(e,t,r){function n(e){var t=this,r="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^(e^e<<1))|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:r+=e;for(var n=0;n<r.length+64;n++)t.x^=0|r.charCodeAt(n),n==r.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function i(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function a(e,t){var r=new n(e),a=t&&t.state,o=function(){return(r.next()>>>0)/0x100000000};return o.double=function(){do var e=r.next()>>>11,t=(r.next()>>>0)/0x100000000,n=(e+t)/2097152;while(0===n)return n},o.int32=r.next,o.quick=o,a&&("object"==typeof a&&i(a,r),o.state=function(){return i(r,{})}),o}t&&t.exports?t.exports=a:r&&r.amd?r(function(){return a}):this.xorwow=a}(0,e,"function"==typeof define&&define)}),s("3J2Zm",function(e,t){!function(e,t,r){function n(e){var t=this;t.next=function(){var e,r,n=t.x,i=t.i;return e=n[i],e^=e>>>7,r=e^e<<24^((e=n[i+1&7])^e>>>10)^((e=n[i+3&7])^e>>>3)^((e=n[i+4&7])^e<<7),e=n[i+7&7],e^=e<<13,r^=e^e<<9,n[i]=r,t.i=i+1&7,r};var r,n=e,i=[];if(n===(0|n))i[0]=n;else for(r=0,n=""+n;r<n.length;++r)i[7&r]=i[7&r]<<15^n.charCodeAt(r)+i[r+1&7]<<13;for(;i.length<8;)i.push(0);for(r=0;r<8&&0===i[r];++r);for(8==r?i[7]=-1:i[r],t.x=i,t.i=0,r=256;r>0;--r)t.next()}function i(e,t){return t.x=e.x.slice(),t.i=e.i,t}function a(e,t){null==e&&(e=+new Date);var r=new n(e),a=t&&t.state,o=function(){return(r.next()>>>0)/0x100000000};return o.double=function(){do var e=r.next()>>>11,t=(r.next()>>>0)/0x100000000,n=(e+t)/2097152;while(0===n)return n},o.int32=r.next,o.quick=o,a&&(a.x&&i(a,r),o.state=function(){return i(r,{})}),o}t&&t.exports?t.exports=a:r&&r.amd?r(function(){return a}):this.xorshift7=a}(0,e,"function"==typeof define&&define)}),s("6Px8M",function(e,t){!function(e,t,r){function n(e){var t=this;t.next=function(){var e,r,n=t.w,i=t.X,a=t.i;return t.w=n=n+0x61c88647|0,r=i[a+34&127],e=i[a=a+1&127],r^=r<<13,e^=e<<17,r^=r>>>15,e^=e>>>12,r=i[a]=r^e,t.i=a,r+(n^n>>>16)|0},!function(e,t){var r,n,i,a,o,u=[],s=128;for(t===(0|t)?(n=t,t=null):(t+="\0",n=0,s=Math.max(s,t.length)),i=0,a=-32;a<s;++a)t&&(n^=t.charCodeAt((a+32)%t.length)),0===a&&(o=n),n^=n<<10,n^=n>>>15,n^=n<<4,n^=n>>>13,a>=0&&(o=o+0x61c88647|0,i=0==(r=u[127&a]^=n+o)?i+1:0);for(i>=128&&(u[127&(t&&t.length||0)]=-1),i=127,a=512;a>0;--a)n=u[i+34&127],r=u[i=i+1&127],n^=n<<13,r^=r<<17,n^=n>>>15,r^=r>>>12,u[i]=n^r;e.w=o,e.X=u,e.i=i}(t,e)}function i(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function a(e,t){null==e&&(e=+new Date);var r=new n(e),a=t&&t.state,o=function(){return(r.next()>>>0)/0x100000000};return o.double=function(){do var e=r.next()>>>11,t=(r.next()>>>0)/0x100000000,n=(e+t)/2097152;while(0===n)return n},o.int32=r.next,o.quick=o,a&&(a.X&&i(a,r),o.state=function(){return i(r,{})}),o}t&&t.exports?t.exports=a:r&&r.amd?r(function(){return a}):this.xor4096=a}(0,e,"function"==typeof define&&define)}),s("lDm0S",function(e,t){!function(e,t,r){function n(e){var t=this,r="";t.next=function(){var e=t.b,r=t.c,n=t.d,i=t.a;return e=e<<25^e>>>7^r,r=r-n|0,n=n<<24^n>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^r,t.c=r=r-n|0,t.d=n<<16^r>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-0x61c88647,t.d=0x517cc1b7,e===Math.floor(e)?(t.a=e/0x100000000|0,t.b=0|e):r+=e;for(var n=0;n<r.length+20;n++)t.b^=0|r.charCodeAt(n),t.next()}function i(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function a(e,t){var r=new n(e),a=t&&t.state,o=function(){return(r.next()>>>0)/0x100000000};return o.double=function(){do var e=r.next()>>>11,t=(r.next()>>>0)/0x100000000,n=(e+t)/2097152;while(0===n)return n},o.int32=r.next,o.quick=o,a&&("object"==typeof a&&i(a,r),o.state=function(){return i(r,{})}),o}t&&t.exports?t.exports=a:r&&r.amd?r(function(){return a}):this.tychei=a}(0,e,"function"==typeof define&&define)}),s("kjyEk",function(e,t){});var l={};t(l,"popperGenerator",()=>ez),t(l,"detectOverflow",()=>eA),t(l,"createPopperBase",()=>eR),t(l,"createPopper",()=>ek),t(l,"createPopperLite",()=>eP);var c={};t(c,"top",()=>f),t(c,"bottom",()=>h),t(c,"right",()=>p),t(c,"left",()=>d),t(c,"auto",()=>m),t(c,"basePlacements",()=>g),t(c,"start",()=>v),t(c,"end",()=>y),t(c,"clippingParents",()=>b),t(c,"viewport",()=>D),t(c,"popper",()=>x),t(c,"reference",()=>_),t(c,"variationPlacements",()=>w),t(c,"placements",()=>E),t(c,"beforeRead",()=>A),t(c,"read",()=>C),t(c,"afterRead",()=>N),t(c,"beforeMain",()=>M),t(c,"main",()=>F),t(c,"afterMain",()=>S),t(c,"beforeWrite",()=>T),t(c,"write",()=>B),t(c,"afterWrite",()=>O),t(c,"modifierPhases",()=>I);var f="top",h="bottom",p="right",d="left",m="auto",g=[f,h,p,d],v="start",y="end",b="clippingParents",D="viewport",x="popper",_="reference",w=g.reduce(function(e,t){return e.concat([t+"-"+v,t+"-"+y])},[]),E=[].concat(g,[m]).reduce(function(e,t){return e.concat([t,t+"-"+v,t+"-"+y])},[]),A="beforeRead",C="read",N="afterRead",M="beforeMain",F="main",S="afterMain",T="beforeWrite",B="write",O="afterWrite",I=[A,C,N,M,F,S,T,B,O],z={};function R(e){return e?(e.nodeName||"").toLowerCase():null}function k(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function P(e){var t=k(e).Element;return e instanceof t||e instanceof Element}function L(e){var t=k(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function q(e){if("undefined"==typeof ShadowRoot)return!1;var t=k(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}t(z,"applyStyles",()=>U),t(z,"arrow",()=>eu),t(z,"computeStyles",()=>ef),t(z,"eventListeners",()=>ep),t(z,"flip",()=>eC),t(z,"hide",()=>eF),t(z,"offset",()=>eS),t(z,"popperOffsets",()=>eT),t(z,"preventOverflow",()=>eB);var U={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var r=t.styles[e]||{},n=t.attributes[e]||{},i=t.elements[e];L(i)&&R(i)&&(Object.assign(i.style,r),Object.keys(n).forEach(function(e){var t=n[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(e){var n=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:r[e]).reduce(function(e,t){return e[t]="",e},{});L(n)&&R(n)&&(Object.assign(n.style,a),Object.keys(i).forEach(function(e){n.removeAttribute(e)}))})}},requires:["computeStyles"]};function j(e){return e.split("-")[0]}var H=Math.max,$=Math.min,V=Math.round;function G(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function W(){return!/^((?!chrome|android).)*safari/i.test(G())}function Y(e,t,r){void 0===t&&(t=!1),void 0===r&&(r=!1);var n=e.getBoundingClientRect(),i=1,a=1;t&&L(e)&&(i=e.offsetWidth>0&&V(n.width)/e.offsetWidth||1,a=e.offsetHeight>0&&V(n.height)/e.offsetHeight||1);var o=(P(e)?k(e):window).visualViewport,u=!W()&&r,s=(n.left+(u&&o?o.offsetLeft:0))/i,l=(n.top+(u&&o?o.offsetTop:0))/a,c=n.width/i,f=n.height/a;return{width:c,height:f,top:l,right:s+c,bottom:l+f,left:s,x:s,y:l}}function Z(e){var t=Y(e),r=e.offsetWidth,n=e.offsetHeight;return 1>=Math.abs(t.width-r)&&(r=t.width),1>=Math.abs(t.height-n)&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function J(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&q(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function X(e){return k(e).getComputedStyle(e)}function K(e){return((P(e)?e.ownerDocument:e.document)||window.document).documentElement}function Q(e){return"html"===R(e)?e:e.assignedSlot||e.parentNode||(q(e)?e.host:null)||K(e)}function ee(e){return L(e)&&"fixed"!==X(e).position?e.offsetParent:null}function et(e){for(var t=k(e),r=ee(e);r&&["table","td","th"].indexOf(R(r))>=0&&"static"===X(r).position;)r=ee(r);return r&&("html"===R(r)||"body"===R(r)&&"static"===X(r).position)?t:r||function(e){var t=/firefox/i.test(G());if(/Trident/i.test(G())&&L(e)&&"fixed"===X(e).position)return null;var r=Q(e);for(q(r)&&(r=r.host);L(r)&&0>["html","body"].indexOf(R(r));){var n=X(r);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return r;r=r.parentNode}return null}(e)||t}function er(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function en(e,t,r){return H(e,$(t,r))}function ei(){return{top:0,right:0,bottom:0,left:0}}function ea(e){return Object.assign({},ei(),e)}function eo(e,t){return t.reduce(function(t,r){return t[r]=e,t},{})}var eu={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,r=e.state,n=e.name,i=e.options,a=r.elements.arrow,o=r.modifiersData.popperOffsets,u=j(r.placement),s=er(u),l=[d,p].indexOf(u)>=0?"height":"width";if(a&&o){var c,m=ea("number"!=typeof(c="function"==typeof(c=i.padding)?c(Object.assign({},r.rects,{placement:r.placement})):c)?c:eo(c,g)),v=Z(a),y="y"===s?f:d,b="y"===s?h:p,D=r.rects.reference[l]+r.rects.reference[s]-o[s]-r.rects.popper[l],x=o[s]-r.rects.reference[s],_=et(a),w=_?"y"===s?_.clientHeight||0:_.clientWidth||0:0,E=m[y],A=w-v[l]-m[b],C=w/2-v[l]/2+(D/2-x/2),N=en(E,C,A);r.modifiersData[n]=((t={})[s]=N,t.centerOffset=N-C,t)}},effect:function(e){var t=e.state,r=e.options.element,n=void 0===r?"[data-popper-arrow]":r;null!=n&&("string"!=typeof n||(n=t.elements.popper.querySelector(n)))&&J(t.elements.popper,n)&&(t.elements.arrow=n)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function es(e){return e.split("-")[1]}var el={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ec(e){var t,r,n,i,a,o,u,s=e.popper,l=e.popperRect,c=e.placement,m=e.variation,g=e.offsets,v=e.position,b=e.gpuAcceleration,D=e.adaptive,x=e.roundOffsets,_=e.isFixed,w=g.x,E=void 0===w?0:w,A=g.y,C=void 0===A?0:A,N="function"==typeof x?x({x:E,y:C}):{x:E,y:C};E=N.x,C=N.y;var M=g.hasOwnProperty("x"),F=g.hasOwnProperty("y"),S=d,T=f,B=window;if(D){var O=et(s),I="clientHeight",z="clientWidth";O===k(s)&&"static"!==X(O=K(s)).position&&"absolute"===v&&(I="scrollHeight",z="scrollWidth"),(c===f||(c===d||c===p)&&m===y)&&(T=h,C-=(_&&O===B&&B.visualViewport?B.visualViewport.height:O[I])-l.height,C*=b?1:-1),(c===d||(c===f||c===h)&&m===y)&&(S=p,E-=(_&&O===B&&B.visualViewport?B.visualViewport.width:O[z])-l.width,E*=b?1:-1)}var R=Object.assign({position:v},D&&el),P=!0===x?(t={x:E,y:C},r=k(s),n=t.x,i=t.y,{x:V(n*(a=r.devicePixelRatio||1))/a||0,y:V(i*a)/a||0}):{x:E,y:C};return(E=P.x,C=P.y,b)?Object.assign({},R,((u={})[T]=F?"0":"",u[S]=M?"0":"",u.transform=1>=(B.devicePixelRatio||1)?"translate("+E+"px, "+C+"px)":"translate3d("+E+"px, "+C+"px, 0)",u)):Object.assign({},R,((o={})[T]=F?C+"px":"",o[S]=M?E+"px":"",o.transform="",o))}var ef={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=r.adaptive,a=r.roundOffsets,o=void 0===a||a,u={placement:j(t.placement),variation:es(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:void 0===n||n,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ec(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:void 0===i||i,roundOffsets:o})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ec(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:o})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},eh={passive:!0},ep={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,a=void 0===i||i,o=n.resize,u=void 0===o||o,s=k(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&l.forEach(function(e){e.addEventListener("scroll",r.update,eh)}),u&&s.addEventListener("resize",r.update,eh),function(){a&&l.forEach(function(e){e.removeEventListener("scroll",r.update,eh)}),u&&s.removeEventListener("resize",r.update,eh)}},data:{}},ed={left:"right",right:"left",bottom:"top",top:"bottom"};function em(e){return e.replace(/left|right|bottom|top/g,function(e){return ed[e]})}var eg={start:"end",end:"start"};function ev(e){return e.replace(/start|end/g,function(e){return eg[e]})}function ey(e){var t=k(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function eb(e){return Y(K(e)).left+ey(e).scrollLeft}function eD(e){var t=X(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function ex(e,t){void 0===t&&(t=[]);var r,n=function e(t){return["html","body","#document"].indexOf(R(t))>=0?t.ownerDocument.body:L(t)&&eD(t)?t:e(Q(t))}(e),i=n===(null==(r=e.ownerDocument)?void 0:r.body),a=k(n),o=i?[a].concat(a.visualViewport||[],eD(n)?n:[]):n,u=t.concat(o);return i?u:u.concat(ex(Q(o)))}function e_(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ew(e,t,r){var n,i,a,o,u,s,l,c,f,h;return t===D?e_(function(e,t){var r=k(e),n=K(e),i=r.visualViewport,a=n.clientWidth,o=n.clientHeight,u=0,s=0;if(i){a=i.width,o=i.height;var l=W();(l||!l&&"fixed"===t)&&(u=i.offsetLeft,s=i.offsetTop)}return{width:a,height:o,x:u+eb(e),y:s}}(e,r)):P(t)?((n=Y(t,!1,"fixed"===r)).top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n):e_((i=K(e),o=K(i),u=ey(i),s=null==(a=i.ownerDocument)?void 0:a.body,l=H(o.scrollWidth,o.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),c=H(o.scrollHeight,o.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),f=-u.scrollLeft+eb(i),h=-u.scrollTop,"rtl"===X(s||o).direction&&(f+=H(o.clientWidth,s?s.clientWidth:0)-l),{width:l,height:c,x:f,y:h}))}function eE(e){var t,r=e.reference,n=e.element,i=e.placement,a=i?j(i):null,o=i?es(i):null,u=r.x+r.width/2-n.width/2,s=r.y+r.height/2-n.height/2;switch(a){case f:t={x:u,y:r.y-n.height};break;case h:t={x:u,y:r.y+r.height};break;case p:t={x:r.x+r.width,y:s};break;case d:t={x:r.x-n.width,y:s};break;default:t={x:r.x,y:r.y}}var l=a?er(a):null;if(null!=l){var c="y"===l?"height":"width";switch(o){case v:t[l]=t[l]-(r[c]/2-n[c]/2);break;case y:t[l]=t[l]+(r[c]/2-n[c]/2)}}return t}function eA(e,t){void 0===t&&(t={});var r,n,i,a,o,u,s,l=t,c=l.placement,d=void 0===c?e.placement:c,m=l.strategy,v=void 0===m?e.strategy:m,y=l.boundary,w=l.rootBoundary,E=l.elementContext,A=void 0===E?x:E,C=l.altBoundary,N=l.padding,M=void 0===N?0:N,F=ea("number"!=typeof M?M:eo(M,g)),S=e.rects.popper,T=e.elements[void 0!==C&&C?A===x?_:x:A],B=(r=P(T)?T:T.contextElement||K(e.elements.popper),u=(o=[].concat("clippingParents"===(n=void 0===y?b:y)?(i=ex(Q(r)),P(a=["absolute","fixed"].indexOf(X(r).position)>=0&&L(r)?et(r):r)?i.filter(function(e){return P(e)&&J(e,a)&&"body"!==R(e)}):[]):[].concat(n),[void 0===w?D:w]))[0],(s=o.reduce(function(e,t){var n=ew(r,t,v);return e.top=H(n.top,e.top),e.right=$(n.right,e.right),e.bottom=$(n.bottom,e.bottom),e.left=H(n.left,e.left),e},ew(r,u,v))).width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s),O=Y(e.elements.reference),I=eE({reference:O,element:S,strategy:"absolute",placement:d}),z=e_(Object.assign({},S,I)),k=A===x?z:O,q={top:B.top-k.top+F.top,bottom:k.bottom-B.bottom+F.bottom,left:B.left-k.left+F.left,right:k.right-B.right+F.right},U=e.modifiersData.offset;if(A===x&&U){var j=U[d];Object.keys(q).forEach(function(e){var t=[p,h].indexOf(e)>=0?1:-1,r=[f,h].indexOf(e)>=0?"y":"x";q[e]+=j[r]*t})}return q}var eC={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,a=void 0===i||i,o=r.altAxis,u=void 0===o||o,s=r.fallbackPlacements,l=r.padding,c=r.boundary,y=r.rootBoundary,b=r.altBoundary,D=r.flipVariations,x=void 0===D||D,_=r.allowedAutoPlacements,A=t.options.placement,C=j(A)===A,N=s||(C||!x?[em(A)]:function(e){if(j(e)===m)return[];var t=em(e);return[ev(e),t,ev(t)]}(A)),M=[A].concat(N).reduce(function(e,r){var n,i,a,o,u,s,f,h,p,d,v,b;return e.concat(j(r)===m?(i=(n={placement:r,boundary:c,rootBoundary:y,padding:l,flipVariations:x,allowedAutoPlacements:_}).placement,a=n.boundary,o=n.rootBoundary,u=n.padding,s=n.flipVariations,h=void 0===(f=n.allowedAutoPlacements)?E:f,0===(v=(d=(p=es(i))?s?w:w.filter(function(e){return es(e)===p}):g).filter(function(e){return h.indexOf(e)>=0})).length&&(v=d),Object.keys(b=v.reduce(function(e,r){return e[r]=eA(t,{placement:r,boundary:a,rootBoundary:o,padding:u})[j(r)],e},{})).sort(function(e,t){return b[e]-b[t]})):r)},[]),F=t.rects.reference,S=t.rects.popper,T=new Map,B=!0,O=M[0],I=0;I<M.length;I++){var z=M[I],R=j(z),k=es(z)===v,P=[f,h].indexOf(R)>=0,L=P?"width":"height",q=eA(t,{placement:z,boundary:c,rootBoundary:y,altBoundary:b,padding:l}),U=P?k?p:d:k?h:f;F[L]>S[L]&&(U=em(U));var H=em(U),$=[];if(a&&$.push(q[R]<=0),u&&$.push(q[U]<=0,q[H]<=0),$.every(function(e){return e})){O=z,B=!1;break}T.set(z,$)}if(B)for(var V=x?3:1,G=function(e){var t=M.find(function(t){var r=T.get(t);if(r)return r.slice(0,e).every(function(e){return e})});if(t)return O=t,"break"},W=V;W>0&&"break"!==G(W);W--);t.placement!==O&&(t.modifiersData[n]._skip=!0,t.placement=O,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function eN(e,t,r){return void 0===r&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function eM(e){return[f,p,h,d].some(function(t){return e[t]>=0})}var eF={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=eA(t,{elementContext:"reference"}),u=eA(t,{altBoundary:!0}),s=eN(o,n),l=eN(u,i,a),c=eM(s),f=eM(l);t.modifiersData[r]={referenceClippingOffsets:s,popperEscapeOffsets:l,isReferenceHidden:c,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}},eS={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,r=e.options,n=e.name,i=r.offset,a=void 0===i?[0,0]:i,o=E.reduce(function(e,r){var n,i,o,u,s,l;return e[r]=(n=t.rects,o=[d,f].indexOf(i=j(r))>=0?-1:1,s=(u="function"==typeof a?a(Object.assign({},n,{placement:r})):a)[0],l=u[1],s=s||0,l=(l||0)*o,[d,p].indexOf(i)>=0?{x:l,y:s}:{x:s,y:l}),e},{}),u=o[t.placement],s=u.x,l=u.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=s,t.modifiersData.popperOffsets.y+=l),t.modifiersData[n]=o}},eT={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,r=e.name;t.modifiersData[r]=eE({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},eB={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,a=r.altAxis,o=r.boundary,u=r.rootBoundary,s=r.altBoundary,l=r.padding,c=r.tether,m=void 0===c||c,g=r.tetherOffset,y=void 0===g?0:g,b=eA(t,{boundary:o,rootBoundary:u,padding:l,altBoundary:s}),D=j(t.placement),x=es(t.placement),_=!x,w=er(D),E="x"===w?"y":"x",A=t.modifiersData.popperOffsets,C=t.rects.reference,N=t.rects.popper,M="function"==typeof y?y(Object.assign({},t.rects,{placement:t.placement})):y,F="number"==typeof M?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),S=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,T={x:0,y:0};if(A){if(void 0===i||i){var B,O="y"===w?f:d,I="y"===w?h:p,z="y"===w?"height":"width",R=A[w],k=R+b[O],P=R-b[I],L=m?-N[z]/2:0,q=x===v?C[z]:N[z],U=x===v?-N[z]:-C[z],V=t.elements.arrow,G=m&&V?Z(V):{width:0,height:0},W=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:ei(),Y=W[O],J=W[I],X=en(0,C[z],G[z]),K=_?C[z]/2-L-X-Y-F.mainAxis:q-X-Y-F.mainAxis,Q=_?-C[z]/2+L+X+J+F.mainAxis:U+X+J+F.mainAxis,ee=t.elements.arrow&&et(t.elements.arrow),ea=ee?"y"===w?ee.clientTop||0:ee.clientLeft||0:0,eo=null!=(B=null==S?void 0:S[w])?B:0,eu=en(m?$(k,R+K-eo-ea):k,R,m?H(P,R+Q-eo):P);A[w]=eu,T[w]=eu-R}if(void 0!==a&&a){var el,ec,ef="x"===w?f:d,eh="x"===w?h:p,ep=A[E],ed="y"===E?"height":"width",em=ep+b[ef],eg=ep-b[eh],ev=-1!==[f,d].indexOf(D),ey=null!=(ec=null==S?void 0:S[E])?ec:0,eb=ev?em:ep-C[ed]-N[ed]-ey+F.altAxis,eD=ev?ep+C[ed]+N[ed]-ey-F.altAxis:eg,ex=m&&ev?(el=en(eb,ep,eD))>eD?eD:el:en(m?eb:em,ep,m?eD:eg);A[E]=ex,T[E]=ex-ep}t.modifiersData[n]=T}},requiresIfExists:["offset"]},eO={placement:"bottom",modifiers:[],strategy:"absolute"};function eI(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function ez(e){void 0===e&&(e={});var t=e,r=t.defaultModifiers,n=void 0===r?[]:r,i=t.defaultOptions,a=void 0===i?eO:i;return function(e,t,r){void 0===r&&(r=a);var i,o={placement:"bottom",orderedModifiers:[],options:Object.assign({},eO,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},u=[],s=!1,l={state:o,setOptions:function(r){var i,s,f,h,p,d="function"==typeof r?r(o.options):r;c(),o.options=Object.assign({},a,o.options,d),o.scrollParents={reference:P(e)?ex(e):e.contextElement?ex(e.contextElement):[],popper:ex(t)};var m=(s=Object.keys(i=[].concat(n,o.options.modifiers).reduce(function(e,t){var r=e[t.name];return e[t.name]=r?Object.assign({},r,t,{options:Object.assign({},r.options,t.options),data:Object.assign({},r.data,t.data)}):t,e},{})).map(function(e){return i[e]}),f=new Map,h=new Set,p=[],s.forEach(function(e){f.set(e.name,e)}),s.forEach(function(e){h.has(e.name)||function e(t){h.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach(function(t){if(!h.has(t)){var r=f.get(t);r&&e(r)}}),p.push(t)}(e)}),I.reduce(function(e,t){return e.concat(p.filter(function(e){return e.phase===t}))},[]));return o.orderedModifiers=m.filter(function(e){return e.enabled}),o.orderedModifiers.forEach(function(e){var t=e.name,r=e.options,n=e.effect;if("function"==typeof n){var i=n({state:o,name:t,instance:l,options:void 0===r?{}:r});u.push(i||function(){})}}),l.update()},forceUpdate:function(){if(!s){var e=o.elements,t=e.reference,r=e.popper;if(eI(t,r)){o.rects={reference:(n=et(r),i="fixed"===o.options.strategy,a=L(n),h=L(n)&&(c=V((u=n.getBoundingClientRect()).width)/n.offsetWidth||1,f=V(u.height)/n.offsetHeight||1,1!==c||1!==f),p=K(n),d=Y(t,h,i),m={scrollLeft:0,scrollTop:0},g={x:0,y:0},(a||!a&&!i)&&(("body"!==R(n)||eD(p))&&(m=function(e){return e!==k(e)&&L(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:ey(e)}(n)),L(n)?(g=Y(n,!0),g.x+=n.clientLeft,g.y+=n.clientTop):p&&(g.x=eb(p))),{x:d.left+m.scrollLeft-g.x,y:d.top+m.scrollTop-g.y,width:d.width,height:d.height}),popper:Z(r)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach(function(e){return o.modifiersData[e.name]=Object.assign({},e.data)});for(var n,i,a,u,c,f,h,p,d,m,g,v=0;v<o.orderedModifiers.length;v++){if(!0===o.reset){o.reset=!1,v=-1;continue}var y=o.orderedModifiers[v],b=y.fn,D=y.options,x=void 0===D?{}:D,_=y.name;"function"==typeof b&&(o=b({state:o,options:x,name:_,instance:l})||o)}}}},update:function(){return i||(i=new Promise(function(e){Promise.resolve().then(function(){i=void 0,e(new Promise(function(e){l.forceUpdate(),e(o)}))})})),i},destroy:function(){c(),s=!0}};if(!eI(e,t))return l;function c(){u.forEach(function(e){return e()}),u=[]}return l.setOptions(r).then(function(e){!s&&r.onFirstUpdate&&r.onFirstUpdate(e)}),l}}var eR=ez(),ek=ez({defaultModifiers:[ep,eT,ef,U,eS,eC,eB,eu,eF]}),eP=ez({defaultModifiers:[ep,eT,ef,U]});e(l,c),e(l,z);const eL=new Map,eq={set(e,t,r){eL.has(e)||eL.set(e,new Map);let n=eL.get(e);if(!n.has(t)&&0!==n.size){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`);return}n.set(t,r)},get:(e,t)=>eL.has(e)&&eL.get(e).get(t)||null,remove(e,t){if(!eL.has(e))return;let r=eL.get(e);r.delete(t),0===r.size&&eL.delete(e)}},eU="transitionend",ej=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),e),eH=e=>null==e?`${e}`:Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),e$=e=>{do e+=Math.floor(1e6*Math.random());while(document.getElementById(e))return e},eV=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:r}=window.getComputedStyle(e),n=Number.parseFloat(t),i=Number.parseFloat(r);return n||i?(t=t.split(",")[0],r=r.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(r))*1e3):0},eG=e=>{e.dispatchEvent(new Event(eU))},eW=e=>!!e&&"object"==typeof e&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType),eY=e=>eW(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(ej(e)):null,eZ=e=>{if(!eW(e)||0===e.getClientRects().length)return!1;let t="visible"===getComputedStyle(e).getPropertyValue("visibility"),r=e.closest("details:not([open])");if(!r)return t;if(r!==e){let t=e.closest("summary");if(t&&t.parentNode!==r||null===t)return!1}return t},eJ=e=>!!(!e||e.nodeType!==Node.ELEMENT_NODE||e.classList.contains("disabled"))||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled")),eX=e=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){let t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?eX(e.parentNode):null},eK=()=>{},eQ=e=>{e.offsetHeight},e0=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,e1=[],e2=e=>{"loading"===document.readyState?(e1.length||document.addEventListener("DOMContentLoaded",()=>{for(let e of e1)e()}),e1.push(e)):e()},e8=()=>"rtl"===document.documentElement.dir,e3=e=>{e2(()=>{let t=e0();if(t){let r=e.NAME,n=t.fn[r];t.fn[r]=e.jQueryInterface,t.fn[r].Constructor=e,t.fn[r].noConflict=()=>(t.fn[r]=n,e.jQueryInterface)}})},e5=(e,t=[],r=e)=>"function"==typeof e?e(...t):r,e6=(e,t,r=!0)=>{if(!r){e5(e);return}let n=eV(t)+5,i=!1,a=({target:r})=>{r===t&&(i=!0,t.removeEventListener(eU,a),e5(e))};t.addEventListener(eU,a),setTimeout(()=>{i||eG(t)},n)},e4=(e,t,r,n)=>{let i=e.length,a=e.indexOf(t);return -1===a?!r&&n?e[i-1]:e[0]:(a+=r?1:-1,n&&(a=(a+i)%i),e[Math.max(0,Math.min(a,i-1))])},e7=/[^.]*(?=\..*)\.|.*/,e9=/\..*/,te=/::\d+$/,tt={};let tr=1;const tn={mouseenter:"mouseover",mouseleave:"mouseout"},ti=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ta(e,t){return t&&`${t}::${tr++}`||e.uidEvent||tr++}function to(e){let t=ta(e);return e.uidEvent=t,tt[t]=tt[t]||{},tt[t]}function tu(e,t,r=null){return Object.values(e).find(e=>e.callable===t&&e.delegationSelector===r)}function ts(e,t,r){let n="string"==typeof t,i=tf(e);return ti.has(i)||(i=e),[n,n?r:t||r,i]}function tl(e,t,r,n,i){var a,o;if("string"!=typeof t||!e)return;let[u,s,l]=ts(t,r,n);if(t in tn){let e;e=s,s=function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)}}let c=to(e),f=c[l]||(c[l]={}),h=tu(f,s,u?r:null);if(h){h.oneOff=h.oneOff&&i;return}let p=ta(s,t.replace(e7,"")),d=u?(a=s,function t(n){let i=e.querySelectorAll(r);for(let{target:o}=n;o&&o!==this;o=o.parentNode)for(let u of i)if(u===o)return tp(n,{delegateTarget:o}),t.oneOff&&th.off(e,n.type,r,a),a.apply(o,[n])}):(o=s,function t(r){return tp(r,{delegateTarget:e}),t.oneOff&&th.off(e,r.type,o),o.apply(e,[r])});d.delegationSelector=u?r:null,d.callable=s,d.oneOff=i,d.uidEvent=p,f[p]=d,e.addEventListener(l,d,u)}function tc(e,t,r,n,i){let a=tu(t[r],n,i);a&&(e.removeEventListener(r,a,!!i),delete t[r][a.uidEvent])}function tf(e){return tn[e=e.replace(e9,"")]||e}const th={on(e,t,r,n){tl(e,t,r,n,!1)},one(e,t,r,n){tl(e,t,r,n,!0)},off(e,t,r,n){if("string"!=typeof t||!e)return;let[i,a,o]=ts(t,r,n),u=o!==t,s=to(e),l=s[o]||{},c=t.startsWith(".");if(void 0!==a){if(!Object.keys(l).length)return;tc(e,s,o,a,i?r:null);return}if(c)for(let r of Object.keys(s)){var f=t.slice(1);for(let[t,n]of Object.entries(s[r]||{}))t.includes(f)&&tc(e,s,r,n.callable,n.delegationSelector)}for(let[r,n]of Object.entries(l)){let i=r.replace(te,"");(!u||t.includes(i))&&tc(e,s,o,n.callable,n.delegationSelector)}},trigger(e,t,r){if("string"!=typeof t||!e)return null;let n=e0(),i=tf(t),a=null,o=!0,u=!0,s=!1;t!==i&&n&&(a=n.Event(t,r),n(e).trigger(a),o=!a.isPropagationStopped(),u=!a.isImmediatePropagationStopped(),s=a.isDefaultPrevented());let l=tp(new Event(t,{bubbles:o,cancelable:!0}),r);return s&&l.preventDefault(),u&&e.dispatchEvent(l),l.defaultPrevented&&a&&a.preventDefault(),l}};function tp(e,t={}){for(let[r,n]of Object.entries(t))try{e[r]=n}catch(t){Object.defineProperty(e,r,{configurable:!0,get:()=>n})}return e}function td(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!=typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function tm(e){return e.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const tg={setDataAttribute(e,t,r){e.setAttribute(`data-bs-${tm(t)}`,r)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${tm(t)}`)},getDataAttributes(e){if(!e)return{};let t={};for(let r of Object.keys(e.dataset).filter(e=>e.startsWith("bs")&&!e.startsWith("bsConfig"))){let n=r.replace(/^bs/,"");t[n=n.charAt(0).toLowerCase()+n.slice(1,n.length)]=td(e.dataset[r])}return t},getDataAttribute:(e,t)=>td(e.getAttribute(`data-bs-${tm(t)}`))};class tv{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){let r=eW(t)?tg.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof r?r:{},...eW(t)?tg.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(let[r,n]of Object.entries(t)){let t=e[r],i=eW(t)?"element":eH(t);if(!new RegExp(n).test(i))throw TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${i}" but expected type "${n}".`)}}}class ty extends tv{constructor(e,t){if(super(),!(e=eY(e)))return;this._element=e,this._config=this._getConfig(t),eq.set(this._element,this.constructor.DATA_KEY,this)}dispose(){for(let e of(eq.remove(this._element,this.constructor.DATA_KEY),th.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this)))this[e]=null}_queueCallback(e,t,r=!0){e6(e,t,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return eq.get(eY(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const tb=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let r=e.getAttribute("href");if(!r||!r.includes("#")&&!r.startsWith("."))return null;r.includes("#")&&!r.startsWith("#")&&(r=`#${r.split("#")[1]}`),t=r&&"#"!==r?r.trim():null}return t?t.split(",").map(e=>ej(e)).join(","):null},tD={find:(e,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,e)),findOne:(e,t=document.documentElement)=>Element.prototype.querySelector.call(t,e),children:(e,t)=>[].concat(...e.children).filter(e=>e.matches(t)),parents(e,t){let r=[],n=e.parentNode.closest(t);for(;n;)r.push(n),n=n.parentNode.closest(t);return r},prev(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return[r];r=r.previousElementSibling}return[]},next(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return[r];r=r.nextElementSibling}return[]},focusableChildren(e){let t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(t,e).filter(e=>!eJ(e)&&eZ(e))},getSelectorFromElement(e){let t=tb(e);return t&&tD.findOne(t)?t:null},getElementFromSelector(e){let t=tb(e);return t?tD.findOne(t):null},getMultipleElementsFromSelector(e){let t=tb(e);return t?tD.find(t):[]}},tx=(e,t="hide")=>{let r=`click.dismiss${e.EVENT_KEY}`,n=e.NAME;th.on(document,r,`[data-bs-dismiss="${n}"]`,function(r){if(["A","AREA"].includes(this.tagName)&&r.preventDefault(),eJ(this))return;let i=tD.getElementFromSelector(this)||this.closest(`.${n}`);e.getOrCreateInstance(i)[t]()})},t_=".bs.alert",tw=`close${t_}`,tE=`closed${t_}`;class tA extends ty{static get NAME(){return"alert"}close(){if(th.trigger(this._element,tw).defaultPrevented)return;this._element.classList.remove("show");let e=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),th.trigger(this._element,tE),this.dispose()}static jQueryInterface(e){return this.each(function(){let t=tA.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw TypeError(`No method named "${e}"`);t[e](this)}})}}tx(tA,"close"),e3(tA);const tC='[data-bs-toggle="button"]',tN="click.bs.button.data-api";class tM extends ty{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each(function(){let t=tM.getOrCreateInstance(this);"toggle"===e&&t[e]()})}}th.on(document,tN,tC,e=>{e.preventDefault();let t=e.target.closest(tC);tM.getOrCreateInstance(t).toggle()}),e3(tM);const tF=".bs.swipe",tS=`touchstart${tF}`,tT=`touchmove${tF}`,tB=`touchend${tF}`,tO=`pointerdown${tF}`,tI=`pointerup${tF}`,tz={endCallback:null,leftCallback:null,rightCallback:null},tR={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class tk extends tv{constructor(e,t){if(super(),this._element=e,!e||!tk.isSupported())return;this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents()}static get Default(){return tz}static get DefaultType(){return tR}static get NAME(){return"swipe"}dispose(){th.off(this._element,tF)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),e5(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){let e=Math.abs(this._deltaX);if(e<=40)return;let t=e/this._deltaX;this._deltaX=0,t&&e5(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(th.on(this._element,tO,e=>this._start(e)),th.on(this._element,tI,e=>this._end(e)),this._element.classList.add("pointer-event")):(th.on(this._element,tS,e=>this._start(e)),th.on(this._element,tT,e=>this._move(e)),th.on(this._element,tB,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const tP=".bs.carousel",tL=".data-api",tq="next",tU="prev",tj="left",tH="right",t$=`slide${tP}`,tV=`slid${tP}`,tG=`keydown${tP}`,tW=`mouseenter${tP}`,tY=`mouseleave${tP}`,tZ=`dragstart${tP}`,tJ=`load${tP}${tL}`,tX=`click${tP}${tL}`,tK="carousel",tQ="active",t0=".active",t1=".carousel-item",t2=t0+t1,t8={ArrowLeft:tH,ArrowRight:tj},t3={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},t5={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class t6 extends ty{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=tD.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===tK&&this.cycle()}static get Default(){return t3}static get DefaultType(){return t5}static get NAME(){return"carousel"}next(){this._slide(tq)}nextWhenVisible(){!document.hidden&&eZ(this._element)&&this.next()}prev(){this._slide(tU)}pause(){this._isSliding&&eG(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){th.one(this._element,tV,()=>this.cycle());return}this.cycle()}}to(e){let t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){th.one(this._element,tV,()=>this.to(e));return}let r=this._getItemIndex(this._getActive());r!==e&&this._slide(e>r?tq:tU,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&th.on(this._element,tG,e=>this._keydown(e)),"hover"===this._config.pause&&(th.on(this._element,tW,()=>this.pause()),th.on(this._element,tY,()=>this._maybeEnableCycle())),this._config.touch&&tk.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(let e of tD.find(".carousel-item img",this._element))th.on(e,tZ,e=>e.preventDefault());this._swipeHelper=new tk(this._element,{leftCallback:()=>this._slide(this._directionToOrder(tj)),rightCallback:()=>this._slide(this._directionToOrder(tH)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}})}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;let t=t8[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;let t=tD.findOne(t0,this._indicatorsElement);t.classList.remove(tQ),t.removeAttribute("aria-current");let r=tD.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(tQ),r.setAttribute("aria-current","true"))}_updateInterval(){let e=this._activeElement||this._getActive();if(!e)return;let t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;let r=this._getActive(),n=e===tq,i=t||e4(this._getItems(),r,n,this._config.wrap);if(i===r)return;let a=this._getItemIndex(i),o=t=>th.trigger(this._element,t,{relatedTarget:i,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:a});if(o(t$).defaultPrevented||!r||!i)return;let u=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(a),this._activeElement=i;let s=n?"carousel-item-start":"carousel-item-end",l=n?"carousel-item-next":"carousel-item-prev";i.classList.add(l),eQ(i),r.classList.add(s),i.classList.add(s),this._queueCallback(()=>{i.classList.remove(s,l),i.classList.add(tQ),r.classList.remove(tQ,l,s),this._isSliding=!1,o(tV)},r,this._isAnimated()),u&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return tD.findOne(t2,this._element)}_getItems(){return tD.find(t1,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return e8()?e===tj?tU:tq:e===tj?tq:tU}_orderToDirection(e){return e8()?e===tU?tj:tH:e===tU?tH:tj}static jQueryInterface(e){return this.each(function(){let t=t6.getOrCreateInstance(this,e);if("number"==typeof e){t.to(e);return}if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw TypeError(`No method named "${e}"`);t[e]()}})}}th.on(document,tX,"[data-bs-slide], [data-bs-slide-to]",function(e){let t=tD.getElementFromSelector(this);if(!t||!t.classList.contains(tK))return;e.preventDefault();let r=t6.getOrCreateInstance(t),n=this.getAttribute("data-bs-slide-to");if(n){r.to(n),r._maybeEnableCycle();return}if("next"===tg.getDataAttribute(this,"slide")){r.next(),r._maybeEnableCycle();return}r.prev(),r._maybeEnableCycle()}),th.on(window,tJ,()=>{for(let e of tD.find('[data-bs-ride="carousel"]'))t6.getOrCreateInstance(e)}),e3(t6);const t4=".bs.collapse",t7=`show${t4}`,t9=`shown${t4}`,re=`hide${t4}`,rt=`hidden${t4}`,rr=`click${t4}.data-api`,rn="show",ri="collapse",ra="collapsing",ro=`:scope .${ri} .${ri}`,ru='[data-bs-toggle="collapse"]',rs={parent:null,toggle:!0},rl={parent:"(null|element)",toggle:"boolean"};class rc extends ty{constructor(e,t){for(let r of(super(e,t),this._isTransitioning=!1,this._triggerArray=[],tD.find(ru))){let e=tD.getSelectorFromElement(r),t=tD.find(e).filter(e=>e===this._element);null!==e&&t.length&&this._triggerArray.push(r)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return rs}static get DefaultType(){return rl}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(e=>e!==this._element).map(e=>rc.getOrCreateInstance(e,{toggle:!1}))),e.length&&e[0]._isTransitioning||th.trigger(this._element,t7).defaultPrevented)return;for(let t of e)t.hide();let t=this._getDimension();this._element.classList.remove(ri),this._element.classList.add(ra),this._element.style[t]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let r=t[0].toUpperCase()+t.slice(1),n=`scroll${r}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ra),this._element.classList.add(ri,rn),this._element.style[t]="",th.trigger(this._element,t9)},this._element,!0),this._element.style[t]=`${this._element[n]}px`}hide(){if(this._isTransitioning||!this._isShown()||th.trigger(this._element,re).defaultPrevented)return;let e=this._getDimension();for(let t of(this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,eQ(this._element),this._element.classList.add(ra),this._element.classList.remove(ri,rn),this._triggerArray)){let e=tD.getElementFromSelector(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ra),this._element.classList.add(ri),th.trigger(this._element,rt)},this._element,!0)}_isShown(e=this._element){return e.classList.contains(rn)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=eY(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(this._config.parent)for(let e of this._getFirstLevelChildren(ru)){let t=tD.getElementFromSelector(e);t&&this._addAriaAndCollapsedClass([e],this._isShown(t))}}_getFirstLevelChildren(e){let t=tD.find(ro,this._config.parent);return tD.find(e,this._config.parent).filter(e=>!t.includes(e))}_addAriaAndCollapsedClass(e,t){if(e.length)for(let r of e)r.classList.toggle("collapsed",!t),r.setAttribute("aria-expanded",t)}static jQueryInterface(e){let t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){let r=rc.getOrCreateInstance(this,t);if("string"==typeof e){if(void 0===r[e])throw TypeError(`No method named "${e}"`);r[e]()}})}}th.on(document,rr,ru,function(e){for(let t of(("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault(),tD.getMultipleElementsFromSelector(this)))rc.getOrCreateInstance(t,{toggle:!1}).toggle()}),e3(rc);const rf="dropdown",rh=".bs.dropdown",rp=".data-api",rd="ArrowDown",rm=`hide${rh}`,rg=`hidden${rh}`,rv=`show${rh}`,ry=`shown${rh}`,rb=`click${rh}${rp}`,rD=`keydown${rh}${rp}`,rx=`keyup${rh}${rp}`,r_="show",rw='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',rE=`${rw}.${r_}`,rA=".dropdown-menu",rC=e8()?"top-end":"top-start",rN=e8()?"top-start":"top-end",rM=e8()?"bottom-end":"bottom-start",rF=e8()?"bottom-start":"bottom-end",rS=e8()?"left-start":"right-start",rT=e8()?"right-start":"left-start",rB={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},rO={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class rI extends ty{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=tD.next(this._element,rA)[0]||tD.prev(this._element,rA)[0]||tD.findOne(rA,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return rB}static get DefaultType(){return rO}static get NAME(){return rf}toggle(){return this._isShown()?this.hide():this.show()}show(){if(eJ(this._element)||this._isShown())return;let e={relatedTarget:this._element};if(!th.trigger(this._element,rv,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(let e of[].concat(...document.body.children))th.on(e,"mouseover",eK);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(r_),this._element.classList.add(r_),th.trigger(this._element,ry,e)}}hide(){if(eJ(this._element)||!this._isShown())return;let e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!th.trigger(this._element,rm,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(let e of[].concat(...document.body.children))th.off(e,"mouseover",eK);this._popper&&this._popper.destroy(),this._menu.classList.remove(r_),this._element.classList.remove(r_),this._element.setAttribute("aria-expanded","false"),tg.removeDataAttribute(this._menu,"popper"),th.trigger(this._element,rg,e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!eW(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw TypeError(`${rf.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(void 0===l)throw TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=this._parent:eW(this._config.reference)?e=eY(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);let t=this._getPopperConfig();this._popper=l.createPopper(e,this._menu,t)}_isShown(){return this._menu.classList.contains(r_)}_getPlacement(){let e=this._parent;if(e.classList.contains("dropend"))return rS;if(e.classList.contains("dropstart"))return rT;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";let t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?rN:rC:t?rF:rM}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){let{offset:e}=this._config;return"string"==typeof e?e.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){let e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(tg.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...e5(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){let r=tD.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(e=>eZ(e));r.length&&e4(r,t,e===rd,!r.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){let t=rI.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(2!==e.button&&("keyup"!==e.type||"Tab"===e.key))for(let t of tD.find(rE)){let r=rI.getInstance(t);if(!r||!1===r._config.autoClose)continue;let n=e.composedPath(),i=n.includes(r._menu);if(n.includes(r._element)||"inside"===r._config.autoClose&&!i||"outside"===r._config.autoClose&&i||r._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;let a={relatedTarget:r._element};"click"===e.type&&(a.clickEvent=e),r._completeHide(a)}}static dataApiKeydownHandler(e){let t=/input|textarea/i.test(e.target.tagName),r="Escape"===e.key,n=["ArrowUp",rd].includes(e.key);if(!n&&!r||t&&!r)return;e.preventDefault();let i=this.matches(rw)?this:tD.prev(this,rw)[0]||tD.next(this,rw)[0]||tD.findOne(rw,e.delegateTarget.parentNode),a=rI.getOrCreateInstance(i);if(n){e.stopPropagation(),a.show(),a._selectMenuItem(e);return}a._isShown()&&(e.stopPropagation(),a.hide(),i.focus())}}th.on(document,rD,rw,rI.dataApiKeydownHandler),th.on(document,rD,rA,rI.dataApiKeydownHandler),th.on(document,rb,rI.clearMenus),th.on(document,rx,rI.clearMenus),th.on(document,rb,rw,function(e){e.preventDefault(),rI.getOrCreateInstance(this).toggle()}),e3(rI);const rz="backdrop",rR="show",rk=`mousedown.bs.${rz}`,rP={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},rL={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class rq extends tv{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return rP}static get DefaultType(){return rL}static get NAME(){return rz}show(e){if(!this._config.isVisible){e5(e);return}this._append();let t=this._getElement();this._config.isAnimated&&eQ(t),t.classList.add(rR),this._emulateAnimation(()=>{e5(e)})}hide(e){if(!this._config.isVisible){e5(e);return}this._getElement().classList.remove(rR),this._emulateAnimation(()=>{this.dispose(),e5(e)})}dispose(){this._isAppended&&(th.off(this._element,rk),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=eY(e.rootElement),e}_append(){if(this._isAppended)return;let e=this._getElement();this._config.rootElement.append(e),th.on(e,rk,()=>{e5(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){e6(e,this._getElement(),this._config.isAnimated)}}const rU=".bs.focustrap",rj=`focusin${rU}`,rH=`keydown.tab${rU}`,r$="backward",rV={autofocus:!0,trapElement:null},rG={autofocus:"boolean",trapElement:"element"};class rW extends tv{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return rV}static get DefaultType(){return rG}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),th.off(document,rU),th.on(document,rj,e=>this._handleFocusin(e)),th.on(document,rH,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,th.off(document,rU))}_handleFocusin(e){let{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;let r=tD.focusableChildren(t);0===r.length?t.focus():this._lastTabNavDirection===r$?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?r$:"forward")}}const rY=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",rZ=".sticky-top",rJ="padding-right",rX="margin-right";class rK{constructor(){this._element=document.body}getWidth(){let e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){let e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,rJ,t=>t+e),this._setElementAttributes(rY,rJ,t=>t+e),this._setElementAttributes(rZ,rX,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,rJ),this._resetElementAttributes(rY,rJ),this._resetElementAttributes(rZ,rX)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,r){let n=this.getWidth();this._applyManipulationCallback(e,e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+n)return;this._saveInitialAttribute(e,t);let i=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,`${r(Number.parseFloat(i))}px`)})}_saveInitialAttribute(e,t){let r=e.style.getPropertyValue(t);r&&tg.setDataAttribute(e,t,r)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,e=>{let r=tg.getDataAttribute(e,t);if(null===r){e.style.removeProperty(t);return}tg.removeDataAttribute(e,t),e.style.setProperty(t,r)})}_applyManipulationCallback(e,t){if(eW(e)){t(e);return}for(let r of tD.find(e,this._element))t(r)}}const rQ=".bs.modal",r0=`hide${rQ}`,r1=`hidePrevented${rQ}`,r2=`hidden${rQ}`,r8=`show${rQ}`,r3=`shown${rQ}`,r5=`resize${rQ}`,r6=`click.dismiss${rQ}`,r4=`mousedown.dismiss${rQ}`,r7=`keydown.dismiss${rQ}`,r9=`click${rQ}.data-api`,ne="modal-open",nt="show",nr="modal-static",nn={backdrop:!0,focus:!0,keyboard:!0},ni={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class na extends ty{constructor(e,t){super(e,t),this._dialog=tD.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new rK,this._addEventListeners()}static get Default(){return nn}static get DefaultType(){return ni}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){!this._isShown&&!this._isTransitioning&&(th.trigger(this._element,r8,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(ne),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e))))}hide(){this._isShown&&!this._isTransitioning&&(th.trigger(this._element,r0).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(nt),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){th.off(window,rQ),th.off(this._dialog,rQ),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new rq({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new rW({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;let t=tD.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),eQ(this._element),this._element.classList.add(nt),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,th.trigger(this._element,r3,{relatedTarget:e})},this._dialog,this._isAnimated())}_addEventListeners(){th.on(this._element,r7,e=>{if("Escape"===e.key){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),th.on(window,r5,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),th.on(this._element,r4,e=>{th.one(this._element,r6,t=>{if(this._element===e.target&&this._element===t.target){if("static"===this._config.backdrop){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(ne),this._resetAdjustments(),this._scrollBar.reset(),th.trigger(this._element,r2)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(th.trigger(this._element,r1).defaultPrevented)return;let e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._element.style.overflowY;"hidden"===t||this._element.classList.contains(nr)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(nr),this._queueCallback(()=>{this._element.classList.remove(nr),this._queueCallback(()=>{this._element.style.overflowY=t},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),r=t>0;if(r&&!e){let e=e8()?"paddingLeft":"paddingRight";this._element.style[e]=`${t}px`}if(!r&&e){let e=e8()?"paddingRight":"paddingLeft";this._element.style[e]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){let r=na.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===r[e])throw TypeError(`No method named "${e}"`);r[e](t)}})}}th.on(document,r9,'[data-bs-toggle="modal"]',function(e){let t=tD.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),th.one(t,r8,e=>{e.defaultPrevented||th.one(t,r2,()=>{eZ(this)&&this.focus()})});let r=tD.findOne(".modal.show");r&&na.getInstance(r).hide(),na.getOrCreateInstance(t).toggle(this)}),tx(na),e3(na);const no=".bs.offcanvas",nu=".data-api",ns=`load${no}${nu}`,nl="show",nc="showing",nf="hiding",nh=".offcanvas.show",np=`show${no}`,nd=`shown${no}`,nm=`hide${no}`,ng=`hidePrevented${no}`,nv=`hidden${no}`,ny=`resize${no}`,nb=`click${no}${nu}`,nD=`keydown.dismiss${no}`,nx={backdrop:!0,keyboard:!0,scroll:!1},n_={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class nw extends ty{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return nx}static get DefaultType(){return n_}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){!this._isShown&&!th.trigger(this._element,np,{relatedTarget:e}).defaultPrevented&&(this._isShown=!0,this._backdrop.show(),this._config.scroll||new rK().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(nc),this._queueCallback(()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(nl),this._element.classList.remove(nc),th.trigger(this._element,nd,{relatedTarget:e})},this._element,!0))}hide(){this._isShown&&!th.trigger(this._element,nm).defaultPrevented&&(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(nf),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(nl,nf),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new rK().reset(),th.trigger(this._element,nv)},this._element,!0))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){let e=!!this._config.backdrop;return new rq({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{if("static"===this._config.backdrop){th.trigger(this._element,ng);return}this.hide()}:null})}_initializeFocusTrap(){return new rW({trapElement:this._element})}_addEventListeners(){th.on(this._element,nD,e=>{if("Escape"===e.key){if(this._config.keyboard){this.hide();return}th.trigger(this._element,ng)}})}static jQueryInterface(e){return this.each(function(){let t=nw.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw TypeError(`No method named "${e}"`);t[e](this)}})}}th.on(document,nb,'[data-bs-toggle="offcanvas"]',function(e){let t=tD.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),eJ(this))return;th.one(t,nv,()=>{eZ(this)&&this.focus()});let r=tD.findOne(nh);r&&r!==t&&nw.getInstance(r).hide(),nw.getOrCreateInstance(t).toggle(this)}),th.on(window,ns,()=>{for(let e of tD.find(nh))nw.getOrCreateInstance(e).show()}),th.on(window,ny,()=>{for(let e of tD.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&nw.getOrCreateInstance(e).hide()}),tx(nw),e3(nw);const nE={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},nA=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),nC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,nN=(e,t)=>{let r=e.nodeName.toLowerCase();return t.includes(r)?!nA.has(r)||!!nC.test(e.nodeValue):t.filter(e=>e instanceof RegExp).some(e=>e.test(r))},nM={allowList:nE,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},nF={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},nS={entry:"(string|element|function|null)",selector:"(string|element)"};class nT extends tv{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return nM}static get DefaultType(){return nF}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){let e=document.createElement("div");for(let[t,r]of(e.innerHTML=this._maybeSanitize(this._config.template),Object.entries(this._config.content)))this._setContent(e,r,t);let t=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&t.classList.add(...r.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(let[t,r]of Object.entries(e))super._typeCheckConfig({selector:t,entry:r},nS)}_setContent(e,t,r){let n=tD.findOne(r,e);if(n){if(!(t=this._resolvePossibleFunction(t))){n.remove();return}if(eW(t)){this._putElementInTemplate(eY(t),n);return}if(this._config.html){n.innerHTML=this._maybeSanitize(t);return}n.textContent=t}}_maybeSanitize(e){return this._config.sanitize?function(e,t,r){if(!e.length)return e;if(r&&"function"==typeof r)return r(e);let n=new window.DOMParser().parseFromString(e,"text/html");for(let e of[].concat(...n.body.querySelectorAll("*"))){let r=e.nodeName.toLowerCase();if(!Object.keys(t).includes(r)){e.remove();continue}let n=[].concat(...e.attributes),i=[].concat(t["*"]||[],t[r]||[]);for(let t of n)nN(t,i)||e.removeAttribute(t.nodeName)}return n.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return e5(e,[this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}const nB=new Set(["sanitize","allowList","sanitizeFn"]),nO="fade",nI="show",nz=".modal",nR="hide.bs.modal",nk="hover",nP="focus",nL={AUTO:"auto",TOP:"top",RIGHT:e8()?"left":"right",BOTTOM:"bottom",LEFT:e8()?"right":"left"},nq={allowList:nE,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},nU={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class nj extends ty{constructor(e,t){if(void 0===l)throw TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return nq}static get DefaultType(){return nU}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),th.off(this._element.closest(nz),nR,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;let e=th.trigger(this._element,this.constructor.eventName("show")),t=(eX(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!t)return;this._disposePopper();let r=this._getTipElement();this._element.setAttribute("aria-describedby",r.getAttribute("id"));let{container:n}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(n.append(r),th.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(r),r.classList.add(nI),"ontouchstart"in document.documentElement)for(let e of[].concat(...document.body.children))th.on(e,"mouseover",eK);this._queueCallback(()=>{th.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!th.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(nI),"ontouchstart"in document.documentElement)for(let e of[].concat(...document.body.children))th.off(e,"mouseover",eK);this._activeTrigger.click=!1,this._activeTrigger[nP]=!1,this._activeTrigger[nk]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),th.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){let t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(nO,nI),t.classList.add(`bs-${this.constructor.NAME}-auto`);let r=e$(this.constructor.NAME).toString();return t.setAttribute("id",r),this._isAnimated()&&t.classList.add(nO),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new nT({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(nO)}_isShown(){return this.tip&&this.tip.classList.contains(nI)}_createPopper(e){let t=nL[e5(this._config.placement,[this,e,this._element]).toUpperCase()];return l.createPopper(this._element,e,this._getPopperConfig(t))}_getOffset(){let{offset:e}=this._config;return"string"==typeof e?e.split(",").map(e=>Number.parseInt(e,10)):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return e5(e,[this._element])}_getPopperConfig(e){let t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:e=>{this._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return{...t,...e5(this._config.popperConfig,[t])}}_setListeners(){for(let e of this._config.trigger.split(" "))if("click"===e)th.on(this._element,this.constructor.eventName("click"),this._config.selector,e=>{this._initializeOnDelegatedTarget(e).toggle()});else if("manual"!==e){let t=e===nk?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),r=e===nk?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");th.on(this._element,t,this._config.selector,e=>{let t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusin"===e.type?nP:nk]=!0,t._enter()}),th.on(this._element,r,this._config.selector,e=>{let t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusout"===e.type?nP:nk]=t._element.contains(e.relatedTarget),t._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},th.on(this._element.closest(nz),nR,this._hideModalHandler)}_fixTitle(){let e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){let t=tg.getDataAttributes(this._element);for(let e of Object.keys(t))nB.has(e)&&delete t[e];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:eY(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){let e={};for(let[t,r]of Object.entries(this._config))this.constructor.Default[t]!==r&&(e[t]=r);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){let t=nj.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw TypeError(`No method named "${e}"`);t[e]()}})}}e3(nj);const nH={...nj.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},n$={...nj.DefaultType,content:"(null|string|element|function)"};class nV extends nj{static get Default(){return nH}static get DefaultType(){return n$}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){let t=nV.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw TypeError(`No method named "${e}"`);t[e]()}})}}e3(nV);const nG=".bs.scrollspy",nW=`activate${nG}`,nY=`click${nG}`,nZ=`load${nG}.data-api`,nJ="active",nX="[href]",nK=".nav-link",nQ=`${nK}, .nav-item > ${nK}, .list-group-item`,n0={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},n1={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class n2 extends ty{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return n0}static get DefaultType(){return n1}static get NAME(){return"scrollspy"}refresh(){for(let e of(this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver(),this._observableSections.values()))this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=eY(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map(e=>Number.parseFloat(e))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(th.off(this._config.target,nY),th.on(this._config.target,nY,nX,e=>{let t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();let r=this._rootElement||window,n=t.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:n,behavior:"smooth"});return}r.scrollTop=n}}))}_getNewObserver(){return new IntersectionObserver(e=>this._observerCallback(e),{root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin})}_observerCallback(e){let t=e=>this._targetLinks.get(`#${e.target.id}`),r=e=>{this._previousScrollData.visibleEntryTop=e.target.offsetTop,this._process(t(e))},n=(this._rootElement||document.documentElement).scrollTop,i=n>=this._previousScrollData.parentScrollTop;for(let a of(this._previousScrollData.parentScrollTop=n,e)){if(!a.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(a));continue}let e=a.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(i&&e){if(r(a),!n)return;continue}i||e||r(a)}}_initializeTargetsAndObservables(){for(let e of(this._targetLinks=new Map,this._observableSections=new Map,tD.find(nX,this._config.target))){if(!e.hash||eJ(e))continue;let t=tD.findOne(decodeURI(e.hash),this._element);eZ(t)&&(this._targetLinks.set(decodeURI(e.hash),e),this._observableSections.set(e.hash,t))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(nJ),this._activateParents(e),th.trigger(this._element,nW,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item")){tD.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(nJ);return}for(let t of tD.parents(e,".nav, .list-group"))for(let e of tD.prev(t,nQ))e.classList.add(nJ)}_clearActiveClass(e){for(let t of(e.classList.remove(nJ),tD.find(`${nX}.${nJ}`,e)))t.classList.remove(nJ)}static jQueryInterface(e){return this.each(function(){let t=n2.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw TypeError(`No method named "${e}"`);t[e]()}})}}th.on(window,nZ,()=>{for(let e of tD.find('[data-bs-spy="scroll"]'))n2.getOrCreateInstance(e)}),e3(n2);const n8=".bs.tab",n3=`hide${n8}`,n5=`hidden${n8}`,n6=`show${n8}`,n4=`shown${n8}`,n7=`click${n8}`,n9=`keydown${n8}`,ie=`load${n8}`,it="ArrowRight",ir="ArrowDown",ii="Home",ia="active",io="fade",iu="show",is=".dropdown-toggle",il=`:not(${is})`,ic=`.nav-link${il}, .list-group-item${il}, [role="tab"]${il}`,ih='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',ip=`${ic}, ${ih}`,id=`.${ia}[data-bs-toggle="tab"], .${ia}[data-bs-toggle="pill"], .${ia}[data-bs-toggle="list"]`;class im extends ty{constructor(e){if(super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),!this._parent)return;this._setInitialAttributes(this._parent,this._getChildren()),th.on(this._element,n9,e=>this._keydown(e))}static get NAME(){return"tab"}show(){let e=this._element;if(this._elemIsActive(e))return;let t=this._getActiveElem(),r=t?th.trigger(t,n3,{relatedTarget:e}):null;th.trigger(e,n6,{relatedTarget:t}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){e&&(e.classList.add(ia),this._activate(tD.getElementFromSelector(e)),this._queueCallback(()=>{if("tab"!==e.getAttribute("role")){e.classList.add(iu);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),th.trigger(e,n4,{relatedTarget:t})},e,e.classList.contains(io)))}_deactivate(e,t){e&&(e.classList.remove(ia),e.blur(),this._deactivate(tD.getElementFromSelector(e)),this._queueCallback(()=>{if("tab"!==e.getAttribute("role")){e.classList.remove(iu);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),th.trigger(e,n5,{relatedTarget:t})},e,e.classList.contains(io)))}_keydown(e){let t;if(!["ArrowLeft",it,"ArrowUp",ir,ii,"End"].includes(e.key))return;e.stopPropagation(),e.preventDefault();let r=this._getChildren().filter(e=>!eJ(e));if([ii,"End"].includes(e.key))t=r[e.key===ii?0:r.length-1];else{let n=[it,ir].includes(e.key);t=e4(r,e.target,n,!0)}t&&(t.focus({preventScroll:!0}),im.getOrCreateInstance(t).show())}_getChildren(){return tD.find(ip,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){for(let r of(this._setAttributeIfNotExists(e,"role","tablist"),t))this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);let t=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",t),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){let t=tD.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){let r=this._getOuterElement(e);if(!r.classList.contains("dropdown"))return;let n=(e,n)=>{let i=tD.findOne(e,r);i&&i.classList.toggle(n,t)};n(is,ia),n(".dropdown-menu",iu),r.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,r){e.hasAttribute(t)||e.setAttribute(t,r)}_elemIsActive(e){return e.classList.contains(ia)}_getInnerElement(e){return e.matches(ip)?e:tD.findOne(ip,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each(function(){let t=im.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw TypeError(`No method named "${e}"`);t[e]()}})}}th.on(document,n7,ih,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),eJ(this)||im.getOrCreateInstance(this).show()}),th.on(window,ie,()=>{for(let e of tD.find(id))im.getOrCreateInstance(e)}),e3(im);const ig=".bs.toast",iv=`mouseover${ig}`,iy=`mouseout${ig}`,ib=`focusin${ig}`,iD=`focusout${ig}`,ix=`hide${ig}`,i_=`hidden${ig}`,iw=`show${ig}`,iE=`shown${ig}`,iA="hide",iC="show",iN="showing",iM={animation:"boolean",autohide:"boolean",delay:"number"},iF={animation:!0,autohide:!0,delay:5e3};class iS extends ty{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return iF}static get DefaultType(){return iM}static get NAME(){return"toast"}show(){!th.trigger(this._element,iw).defaultPrevented&&(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(iA),eQ(this._element),this._element.classList.add(iC,iN),this._queueCallback(()=>{this._element.classList.remove(iN),th.trigger(this._element,iE),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&!th.trigger(this._element,ix).defaultPrevented&&(this._element.classList.add(iN),this._queueCallback(()=>{this._element.classList.add(iA),this._element.classList.remove(iN,iC),th.trigger(this._element,i_)},this._element,this._config.animation))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(iC),super.dispose()}isShown(){return this._element.classList.contains(iC)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t){this._clearTimeout();return}let r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){th.on(this._element,iv,e=>this._onInteraction(e,!0)),th.on(this._element,iy,e=>this._onInteraction(e,!1)),th.on(this._element,ib,e=>this._onInteraction(e,!0)),th.on(this._element,iD,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){let t=iS.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw TypeError(`No method named "${e}"`);t[e](this)}})}}tx(iS),e3(iS);class iT{constructor(){this._windows=[]}addWindow(e){this._windows.push(e),document.body.appendChild(e.windowDiv)}}class iB{static createDiv(e,t={},r=[]){let n=document.createElement("div");return r.push("tui"),e&&(n.id=e),Object.assign(n.style,t),n.classList.add(...r),n}static createButton(e,t,r={},n=[]){let i=document.createElement("button");return n.push("tui"),i.textContent=e,i.onclick=t,Object.assign(i.style,r),i.classList.add(...n),i}static createTitle(e,t,r={},n=[]){let i=document.createElement(t);return n.push("tui"),i.textContent=e,Object.assign(i.style,r),i.classList.add(...n),i}static createCanvas(e,t,r,n={},i=[]){let a=document.createElement("canvas");return i.push("tui"),a.id=e,a.width=t,a.height=r,Object.assign(a.style,n),a.classList.add(...i),a}static createGameCanvas(e,t,r,n={},i=[]){let a=iB.createCanvas(e,t,r,n,i);return window.addEventListener("resize",()=>{let e=window.innerWidth,t=window.innerHeight;a.width=e,a.height=t}),a}static createButtonContainer(e,t,r={}){let n=iB.createDiv(e);return t.forEach(e=>{n.appendChild(e)}),n}}class iO{static{this._id=0}static getId(e=""){let t=++iO._id;return""===e?""+t:e+"-"+t}}class iI{constructor(e,t=300,r=200,n=10,i=10,a=[]){this._id=iO.getId("win"),this._width=t,this._height=r,this._contentDiv=this._createContentDiv(a),this._windowDiv=this._createWindowDiv(n,i),this._windowDiv.appendChild(this._createHeaderDiv(e)),this._windowDiv.appendChild(this._contentDiv),document.body.appendChild(this._windowDiv),this.makeWindowDraggable()}get windowDiv(){return this._windowDiv}makeWindowDraggable(){let e,t,r=!1;this._windowDiv.addEventListener("mousedown",n=>{r=!0,e=n.clientX-this._windowDiv.offsetLeft,t=n.clientY-this._windowDiv.offsetTop}),document.addEventListener("mousemove",n=>{r&&(this._windowDiv.style.left=`${n.clientX-e}px`,this._windowDiv.style.top=`${n.clientY-t}px`)}),document.addEventListener("mouseup",()=>{r=!1})}_createHeaderDiv(e){let t=iB.createDiv(iO.getId("header"),{},["app-window","header"]),r=iB.createTitle(e,"p",{}),n=iB.createButton("_",()=>this._toggleMinimize()),i=iB.createButton("X",()=>this._closeWindow());return t.appendChild(r),t.appendChild(n),t.appendChild(i),t}_setContent(e){e.textContent="Inner content goes here..."}_toggleMinimize(){let e="hide";this._contentDiv.classList.contains(e)?this._contentDiv.classList.remove(e):this._contentDiv.classList.add(e)}_createWindowDiv(e,t){return iB.createDiv(iO.getId("window"),{},["app-window"])}_createContentDiv(e){e.push("app-window"),e.push("content");let t=iB.createDiv(iO.getId("content"),{},e);return this._setContent(t),t}_closeWindow(){this._windowDiv.remove()}}class iz extends iI{constructor(e,t=[]){super("Controller Window",400,300);let r=iB.createButtonContainer(iO.getId("button-window"),e);this._contentDiv.appendChild(r)}_setContent(e){}}var iR={};function ik(){return(iR=ik=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).__esModule=!0,iR.default=iR,ik.apply(null,arguments)}(iR=ik).__esModule=!0,iR.default=iR;var iP={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function iL(e,t){var r,n;if(iU(e,t))return e[t];if("function"==typeof e[t]&&(r=e,n=t,!(null==r||"function"!=typeof r[n]||aC(r,n)&&Object.getPrototypeOf&&n in Object.getPrototypeOf(r))&&(aC(iH,n)||!(n in Object.prototype)&&!(n in Function.prototype))))throw Error('Cannot access method "'+t+'" as a property');throw Error('No access to property "'+t+'"')}function iq(e,t,r){if(iU(e,t))return e[t]=r,r;throw Error('No access to property "'+t+'"')}function iU(e,t){var r;return!!("object"==typeof(r=e)&&r&&r.constructor===Object||Array.isArray(e))&&(!!aC(ij,t)||!(t in Object.prototype)&&!(t in Function.prototype))}var ij={length:!0,name:!0},iH={toString:!0,valueOf:!0,toLocaleString:!0};class i${constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(e=>this.has(e)).values()}get(e){return iL(this.wrappedObject,e)}set(e,t){return iq(this.wrappedObject,e,t),this}has(e){return iU(this.wrappedObject,e)&&e in this.wrappedObject}entries(){var e,t;return e=this.keys(),t=e=>[e,this.get(e)],{next:()=>{var r=e.next();return r.done?r:{value:t(r.value),done:!1}}}}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){iU(this.wrappedObject,e)&&delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}}function iV(e){return"number"==typeof e}function iG(e){return!!e&&"object"==typeof e&&"function"==typeof e.constructor&&(!0===e.isBigNumber&&"object"==typeof e.constructor.prototype&&!0===e.constructor.prototype.isBigNumber||"function"==typeof e.constructor.isDecimal&&!0===e.constructor.isDecimal(e))}function iW(e){return"bigint"==typeof e}function iY(e){return e&&"object"==typeof e&&!0===Object.getPrototypeOf(e).isComplex||!1}function iZ(e){return e&&"object"==typeof e&&!0===Object.getPrototypeOf(e).isFraction||!1}function iJ(e){return e&&!0===e.constructor.prototype.isUnit||!1}function iX(e){return"string"==typeof e}var iK=Array.isArray;function iQ(e){return e&&!0===e.constructor.prototype.isMatrix||!1}function i0(e){return Array.isArray(e)||iQ(e)}function i1(e){return e&&e.isDenseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function i2(e){return e&&e.isSparseMatrix&&!0===e.constructor.prototype.isMatrix||!1}function i8(e){return e&&!0===e.constructor.prototype.isRange||!1}function i3(e){return e&&!0===e.constructor.prototype.isIndex||!1}function i5(e){return"boolean"==typeof e}function i6(e){return e&&!0===e.constructor.prototype.isResultSet||!1}function i4(e){return e&&!0===e.constructor.prototype.isHelp||!1}function i7(e){return"function"==typeof e}function i9(e){return e instanceof Date}function ae(e){return e instanceof RegExp}function at(e){return!!(e&&"object"==typeof e&&e.constructor===Object&&!iY(e)&&!iZ(e))}function ar(e){return!!e&&(e instanceof Map||e instanceof i$||"function"==typeof e.set&&"function"==typeof e.get&&"function"==typeof e.keys&&"function"==typeof e.has)}function an(e){return null===e}function ai(e){return void 0===e}function aa(e){return e&&!0===e.isAccessorNode&&!0===e.constructor.prototype.isNode||!1}function ao(e){return e&&!0===e.isArrayNode&&!0===e.constructor.prototype.isNode||!1}function au(e){return e&&!0===e.isAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function as(e){return e&&!0===e.isBlockNode&&!0===e.constructor.prototype.isNode||!1}function al(e){return e&&!0===e.isConditionalNode&&!0===e.constructor.prototype.isNode||!1}function ac(e){return e&&!0===e.isConstantNode&&!0===e.constructor.prototype.isNode||!1}function af(e){return e&&!0===e.isFunctionAssignmentNode&&!0===e.constructor.prototype.isNode||!1}function ah(e){return e&&!0===e.isFunctionNode&&!0===e.constructor.prototype.isNode||!1}function ap(e){return e&&!0===e.isIndexNode&&!0===e.constructor.prototype.isNode||!1}function ad(e){return e&&!0===e.isNode&&!0===e.constructor.prototype.isNode||!1}function am(e){return e&&!0===e.isObjectNode&&!0===e.constructor.prototype.isNode||!1}function ag(e){return e&&!0===e.isOperatorNode&&!0===e.constructor.prototype.isNode||!1}function av(e){return e&&!0===e.isParenthesisNode&&!0===e.constructor.prototype.isNode||!1}function ay(e){return e&&!0===e.isRangeNode&&!0===e.constructor.prototype.isNode||!1}function ab(e){return e&&!0===e.isRelationalNode&&!0===e.constructor.prototype.isNode||!1}function aD(e){return e&&!0===e.isSymbolNode&&!0===e.constructor.prototype.isNode||!1}function ax(e){return e&&!0===e.constructor.prototype.isChain||!1}function a_(e){var t=typeof e;return"object"===t?null===e?"null":iG(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function aw(e){var t=typeof e;if("number"===t||"bigint"===t||"string"===t||"boolean"===t||null==e)return e;if("function"==typeof e.clone)return e.clone();if(Array.isArray(e))return e.map(function(e){return aw(e)});if(e instanceof Date)return new Date(e.valueOf());if(iG(e))return e;if(at(e)){var r=e,n=aw,i={};for(var a in r)aC(r,a)&&(i[a]=n(r[a]));return i}if("function"===t)return e;throw TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function aE(e,t){for(var r in t)aC(t,r)&&(e[r]=t[r]);return e}function aA(e,t){var r,n,i;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;n++)if(!aA(e[n],t[n]))return!1;return!0}if("function"==typeof e)return e===t;if(!(e instanceof Object))return e===t;if(Array.isArray(t)||!(t instanceof Object))return!1;for(r in e)if(!(r in t)||!aA(e[r],t[r]))return!1;for(r in t)if(!(r in e))return!1;return!0}function aC(e,t){return e&&Object.hasOwnProperty.call(e,t)}var aN=function(e){if(e)throw Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(iP)};function aM(e,t,r,n){function i(n){var i=function(e,t){for(var r={},n=0;n<t.length;n++){var i=t[n],a=e[i];void 0!==a&&(r[i]=a)}return r}(n,t.map(aF));return function(e,t,r){if(!t.filter(e=>{var t;return!((t=e)&&"?"===t[0])}).every(e=>void 0!==r[e])){var n=t.filter(e=>void 0===r[e]);throw Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(n.map(e=>'"'.concat(e,'"')).join(", "),"."))}}(e,t,n),r(i)}return i.isFactory=!0,i.fn=e,i.dependencies=t.slice().sort(),n&&(i.meta=n),i}function aF(e){return e&&"?"===e[0]?e.slice(1):e}function aS(e,t,r){if(!(this instanceof aS))throw SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=Error().stack}function aT(e){return"boolean"==typeof e||!!isFinite(e)&&e===Math.round(e)}function aB(e,t){if("bigint"===t.number)try{BigInt(e)}catch(e){return t.numberFallback}return t.number}r(iR)(aN,iP,{MATRIX_OPTIONS:["Matrix","Array"],NUMBER_OPTIONS:["number","BigNumber","Fraction"]}),aS.prototype=RangeError(),aS.prototype.constructor=RangeError,aS.prototype.name="IndexError",aS.prototype.isIndexError=!0;var aO=Math.sign||function(e){return e>0?1:e<0?-1:0},aI=Math.log2||function(e){return Math.log(e)/Math.LN2},az=Math.log10||function(e){return Math.log(e)/Math.LN10},aR=Math.log1p||function(e){return Math.log(e+1)},ak=Math.cbrt||function(e){if(0===e)return e;var t,r=e<0;return r&&(e=-e),isFinite(e)?(t=Math.exp(Math.log(e)/3),t=(e/(t*t)+2*t)/3):t=e,r?-t:t},aP=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function aL(e,t,r){var n="";if(r){if(r<1)throw Error("size must be in greater than 0");if(!aT(r))throw Error("size must be an integer");if(e>2**(r-1)-1||e<-(2**(r-1)))throw Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!aT(e))throw Error("Value must be an integer");e<0&&(e+=2**r),n="i".concat(r)}var i="";return e<0&&(e=-e,i="-"),"".concat(i).concat({2:"0b",8:"0o",16:"0x"}[t]).concat(e.toString(t)).concat(n)}function aq(e,t){if("function"==typeof t)return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var{notation:r,precision:n,wordSize:i}=aU(t);switch(r){case"fixed":return aH(e,n);case"exponential":return a$(e,n);case"engineering":return function(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=aV(aj(e),t),n=r.exponent,i=r.coefficients,a=n%3==0?n:n<0?n-3-n%3:n-n%3;if(iV(t))for(;t>i.length||n-a+1>i.length;)i.push(0);else for(var o=Math.abs(n-a)-(i.length-1),u=0;u<o;u++)i.push(0);for(var s=Math.abs(n-a),l=1;s>0;)l++,s--;var c=i.slice(l).join(""),f=iV(t)&&c.length||c.match(/[1-9]/)?"."+c:"",h=i.slice(0,l).join("")+f+"e"+(n>=0?"+":"")+a.toString();return r.sign+h}(e,n);case"bin":return aL(e,2,i);case"oct":return aL(e,8,i);case"hex":return aL(e,16,i);case"auto":return(function(e,t,r){if(isNaN(e)||!isFinite(e))return String(e);var n=a1(null==r?void 0:r.lowerExp,-3),i=a1(null==r?void 0:r.upperExp,5),a=aj(e),o=t?aV(a,t):a;if(o.exponent<n||o.exponent>=i)return a$(e,t);var u=o.coefficients,s=o.exponent;u.length<t&&(u=u.concat(aG(t-u.length))),u=u.concat(aG(s-u.length+1+(u.length<t?t-u.length:0))),u=aG(-s).concat(u);var l=s>0?s:0;return l<u.length-1&&u.splice(l+1,0,"."),o.sign+u.join("")})(e,n,t).replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t});default:throw Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function aU(e){var t,r,n="auto";if(void 0!==e)if(iV(e))t=e;else if(iG(e))t=e.toNumber();else if(at(e))void 0!==e.precision&&(t=a0(e.precision,()=>{throw Error('Option "precision" must be a number or BigNumber')})),void 0!==e.wordSize&&(r=a0(e.wordSize,()=>{throw Error('Option "wordSize" must be a number or BigNumber')})),e.notation&&(n=e.notation);else throw Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:n,precision:t,wordSize:r}}function aj(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw SyntaxError("Invalid number "+e);var r=t[1],n=t[2],i=parseFloat(t[4]||"0"),a=n.indexOf(".");i+=-1!==a?a-1:n.length-1;var o=n.replace(".","").replace(/^0*/,function(e){return i-=e.length,""}).replace(/0*$/,"").split("").map(function(e){return parseInt(e)});return 0===o.length&&(o.push(0),i++),{sign:r,coefficients:o,exponent:i}}function aH(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=aj(e),n="number"==typeof t?aV(r,r.exponent+1+t):r,i=n.coefficients,a=n.exponent+1,o=a+(t||0);return i.length<o&&(i=i.concat(aG(o-i.length))),a<0&&(i=aG(-a+1).concat(i),a=1),a<i.length&&i.splice(a,0,0===a?"0.":"."),n.sign+i.join("")}function a$(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=aj(e),n=t?aV(r,t):r,i=n.coefficients,a=n.exponent;i.length<t&&(i=i.concat(aG(t-i.length)));var o=i.shift();return n.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(a>=0?"+":"")+a}function aV(e,t){for(var r={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},n=r.coefficients;t<=0;)n.unshift(0),r.exponent++,t++;if(n.length>t&&n.splice(t,n.length-t)[0]>=5){var i=t-1;for(n[i]++;10===n[i];)n.pop(),0===i&&(n.unshift(0),r.exponent++,i++),i--,n[i]++}return r}function aG(e){for(var t=[],r=0;r<e;r++)t.push(0);return t}function aW(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-8,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(r<=0)throw Error("Relative tolerance must be greater than 0");if(n<0)throw Error("Absolute tolerance must be at least 0");return!(isNaN(e)||isNaN(t))&&(isFinite(e)&&isFinite(t)?e===t||Math.abs(e-t)<=Math.max(r*Math.max(Math.abs(e),Math.abs(t)),n):e===t)}var aY=Math.acosh||function(e){return Math.log(Math.sqrt(e*e-1)+e)},aZ=Math.asinh||function(e){return Math.log(Math.sqrt(e*e+1)+e)},aJ=Math.atanh||function(e){return Math.log((1+e)/(1-e))/2},aX=Math.cosh||function(e){return(Math.exp(e)+Math.exp(-e))/2},aK=Math.sinh||function(e){return(Math.exp(e)-Math.exp(-e))/2},aQ=Math.tanh||function(e){var t=Math.exp(2*e);return(t-1)/(t+1)};function a0(e,t){return iV(e)?e:iG(e)?e.toNumber():void t()}function a1(e,t){return iV(e)?e:iG(e)?e.toNumber():t}function a2(e,t,r){var n=new e.constructor(2),i="";if(r){if(r<1)throw Error("size must be in greater than 0");if(!aT(r))throw Error("size must be an integer");if(e.greaterThan(n.pow(r-1).sub(1))||e.lessThan(n.pow(r-1).mul(-1)))throw Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!e.isInteger())throw Error("Value must be an integer");e.lessThan(0)&&(e=e.add(n.pow(r))),i="i".concat(r)}switch(t){case 2:return"".concat(e.toBinary()).concat(i);case 8:return"".concat(e.toOctal()).concat(i);case 16:return"".concat(e.toHexadecimal()).concat(i);default:throw Error("Base ".concat(t," not supported "))}}function a8(e,t){return void 0!==t?e.toExponential(t-1):e.toExponential()}function a3(e,t){return iV(e)?e:iG(e)?e.toNumber():t}function a5(e,t){var r=function(e,t){var r;if("number"==typeof e)return aq(e,t);if(iG(e))return function(e,t){if("function"==typeof t)return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var{notation:r,precision:n,wordSize:i}=aU(t);switch(r){case"fixed":return a=e,o=n,a.toFixed(o);case"exponential":return a8(e,n);case"engineering":return u=e,s=n,c=(l=u.e)%3==0?l:l<0?l-3-l%3:l-l%3,(f=u.mul(Math.pow(10,-c)).toPrecision(s)).includes("e")&&(f=new u.constructor(f).toFixed()),f+"e"+(l>=0?"+":"")+c.toString();case"bin":return a2(e,2,i);case"oct":return a2(e,8,i);case"hex":return a2(e,16,i);case"auto":var a,o,u,s,l,c,f,h,p=a3(null==t?void 0:t.lowerExp,-3),d=a3(null==t?void 0:t.upperExp,5);if(e.isZero())return"0";var m=e.toSignificantDigits(n),g=m.e;return(g>=p&&g<d?m.toFixed():a8(e,n)).replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t});default:throw Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}(e,t);if((r=e)&&"object"==typeof r&&"bigint"==typeof r.s&&"bigint"==typeof r.n&&"bigint"==typeof r.d)if(!t||"decimal"!==t.fraction)return"".concat(e.s*e.n,"/").concat(e.d);else return e.toString();if(Array.isArray(e))return function e(t,r){if(!Array.isArray(t))return a5(t,r);for(var n="[",i=t.length,a=0;a<i;a++)0!==a&&(n+=", "),n+=e(t[a],r);return n+"]"}(e,t);if(iX(e))return a6(e);if("function"==typeof e)return e.syntax?String(e.syntax):"function";if(e&&"object"==typeof e)if("function"==typeof e.format)return e.format(t);else return e&&e.toString(t)!==({}).toString()?e.toString(t):"{"+Object.keys(e).map(r=>a6(r)+": "+a5(e[r],t)).join(", ")+"}";return String(e)}(e,t);return t&&"object"==typeof t&&"truncate"in t&&r.length>t.truncate?r.substring(0,t.truncate-3)+"...":r}function a6(e){for(var t=String(e),r="",n=0;n<t.length;){var i=t.charAt(n);r+=i in a4?a4[i]:i,n++}return'"'+r+'"'}var a4={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function a7(e,t){if(!iX(e))throw TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+a_(e)+", index: 0)");if(!iX(t))throw TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+a_(t)+", index: 1)");return e===t?0:e>t?1:-1}function a9(e,t,r){if(!(this instanceof a9))throw SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=Error().stack}function oe(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function ot(e,t){if(0===t.length){if(Array.isArray(e))throw new a9(e.length,0)}else!function e(t,r,n){var i,a=t.length;if(a!==r[n])throw new a9(a,r[n]);if(n<r.length-1){var o=n+1;for(i=0;i<a;i++){if(!Array.isArray(t[i]))throw new a9(r.length-1,r.length,"<");e(t[i],r,o)}}else for(i=0;i<a;i++)if(Array.isArray(t[i]))throw new a9(r.length+1,r.length,">")}(e,t,0)}function or(e,t){var r=e.isMatrix?e._size:oe(e);t._sourceSize.forEach((e,t)=>{if(null!==e&&e!==r[t])throw new a9(e,r[t])})}function on(e,t){if(void 0!==e){if(!iV(e)||!aT(e))throw TypeError("Index must be an integer (value: "+e+")");if(e<0||"number"==typeof t&&e>=t)throw new aS(e,t)}}function oi(e){for(var t=0;t<e._dimensions.length;++t){var r=e._dimensions[t];if(r._data&&iK(r._data)){if(0===r._size[0])return!0}else if(r.isRange){if(r.start===r.end)return!0}else if(iX(r)&&0===r.length)return!0}return!1}function oa(e,t,r){if(!Array.isArray(t))throw TypeError("Array expected");if(0===t.length)throw Error("Resizing to scalar is not supported");return t.forEach(function(e){if(!iV(e)||!aT(e)||e<0)throw TypeError("Invalid size, must contain positive integers (size: "+a5(t)+")")}),(iV(e)||iG(e))&&(e=[e]),function e(t,r,n,i){var a,o,u=t.length,s=r[n],l=Math.min(u,s);if(t.length=s,n<r.length-1){var c=n+1;for(a=0;a<l;a++)Array.isArray(o=t[a])||(o=[o],t[a]=o),e(o,r,c,i);for(a=l;a<s;a++)o=[],t[a]=o,e(o,r,c,i)}else{for(a=0;a<l;a++)for(;Array.isArray(t[a]);)t[a]=t[a][0];for(a=l;a<s;a++)t[a]=i}}(e,t,0,void 0!==r?r:0),e}function oo(e,t){var r=of(e),n=r.length;if(!Array.isArray(e)||!Array.isArray(t))throw TypeError("Array expected");if(0===t.length)throw new a9(0,n,"!=");var i=os(t=ou(t,n));if(n!==i)throw new a9(i,n,"!=");try{return function(e,t){for(var r,n=e,i=t.length-1;i>0;i--){var a=t[i];r=[];for(var o=n.length/a,u=0;u<o;u++)r.push(n.slice(u*a,(u+1)*a));n=r}return n}(r,t)}catch(e){if(e instanceof a9)throw new a9(i,n,"!=");throw e}}function ou(e,t){var r=os(e),n=e.slice(),i=e.indexOf(-1);if(e.indexOf(-1,i+1)>=0)throw Error("More than one wildcard in sizes");if(i>=0)if(t%r==0)n[i]=-t/r;else throw Error("Could not replace wildcard, since "+t+" is no multiple of "+-r);return n}function os(e){return e.reduce((e,t)=>e*t,1)}function ol(e,t){for(var r=t||oe(e);Array.isArray(e)&&1===e.length;)e=e[0],r.shift();for(var n=r.length;1===r[n-1];)n--;return n<r.length&&(e=function e(t,r,n){var i,a;if(n<r){var o=n+1;for(i=0,a=t.length;i<a;i++)t[i]=e(t[i],r,o)}else for(;Array.isArray(t);)t=t[0];return t}(e,n,0),r.length=n),e}function oc(e,t,r,n){var i=n||oe(e);if(r)for(var a=0;a<r;a++)e=[e],i.unshift(1);for(e=function e(t,r,n){var i,a;if(Array.isArray(t)){var o=n+1;for(i=0,a=t.length;i<a;i++)t[i]=e(t[i],r,o)}else for(var u=n;u<r;u++)t=[t];return t}(e,t,0);i.length<t;)i.push(1);return e}function of(e){if(!Array.isArray(e))return e;var t=[];return e.forEach(function e(r){Array.isArray(r)?r.forEach(e):t.push(r)}),t}function oh(e,t){if(1!==oe(e).length)throw Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,e=>t.test(e))}function op(e){if(!Array.isArray(e))throw TypeError("Array input expected");if(0===e.length)return e;var t=[],r=0;t[0]={value:e[0],identifier:0};for(var n=1;n<e.length;n++)e[n]===e[n-1]?r++:r=0,t.push({value:e[n],identifier:r});return t}function od(e){if(!Array.isArray(e))throw TypeError("Array input expected");if(0===e.length)return e;for(var t=[],r=0;r<e.length;r++)t.push(e[r].value);return t}function om(e,t){for(var r,n=0,i=0;i<e.length;i++){var a=e[i],o=Array.isArray(a);if(0===i&&o&&(n=a.length),o&&a.length!==n)return;var u=o?om(a,t):t(a);if(void 0===r)r=u;else if(r!==u)return"mixed"}return r}function og(){var e=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(1===e.length)return e[0];if(e.length>1)return e.slice(1).reduce(function(e,r){return function e(t,r,n,i){if(!(i<n))return t.concat(r);if(t.length!==r.length)throw new a9(t.length,r.length);for(var a=[],o=0;o<t.length;o++)a[o]=e(t[o],r[o],n,i+1);return a}(e,r,t,0)},e[0]);throw Error("Wrong number of arguments in function concat")}function ov(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=t.map(e=>e.length),i=Math.max(...n),a=Array(i).fill(null),o=0;o<t.length;o++)for(var u=t[o],s=n[o],l=0;l<s;l++){var c=i-s+l;u[l]>a[c]&&(a[c]=u[l])}for(var f=0;f<t.length;f++)oy(t[f],a);return a}function oy(e,t){for(var r=t.length,n=e.length,i=0;i<n;i++){var a=r-n+i;if(e[i]<t[a]&&e[i]>1||e[i]>t[a])throw Error("shape mismatch: mismatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(n," with size ").concat(e[i]," to size ").concat(t[a]))}}function ob(e,t){var n,i,a,o,u=oe(e);if(aA(u,t))return e;oy(u,t);var s=ov(u,t),l=s.length,c=[...Array(l-u.length).fill(1),...u],f=(n=e,r(iR)([],n));u.length<l&&(u=oe(f=oo(f,c)));for(var h=0;h<l;h++){u[h]<s[h]&&(u=oe((i=f,a=s[h],o=h,f=og(...Array(a).fill(i),o))))}return f}function oD(e,t){if(!Array.isArray(e))throw Error("Array expected");var r=oe(e);if(t.length!==r.length)throw new a9(t.length,r.length);for(var n=0;n<t.length;n++)on(t[n],r[n]);return t.reduce((e,t)=>e[t],e)}function ox(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===e.length)return[];if(r)return function e(r){if(!Array.isArray(r))return t(r);for(var n=r.length,i=Array(n),a=0;a<n;a++)i[a]=e(r[a]);return i}(e);var n=[];return function r(i,a){if(!Array.isArray(i))return t(i,n.slice(0,a),e);for(var o=i.length,u=Array(o),s=0;s<o;s++)n[a]=s,u[s]=r(i[s],a+1);return u}(e,0)}function o_(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0!==e.length){if(r){!function e(r){if(Array.isArray(r))for(var n=r.length,i=0;i<n;i++)e(r[i]);else t(r)}(e);return}var n=[];!function r(i,a){if(Array.isArray(i))for(var o=i.length,u=0;u<o;u++)n[a]=u,r(i[u],a+1);else t(i,n.slice(0,a),e)}(e,0)}}function ow(e){var t,r,n=e.length,i=e[0].length,a=[];for(r=0;r<i;r++){var o=[];for(t=0;t<n;t++)o.push(e[t][r]);a.push(o)}return a}function oE(e){for(var t=0;t<e.length;t++)if(i0(e[t]))return!0;return!1}function oA(e,t){iQ(e)?e.forEach(e=>t(e)):o_(e,t,!0)}function oC(e,t,r){if(!r)if(iQ(e))return e.map(e=>t(e));else return ox(e,t,!0);var n=e=>0===e?e:t(e);return iQ(e)?e.map(e=>n(e)):ox(e,n,!0)}function oN(e,t,r){var n=Array.isArray(e)?oe(e):e.size();if(t<0||t>=n.length)throw new aS(t,n.length);return iQ(e)?e.create(oM(e.valueOf(),t,r),e.datatype()):oM(e,t,r)}function oM(e,t,r){var n,i,a,o;if(t<=0)if(Array.isArray(e[0])){for(n=0,o=ow(e),i=[];n<o.length;n++)i[n]=oM(o[n],t-1,r);return i}else{for(n=1,a=e[0];n<e.length;n++)a=r(a,e[n]);return a}for(n=0,i=[];n<e.length;n++)i[n]=oM(e[n],t-1,r);return i}function oF(e,t,r,n,i,a,o,u,s,l,c){var f,h,p,d,m=e._values,g=e._index,v=e._ptr;if(n)for(h=v[t],p=v[t+1],f=h;f<p;f++)r[d=g[f]]!==a?(r[d]=a,o.push(d),l?(n[d]=s?u(m[f],c):u(c,m[f]),i[d]=a):n[d]=m[f]):(n[d]=s?u(m[f],n[d]):u(n[d],m[f]),i[d]=a);else for(h=v[t],p=v[t+1],f=h;f<p;f++)r[d=g[f]]!==a?(r[d]=a,o.push(d)):i[d]=a}a9.prototype=RangeError(),a9.prototype.constructor=RangeError,a9.prototype.name="DimensionError",a9.prototype.isDimensionError=!0;var oS="number",oT="number, number";function oB(e){return Math.abs(e)}function oO(e,t){return e+t}function oI(e,t){return e-t}function oz(e,t){return e*t}function oR(e){return-e}function ok(e){return e}function oP(e){return ak(e)}function oL(e){return e*e*e}function oq(e){return Math.exp(e)}function oU(e){return aP(e)}function oj(e,t){if(!aT(e)||!aT(t))throw Error("Parameters in function lcm must be integer numbers");if(0===e||0===t)return 0;for(var r,n=e*t;0!==t;)t=e%(r=t),e=r;return Math.abs(n/e)}function oH(e,t){return t?Math.log(e)/Math.log(t):Math.log(e)}function o$(e){return az(e)}function oV(e){return aI(e)}function oG(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=t<0;if(r&&(t=-t),0===t)throw Error("Root must be non-zero");if(e<0&&Math.abs(t)%2!=1)throw Error("Root must be odd when a is negative.");if(0===e)return r?1/0:0;if(!isFinite(e))return r?0:e;var n=Math.pow(Math.abs(e),1/t);return n=e<0?-n:n,r?1/n:n}function oW(e){return aO(e)}function oY(e){return e*e}function oZ(e,t){var r,n,i,a,o=0,u=1,s=1,l=0;if(!aT(e)||!aT(t))throw Error("Parameters in function xgcd must be integer numbers");for(;t;)n=Math.floor(e/t),i=e-n*t,r=o,o=u-n*o,u=r,r=s,s=l-n*s,l=r,e=t,t=i;return e<0?[-e,-u,-l]:[e,e?u:0,l]}function oJ(e,t){return e*e<1&&t===1/0||e*e>1&&t===-1/0?0:Math.pow(e,t)}function oX(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!aT(t)||t<0||t>15)throw Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(aH(e,t))}oB.signature=oS,oO.signature=oT,oI.signature=oT,oz.signature=oT,oR.signature=oS,ok.signature=oS,oP.signature=oS,oL.signature=oS,oq.signature=oS,oU.signature=oS,oj.signature=oT,o$.signature=oS,oV.signature=oS,oW.signature=oS,oY.signature=oS,oZ.signature=oT,oJ.signature=oT;var oK=aM("abs",["typed"],e=>{var{typed:t}=e;return t("abs",{number:oB,"Complex | BigNumber | Fraction | Unit":e=>e.abs(),bigint:e=>e<0n?-e:e,"Array | Matrix":t.referToSelf(e=>t=>oC(t,e,!0))})}),oQ="number";function o0(e){return Math.atan(1/e)}function o1(e){return isFinite(e)?(Math.log((e+1)/e)+Math.log(e/(e-1)))/2:0}function o2(e){return Math.asin(1/e)}function o8(e){var t=1/e;return Math.log(t+Math.sqrt(t*t+1))}function o3(e){return Math.acos(1/e)}function o5(e){var t=1/e;return Math.log(Math.sqrt(t*t-1)+t)}function o6(e){return aZ(e)}o0.signature=oQ,o1.signature=oQ,o2.signature=oQ,o8.signature=oQ,o3.signature=oQ,o5.signature=oQ,o6.signature=oQ;function o4(e){return 1/Math.tan(e)}function o7(e){var t=Math.exp(2*e);return(t+1)/(t-1)}function o9(e){return 1/Math.sin(e)}function ue(e){return 0===e?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(e)-Math.exp(-e)))*aO(e)}function ut(e){return 1/Math.cos(e)}function ur(e){return 2/(Math.exp(e)+Math.exp(-e))}function un(e){return aK(e)}o4.signature=oQ,o7.signature=oQ,o9.signature=oQ,ue.signature=oQ,ut.signature=oQ,ur.signature=oQ,un.signature=oQ;var ui=aM("matAlgo01xDSid",["typed"],e=>{var{typed:t}=e;return function(e,r,n,i){var a,o,u=e._data,s=e._size,l=e._datatype||e.getDataType(),c=r._values,f=r._index,h=r._ptr,p=r._size,d=r._datatype||void 0===r._data?r._datatype:r.getDataType();if(s.length!==p.length)throw new a9(s.length,p.length);if(s[0]!==p[0]||s[1]!==p[1])throw RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+p+")");if(!c)throw Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m=s[0],g=s[1],v="string"==typeof l&&"mixed"!==l&&l===d?l:void 0,y=v?t.find(n,[v,v]):n,b=[];for(a=0;a<m;a++)b[a]=[];var D=[],x=[];for(o=0;o<g;o++){for(var _=o+1,w=h[o],E=h[o+1],A=w;A<E;A++)D[a=f[A]]=i?y(c[A],u[a][o]):y(u[a][o],c[A]),x[a]=_;for(a=0;a<m;a++)x[a]===_?b[a][o]=D[a]:b[a][o]=u[a][o]}return e.createDenseMatrix({data:b,size:[m,g],datatype:l===e._datatype&&d===r._datatype?v:void 0})}}),ua=aM("matAlgo04xSidSid",["typed","equalScalar"],e=>{var{typed:t,equalScalar:r}=e;return function(e,n,i){var a,o,u,s,l,c,f=e._values,h=e._index,p=e._ptr,d=e._size,m=e._datatype||void 0===e._data?e._datatype:e.getDataType(),g=n._values,v=n._index,y=n._ptr,b=n._size,D=n._datatype||void 0===n._data?n._datatype:n.getDataType();if(d.length!==b.length)throw new a9(d.length,b.length);if(d[0]!==b[0]||d[1]!==b[1])throw RangeError("Dimension mismatch. Matrix A ("+d+") must match Matrix B ("+b+")");var x=d[0],_=d[1],w=r,E=0,A=i;"string"==typeof m&&m===D&&"mixed"!==m&&(a=m,w=t.find(r,[a,a]),E=t.convert(0,a),A=t.find(i,[a,a]));var C=f&&g?[]:void 0,N=[],M=[],F=f&&g?[]:void 0,S=f&&g?[]:void 0,T=[],B=[];for(u=0;u<_;u++){M[u]=N.length;var O=u+1;for(l=p[u],c=p[u+1],s=l;s<c;s++)o=h[s],N.push(o),T[o]=O,F&&(F[o]=f[s]);for(l=y[u],c=y[u+1],s=l;s<c;s++)if(T[o=v[s]]===O){if(F){var I=A(F[o],g[s]);w(I,E)?T[o]=null:F[o]=I}}else N.push(o),B[o]=O,S&&(S[o]=g[s]);if(F&&S)for(s=M[u];s<N.length;)T[o=N[s]]===O?(C[s]=F[o],s++):B[o]===O?(C[s]=S[o],s++):N.splice(s,1)}return M[_]=N.length,e.createSparseMatrix({values:C,index:N,ptr:M,size:[x,_],datatype:m===e._datatype&&D===n._datatype?a:void 0})}}),uo=aM("matAlgo10xSids",["typed","DenseMatrix"],e=>{var{typed:t,DenseMatrix:r}=e;return function(e,n,i,a){var o,u=e._values,s=e._index,l=e._ptr,c=e._size,f=e._datatype;if(!u)throw Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=c[0],p=c[1],d=i;"string"==typeof f&&(o=f,n=t.convert(n,o),d=t.find(i,[o,o]));for(var m=[],g=[],v=[],y=0;y<p;y++){for(var b=y+1,D=l[y],x=l[y+1],_=D;_<x;_++){var w=s[_];g[w]=u[_],v[w]=b}for(var E=0;E<h;E++)0===y&&(m[E]=[]),v[E]===b?m[E][y]=a?d(n,g[E]):d(g[E],n):m[E][y]=n}return new r({data:m,size:[h,p],datatype:o})}}),uu=aM("matAlgo13xDD",["typed"],e=>{var{typed:t}=e;return function(e,r,n){var i,a=e._data,o=e._size,u=e._datatype,s=r._data,l=r._size,c=r._datatype,f=[];if(o.length!==l.length)throw new a9(o.length,l.length);for(var h=0;h<o.length;h++){if(o[h]!==l[h])throw RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+l+")");f[h]=o[h]}var p=n;"string"==typeof u&&u===c&&(i=u,p=t.find(n,[i,i]));var d=f.length>0?function e(t,r,n,i,a,o){var u=[];if(r===n.length-1)for(var s=0;s<i;s++)u[s]=t(a[s],o[s]);else for(var l=0;l<i;l++)u[l]=e(t,r+1,n,n[r+1],a[l],o[l]);return u}(p,0,f,f[0],a,s):[];return e.createDenseMatrix({data:d,size:f,datatype:i})}}),us=aM("matAlgo14xDs",["typed"],e=>{var{typed:t}=e;return function(e,r,n,i){var a,o=e._data,u=e._size,s=e._datatype,l=n;"string"==typeof s&&(a=s,r=t.convert(r,a),l=t.find(n,[a,a]));var c=u.length>0?function e(t,r,n,i,a,o,u){var s=[];if(r===n.length-1)for(var l=0;l<i;l++)s[l]=u?t(o,a[l]):t(a[l],o);else for(var c=0;c<i;c++)s[c]=e(t,r+1,n,n[r+1],a[c],o,u);return s}(l,0,u,u[0],o,r,i):[];return e.createDenseMatrix({data:c,size:aw(u),datatype:a})}});function ul(e,t){if(aA(e.size(),t.size()))return[e,t];var r=ov(e.size(),t.size());return[e,t].map(e=>{var t,n;return t=e,n=r,aA(t.size(),n)?t:t.create(ob(t.valueOf(),n),t.datatype())})}var uc=aM("matrixAlgorithmSuite",["typed","matrix"],e=>{var{typed:t,matrix:r}=e,n=uu({typed:t}),i=us({typed:t});return function(e){var a,o=e.elop,u=e.SD||e.DS;o?(a={"DenseMatrix, DenseMatrix":(e,t)=>n(...ul(e,t),o),"Array, Array":(e,t)=>n(...ul(r(e),r(t)),o).valueOf(),"Array, DenseMatrix":(e,t)=>n(...ul(r(e),t),o),"DenseMatrix, Array":(e,t)=>n(...ul(e,r(t)),o)},e.SS&&(a["SparseMatrix, SparseMatrix"]=(t,r)=>e.SS(...ul(t,r),o,!1)),e.DS&&(a["DenseMatrix, SparseMatrix"]=(t,r)=>e.DS(...ul(t,r),o,!1),a["Array, SparseMatrix"]=(t,n)=>e.DS(...ul(r(t),n),o,!1)),u&&(a["SparseMatrix, DenseMatrix"]=(e,t)=>u(...ul(t,e),o,!0),a["SparseMatrix, Array"]=(e,t)=>u(...ul(r(t),e),o,!0))):(a={"DenseMatrix, DenseMatrix":t.referToSelf(e=>(t,r)=>n(...ul(t,r),e)),"Array, Array":t.referToSelf(e=>(t,i)=>n(...ul(r(t),r(i)),e).valueOf()),"Array, DenseMatrix":t.referToSelf(e=>(t,i)=>n(...ul(r(t),i),e)),"DenseMatrix, Array":t.referToSelf(e=>(t,i)=>n(...ul(t,r(i)),e))},e.SS&&(a["SparseMatrix, SparseMatrix"]=t.referToSelf(t=>(r,n)=>e.SS(...ul(r,n),t,!1))),e.DS&&(a["DenseMatrix, SparseMatrix"]=t.referToSelf(t=>(r,n)=>e.DS(...ul(r,n),t,!1)),a["Array, SparseMatrix"]=t.referToSelf(t=>(n,i)=>e.DS(...ul(r(n),i),t,!1))),u&&(a["SparseMatrix, DenseMatrix"]=t.referToSelf(e=>(t,r)=>u(...ul(r,t),e,!0)),a["SparseMatrix, Array"]=t.referToSelf(e=>(t,n)=>u(...ul(r(n),t),e,!0))));var s=e.scalar||"any";(e.Ds||e.Ss)&&(o?(a["DenseMatrix,"+s]=(e,t)=>i(e,t,o,!1),a[s+", DenseMatrix"]=(e,t)=>i(t,e,o,!0),a["Array,"+s]=(e,t)=>i(r(e),t,o,!1).valueOf(),a[s+", Array"]=(e,t)=>i(r(t),e,o,!0).valueOf()):(a["DenseMatrix,"+s]=t.referToSelf(e=>(t,r)=>i(t,r,e,!1)),a[s+", DenseMatrix"]=t.referToSelf(e=>(t,r)=>i(r,t,e,!0)),a["Array,"+s]=t.referToSelf(e=>(t,n)=>i(r(t),n,e,!1).valueOf()),a[s+", Array"]=t.referToSelf(e=>(t,n)=>i(r(n),t,e,!0).valueOf())));var l=void 0!==e.sS?e.sS:e.Ss;return o?(e.Ss&&(a["SparseMatrix,"+s]=(t,r)=>e.Ss(t,r,o,!1)),l&&(a[s+", SparseMatrix"]=(e,t)=>l(t,e,o,!0))):(e.Ss&&(a["SparseMatrix,"+s]=t.referToSelf(t=>(r,n)=>e.Ss(r,n,t,!1))),l&&(a[s+", SparseMatrix"]=t.referToSelf(e=>(t,r)=>l(r,t,e,!0)))),o&&o.signatures&&aE(a,o.signatures),a}}),uf=aM("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],e=>{var{typed:t,matrix:r,addScalar:n,equalScalar:i,DenseMatrix:a,SparseMatrix:o,concat:u}=e,s=ui({typed:t}),l=ua({typed:t,equalScalar:i}),c=uo({typed:t,DenseMatrix:a}),f=uc({typed:t,matrix:r,concat:u});return t("add",{"any, any":n,"any, any, ...any":t.referToSelf(e=>(t,r,n)=>{for(var i=e(t,r),a=0;a<n.length;a++)i=e(i,n[a]);return i})},f({elop:n,DS:s,SS:l,Ss:c}))}),uh="addScalar",up=aM(uh,["typed"],e=>{var{typed:t}=e;return t(uh,{"number, number":oO,"Complex, Complex":function(e,t){return e.add(t)},"BigNumber, BigNumber":function(e,t){return e.plus(t)},"bigint, bigint":function(e,t){return e+t},"Fraction, Fraction":function(e,t){return e.add(t)},"Unit, Unit":t.referToSelf(e=>(r,n)=>{if(null===r.value||void 0===r.value)throw Error("Parameter x contains a unit with undefined value");if(null===n.value||void 0===n.value)throw Error("Parameter y contains a unit with undefined value");if(!r.equalBase(n))throw Error("Units do not match");var i=r.clone();return i.value=t.find(e,[i.valueType(),n.valueType()])(i.value,n.value),i.fixPrefix=!1,i})})}),ud=aM("matAlgo02xDS0",["typed","equalScalar"],e=>{var{typed:t,equalScalar:r}=e;return function(e,n,i,a){var o,u=e._data,s=e._size,l=e._datatype||e.getDataType(),c=n._values,f=n._index,h=n._ptr,p=n._size,d=n._datatype||void 0===n._data?n._datatype:n.getDataType();if(s.length!==p.length)throw new a9(s.length,p.length);if(s[0]!==p[0]||s[1]!==p[1])throw RangeError("Dimension mismatch. Matrix A ("+s+") must match Matrix B ("+p+")");if(!c)throw Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m=s[0],g=s[1],v=r,y=0,b=i;"string"==typeof l&&l===d&&"mixed"!==l&&(o=l,v=t.find(r,[o,o]),y=t.convert(0,o),b=t.find(i,[o,o]));for(var D=[],x=[],_=[],w=0;w<g;w++){_[w]=x.length;for(var E=h[w],A=h[w+1],C=E;C<A;C++){var N=f[C],M=a?b(c[C],u[N][w]):b(u[N][w],c[C]);v(M,y)||(x.push(N),D.push(M))}}return _[g]=x.length,n.createSparseMatrix({values:D,index:x,ptr:_,size:[m,g],datatype:l===e._datatype&&d===n._datatype?o:void 0})}}),um=aM("matAlgo11xS0s",["typed","equalScalar"],e=>{var{typed:t,equalScalar:r}=e;return function(e,n,i,a){var o,u=e._values,s=e._index,l=e._ptr,c=e._size,f=e._datatype;if(!u)throw Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=c[0],p=c[1],d=r,m=0,g=i;"string"==typeof f&&(o=f,d=t.find(r,[o,o]),m=t.convert(0,o),n=t.convert(n,o),g=t.find(i,[o,o]));for(var v=[],y=[],b=[],D=0;D<p;D++){b[D]=y.length;for(var x=l[D],_=l[D+1],w=x;w<_;w++){var E=s[w],A=a?g(n,u[w]):g(u[w],n);d(A,m)||(y.push(E),v.push(A))}}return b[p]=y.length,e.createSparseMatrix({values:v,index:y,ptr:b,size:[h,p],datatype:o})}}),ug=aM("matAlgo06xS0S0",["typed","equalScalar"],e=>{var{typed:t,equalScalar:r}=e;return function(e,n,i){var a,o=e._values,u=e._size,s=e._datatype||void 0===e._data?e._datatype:e.getDataType(),l=n._values,c=n._size,f=n._datatype||void 0===n._data?n._datatype:n.getDataType();if(u.length!==c.length)throw new a9(u.length,c.length);if(u[0]!==c[0]||u[1]!==c[1])throw RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+c+")");var h=u[0],p=u[1],d=r,m=0,g=i;"string"==typeof s&&s===f&&"mixed"!==s&&(a=s,d=t.find(r,[a,a]),m=t.convert(0,a),g=t.find(i,[a,a]));for(var v=o&&l?[]:void 0,y=[],b=[],D=v?[]:void 0,x=[],_=[],w=0;w<p;w++){b[w]=y.length;var E=w+1;if(oF(e,w,x,D,_,E,y,g),oF(n,w,x,D,_,E,y,g),D)for(var A=b[w];A<y.length;){var C=y[A];if(_[C]===E){var N=D[C];d(N,m)?y.splice(A,1):(v.push(N),A++)}else y.splice(A,1)}else for(var M=b[w];M<y.length;)_[y[M]]!==E?y.splice(M,1):M++}return b[p]=y.length,e.createSparseMatrix({values:v,index:y,ptr:b,size:[h,p],datatype:s===e._datatype&&f===n._datatype?a:void 0})}}),uv="number, number";function uy(e){return!e}function ub(e,t){return!!(e||t)}function uD(e,t){return!!e!=!!t}function ux(e,t){return!!(e&&t)}uy.signature="number",ub.signature=uv,uD.signature=uv,ux.signature=uv;var u_=aM("atan",["typed"],e=>{var{typed:t}=e;return t("atan",{number:function(e){return Math.atan(e)},Complex:function(e){return e.atan()},BigNumber:function(e){return e.atan()}})}),uw=aM("matAlgo03xDSf",["typed"],e=>{var{typed:t}=e;return function(e,r,n,i){var a,o=e._data,u=e._size,s=e._datatype||e.getDataType(),l=r._values,c=r._index,f=r._ptr,h=r._size,p=r._datatype||void 0===r._data?r._datatype:r.getDataType();if(u.length!==h.length)throw new a9(u.length,h.length);if(u[0]!==h[0]||u[1]!==h[1])throw RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+h+")");if(!l)throw Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var d=u[0],m=u[1],g=0,v=n;"string"==typeof s&&s===p&&"mixed"!==s&&(a=s,g=t.convert(0,a),v=t.find(n,[a,a]));for(var y=[],b=0;b<d;b++)y[b]=[];for(var D=[],x=[],_=0;_<m;_++){for(var w=_+1,E=f[_],A=f[_+1],C=E;C<A;C++){var N=c[C];D[N]=i?v(l[C],o[N][_]):v(o[N][_],l[C]),x[N]=w}for(var M=0;M<d;M++)x[M]===w?y[M][_]=D[M]:y[M][_]=i?v(g,o[M][_]):v(o[M][_],g)}return e.createDenseMatrix({data:y,size:[d,m],datatype:s===e._datatype&&p===r._datatype?a:void 0})}}),uE=aM("matAlgo09xS0Sf",["typed","equalScalar"],e=>{var{typed:t,equalScalar:r}=e;return function(e,n,i){var a,o,u,s,l,c,f=e._values,h=e._index,p=e._ptr,d=e._size,m=e._datatype||void 0===e._data?e._datatype:e.getDataType(),g=n._values,v=n._index,y=n._ptr,b=n._size,D=n._datatype||void 0===n._data?n._datatype:n.getDataType();if(d.length!==b.length)throw new a9(d.length,b.length);if(d[0]!==b[0]||d[1]!==b[1])throw RangeError("Dimension mismatch. Matrix A ("+d+") must match Matrix B ("+b+")");var x=d[0],_=d[1],w=r,E=0,A=i;"string"==typeof m&&m===D&&"mixed"!==m&&(a=m,w=t.find(r,[a,a]),E=t.convert(0,a),A=t.find(i,[a,a]));var C=f&&g?[]:void 0,N=[],M=[],F=C?[]:void 0,S=[];for(u=0;u<_;u++){M[u]=N.length;var T=u+1;if(F)for(l=y[u],c=y[u+1],s=l;s<c;s++)S[o=v[s]]=T,F[o]=g[s];for(l=p[u],c=p[u+1],s=l;s<c;s++)if(o=h[s],F){var B=S[o]===T?F[o]:E,O=A(f[s],B);w(O,E)||(N.push(o),C.push(O))}else N.push(o)}return M[_]=N.length,e.createSparseMatrix({values:C,index:N,ptr:M,size:[x,_],datatype:m===e._datatype&&D===n._datatype?a:void 0})}}),uA=aM("matAlgo12xSfs",["typed","DenseMatrix"],e=>{var{typed:t,DenseMatrix:r}=e;return function(e,n,i,a){var o,u=e._values,s=e._index,l=e._ptr,c=e._size,f=e._datatype;if(!u)throw Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=c[0],p=c[1],d=i;"string"==typeof f&&(o=f,n=t.convert(n,o),d=t.find(i,[o,o]));for(var m=[],g=[],v=[],y=0;y<p;y++){for(var b=y+1,D=l[y],x=l[y+1],_=D;_<x;_++){var w=s[_];g[w]=u[_],v[w]=b}for(var E=0;E<h;E++)0===y&&(m[E]=[]),v[E]===b?m[E][y]=a?d(n,g[E]):d(g[E],n):m[E][y]=a?d(n,0):d(0,n)}return new r({data:m,size:[h,p],datatype:o})}});function uC(e,t){return aM(e,["config","BigNumber"],e=>{var{config:r,BigNumber:n}=e;return"BigNumber"===r.number?new n(t):t})}uC("fineStructure",.0072973525693),uC("weakMixingAngle",.2229),uC("efimovFactor",22.7),uC("sackurTetrode",-1.16487052358);var uN=aM("bignumber",["typed","BigNumber"],e=>{var{typed:t,BigNumber:r}=e;return t("bignumber",{"":function(){return new r(0)},number:function(e){return new r(e+"")},string:function(e){var t=e.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(t){var n=t[2],i=r(t[1]),a=new r(2).pow(Number(n));if(i.gt(a.sub(1)))throw SyntaxError('String "'.concat(e,'" is out of range'));var o=new r(2).pow(Number(n)-1);return i.gte(o)?i.sub(a):i}return new r(e)},BigNumber:function(e){return e},bigint:function(e){return new r(e.toString())},Unit:t.referToSelf(e=>t=>{var r=t.clone();return r.value=e(t.value),r}),Fraction:function(e){return new r(String(e.n)).div(String(e.d)).times(String(e.s))},null:function(e){return new r(0)},"Array | Matrix":t.referToSelf(e=>t=>oC(t,e))})}),uM={};!function(e){var t,r,n,i,a="0123456789abcdef",o="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",u="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",s={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:9e15,crypto:!1},l=!0,c="[DecimalError] ",f=c+"Invalid argument: ",h=c+"Precision limit exceeded",p=c+"crypto unavailable",d="[object Decimal]",m=Math.floor,g=Math.pow,v=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,y=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,b=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,D=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,x=o.length-1,_=u.length-1,w={toStringTag:d};function E(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)(r=7-(n=e[t]+"").length)&&(a+=z(r)),a+=n;(r=7-(n=(o=e[t])+"").length)&&(a+=z(r))}else if(0===o)return"0";for(;o%10==0;)o/=10;return a+o}function A(e,t,r){if(e!==~~e||e<t||e>r)throw Error(f+e)}function C(e,t,r,n){var i,a,o,u;for(a=e[0];a>=10;a/=10)--t;return--t<0?(t+=7,i=0):(i=Math.ceil((t+1)/7),t%=7),a=g(10,7-t),u=e[i]%a|0,null==n?t<3?(0==t?u=u/100|0:1==t&&(u=u/10|0),o=r<4&&99999==u||r>3&&49999==u||5e4==u||0==u):o=(r<4&&u+1==a||r>3&&u+1==a/2)&&(e[i+1]/a/100|0)==g(10,t-2)-1||(u==a/2||0==u)&&(e[i+1]/a/100|0)==0:t<4?(0==t?u=u/1e3|0:1==t?u=u/100|0:2==t&&(u=u/10|0),o=(n||r<4)&&9999==u||!n&&r>3&&4999==u):o=((n||r<4)&&u+1==a||!n&&r>3&&u+1==a/2)&&(e[i+1]/a/1e3|0)==g(10,t-3)-1,o}function N(e,t,r){for(var n,i,o=[0],u=0,s=e.length;u<s;){for(i=o.length;i--;)o[i]*=t;for(o[0]+=a.indexOf(e.charAt(u++)),n=0;n<o.length;n++)o[n]>r-1&&(void 0===o[n+1]&&(o[n+1]=0),o[n+1]+=o[n]/r|0,o[n]%=r)}return o.reverse()}w.absoluteValue=w.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),F(e)},w.ceil=function(){return F(new this.constructor(this),this.e+1,2)},w.clampedTo=w.clamp=function(e,t){var r=this.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(f+t);return 0>this.cmp(e)?e:this.cmp(t)>0?t:new r(this)},w.comparedTo=w.cmp=function(e){var t,r,n,i,a=this.d,o=(e=new this.constructor(e)).d,u=this.s,s=e.s;if(!a||!o)return u&&s?u!==s?u:a===o?0:!a^u<0?1:-1:NaN;if(!a[0]||!o[0])return a[0]?u:o[0]?-s:0;if(u!==s)return u;if(this.e!==e.e)return this.e>e.e^u<0?1:-1;for(t=0,r=(n=a.length)<(i=o.length)?n:i;t<r;++t)if(a[t]!==o[t])return a[t]>o[t]^u<0?1:-1;return n===i?0:n>i^u<0?1:-1},w.cosine=w.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(e,t){var r,n,i;if(t.isZero())return t;(n=t.d.length)<32?i=(1/$(4,r=Math.ceil(n/3))).toString():(r=16,i="2.3283064365386962890625e-10"),e.precision+=r,t=H(e,1,t.times(i),new e(1));for(var a=r;a--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=r,t}(n,V(n,r)),n.precision=e,n.rounding=t,F(2==i||3==i?r.neg():r,e,t,!0)):new n(1):new n(NaN)},w.cubeRoot=w.cbrt=function(){var e,t,r,n,i,a,o,u,s,c,f=this.constructor;if(!this.isFinite()||this.isZero())return new f(this);for(l=!1,(a=this.s*g(this.s*this,1/3))&&Math.abs(a)!=1/0?n=new f(a.toString()):(r=E(this.d),(a=((e=this.e)-r.length+1)%3)&&(r+=1==a||-2==a?"0":"00"),a=g(r,1/3),e=m((e+1)/3)-(e%3==(e<0?-1:2)),(n=new f(r=a==1/0?"5e"+e:(r=a.toExponential()).slice(0,r.indexOf("e")+1)+e)).s=this.s),o=(e=f.precision)+3;;)if(n=M((c=(s=(u=n).times(u).times(u)).plus(this)).plus(this).times(u),c.plus(s),o+2,1),E(u.d).slice(0,o)===(r=E(n.d)).slice(0,o)){if("9999"!=(r=r.slice(o-3,o+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(F(n,e+1,1),t=!n.times(n).times(n).eq(this));break}if(!i&&(F(u,e+1,0),u.times(u).times(u).eq(this))){n=u;break}o+=4,i=1}return l=!0,F(n,e,f.rounding,t)},w.decimalPlaces=w.dp=function(){var e,t=this.d,r=NaN;if(t){if(r=((e=t.length-1)-m(this.e/7))*7,e=t[e])for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r},w.dividedBy=w.div=function(e){return M(this,new this.constructor(e))},w.dividedToIntegerBy=w.divToInt=function(e){var t=this.constructor;return F(M(this,new t(e),0,1,1),t.precision,t.rounding)},w.equals=w.eq=function(e){return 0===this.cmp(e)},w.floor=function(){return F(new this.constructor(this),this.e+1,3)},w.greaterThan=w.gt=function(e){return this.cmp(e)>0},w.greaterThanOrEqualTo=w.gte=function(e){var t=this.cmp(e);return 1==t||0===t},w.hyperbolicCosine=w.cosh=function(){var e,t,r,n,i,a=this,o=a.constructor,u=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return u;r=o.precision,n=o.rounding,o.precision=r+Math.max(a.e,a.sd())+4,o.rounding=1,(i=a.d.length)<32?t=(1/$(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),a=H(o,1,a.times(t),new o(1),!0);for(var s,l=e,c=new o(8);l--;)s=a.times(a),a=u.minus(s.times(c.minus(s.times(c))));return F(a,o.precision=r,o.rounding=n,!0)},w.hyperbolicSine=w.sinh=function(){var e,t,r,n,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(t=a.precision,r=a.rounding,a.precision=t+Math.max(i.e,i.sd())+4,a.rounding=1,(n=i.d.length)<3)i=H(a,2,i,i,!0);else{e=(e=1.4*Math.sqrt(n))>16?16:0|e,i=H(a,2,i=i.times(1/$(5,e)),i,!0);for(var o,u=new a(5),s=new a(16),l=new a(20);e--;)o=i.times(i),i=i.times(u.plus(o.times(s.times(o).plus(l))))}return a.precision=t,a.rounding=r,F(i,t,r,!0)},w.hyperbolicTangent=w.tanh=function(){var e,t,r=this.constructor;return this.isFinite()?this.isZero()?new r(this):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,M(this.sinh(),this.cosh(),r.precision=e,r.rounding=t)):new r(this.s)},w.inverseCosine=w.acos=function(){var e=this,t=e.constructor,r=e.abs().cmp(1),n=t.precision,i=t.rounding;return -1!==r?0===r?e.isNeg()?O(t,n,i):new t(0):new t(NaN):e.isZero()?O(t,n+4,i).times(.5):(t.precision=n+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=n,t.rounding=i,e.times(2))},w.inverseHyperbolicCosine=w.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,l=!1,r=r.times(r).minus(1).sqrt().plus(r),l=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)},w.inverseHyperbolicSine=w.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,l=!1,r=r.times(r).plus(1).sqrt().plus(r),l=!0,n.precision=e,n.rounding=t,r.ln())},w.inverseHyperbolicTangent=w.atanh=function(){var e,t,r,n,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=a.precision,t=a.rounding,Math.max(n=i.sd(),e)<-(2*i.e)-1)?F(new a(i),e,t,!0):(a.precision=r=n-i.e,i=M(i.plus(1),new a(1).minus(i),r+e,1),a.precision=e+4,a.rounding=1,i=i.ln(),a.precision=e,a.rounding=t,i.times(.5)):new a(NaN)},w.inverseSine=w.asin=function(){var e,t,r,n,i=this,a=i.constructor;return i.isZero()?new a(i):(t=i.abs().cmp(1),r=a.precision,n=a.rounding,-1!==t)?0===t?((e=O(a,r+4,n).times(.5)).s=i.s,e):new a(NaN):(a.precision=r+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=r,a.rounding=n,i.times(2))},w.inverseTangent=w.atan=function(){var e,t,r,n,i,a,o,u,s,c=this,f=c.constructor,h=f.precision,p=f.rounding;if(c.isFinite()){if(c.isZero())return new f(c);else if(c.abs().eq(1)&&h+4<=_)return(o=O(f,h+4,p).times(.25)).s=c.s,o}else{if(!c.s)return new f(NaN);if(h+4<=_)return(o=O(f,h+4,p).times(.5)).s=c.s,o}for(f.precision=u=h+10,f.rounding=1,e=r=Math.min(28,u/7+2|0);e;--e)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(l=!1,t=Math.ceil(u/7),n=1,s=c.times(c),o=new f(c),i=c;-1!==e;)if(i=i.times(s),a=o.minus(i.div(n+=2)),i=i.times(s),void 0!==(o=a.plus(i.div(n+=2))).d[t])for(e=t;o.d[e]===a.d[e]&&e--;);return r&&(o=o.times(2<<r-1)),l=!0,F(o,f.precision=h,f.rounding=p,!0)},w.isFinite=function(){return!!this.d},w.isInteger=w.isInt=function(){return!!this.d&&m(this.e/7)>this.d.length-2},w.isNaN=function(){return!this.s},w.isNegative=w.isNeg=function(){return this.s<0},w.isPositive=w.isPos=function(){return this.s>0},w.isZero=function(){return!!this.d&&0===this.d[0]},w.lessThan=w.lt=function(e){return 0>this.cmp(e)},w.lessThanOrEqualTo=w.lte=function(e){return 1>this.cmp(e)},w.logarithm=w.log=function(e){var t,r,n,i,a,o,u,s,c=this.constructor,f=c.precision,h=c.rounding;if(null==e)e=new c(10),t=!0;else{if(r=(e=new c(e)).d,e.s<0||!r||!r[0]||e.eq(1))return new c(NaN);t=e.eq(10)}if(r=this.d,this.s<0||!r||!r[0]||this.eq(1))return new c(r&&!r[0]?-1/0:1!=this.s?NaN:r?0:1/0);if(t)if(r.length>1)a=!0;else{for(i=r[0];i%10==0;)i/=10;a=1!==i}if(l=!1,C((s=M(o=q(this,u=f+5),t?B(c,u+10):q(e,u),u,1)).d,i=f,h))do if(u+=10,s=M(o=q(this,u),t?B(c,u+10):q(e,u),u,1),!a){+E(s.d).slice(i+1,i+15)+1==1e14&&(s=F(s,f+1,0));break}while(C(s.d,i+=10,h))return l=!0,F(s,f,h)},w.minus=w.sub=function(e){var t,r,n,i,a,o,u,s,c,f,h,p,d=this.constructor;if(e=new d(e),!this.d||!e.d)return this.s&&e.s?this.d?e.s=-e.s:e=new d(e.d||this.s!==e.s?this:NaN):e=new d(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.plus(e);if(c=this.d,p=e.d,u=d.precision,s=d.rounding,!c[0]||!p[0]){if(p[0])e.s=-e.s;else{if(!c[0])return new d(3===s?-0:0);e=new d(this)}return l?F(e,u,s):e}if(r=m(e.e/7),f=m(this.e/7),c=c.slice(),a=f-r){for((h=a<0)?(t=c,a=-a,o=p.length):(t=p,r=f,o=c.length),a>(n=Math.max(Math.ceil(u/7),o)+2)&&(a=n,t.length=1),t.reverse(),n=a;n--;)t.push(0);t.reverse()}else{for((h=(n=c.length)<(o=p.length))&&(o=n),n=0;n<o;n++)if(c[n]!=p[n]){h=c[n]<p[n];break}a=0}for(h&&(t=c,c=p,p=t,e.s=-e.s),o=c.length,n=p.length-o;n>0;--n)c[o++]=0;for(n=p.length;n>a;){if(c[--n]<p[n]){for(i=n;i&&0===c[--i];)c[i]=1e7-1;--c[i],c[n]+=1e7}c[n]-=p[n]}for(;0===c[--o];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(e.d=c,e.e=T(c,r),l?F(e,u,s):e):new d(3===s?-0:0)},w.modulo=w.mod=function(e){var t,r=this.constructor;return(e=new r(e),this.d&&e.s&&(!e.d||e.d[0]))?e.d&&(!this.d||this.d[0])?(l=!1,9==r.modulo?(t=M(this,e.abs(),0,3,1),t.s*=e.s):t=M(this,e,0,r.modulo,1),t=t.times(e),l=!0,this.minus(t)):F(new r(this),r.precision,r.rounding):new r(NaN)},w.naturalExponential=w.exp=function(){return L(this)},w.naturalLogarithm=w.ln=function(){return q(this)},w.negated=w.neg=function(){var e=new this.constructor(this);return e.s=-e.s,F(e)},w.plus=w.add=function(e){var t,r,n,i,a,o,u,s,c,f,h=this.constructor;if(e=new h(e),!this.d||!e.d)return this.s&&e.s?this.d||(e=new h(e.d||this.s===e.s?this:NaN)):e=new h(NaN),e;if(this.s!=e.s)return e.s=-e.s,this.minus(e);if(c=this.d,f=e.d,u=h.precision,s=h.rounding,!c[0]||!f[0])return f[0]||(e=new h(this)),l?F(e,u,s):e;if(a=m(this.e/7),n=m(e.e/7),c=c.slice(),i=a-n){for(i<0?(r=c,i=-i,o=f.length):(r=f,n=a,o=c.length),i>(o=(a=Math.ceil(u/7))>o?a+1:o+1)&&(i=o,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((o=c.length)-(i=f.length)<0&&(i=o,r=f,f=c,c=r),t=0;i;)t=(c[--i]=c[i]+f[i]+t)/1e7|0,c[i]%=1e7;for(t&&(c.unshift(t),++n),o=c.length;0==c[--o];)c.pop();return e.d=c,e.e=T(c,n),l?F(e,u,s):e},w.precision=w.sd=function(e){var t;if(void 0!==e&&!!e!==e&&1!==e&&0!==e)throw Error(f+e);return this.d?(t=I(this.d),e&&this.e+1>t&&(t=this.e+1)):t=NaN,t},w.round=function(){var e=this.constructor;return F(new e(this),this.e+1,e.rounding)},w.sine=w.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+7,n.rounding=1,r=function(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:H(e,2,t,t);r=(r=1.4*Math.sqrt(n))>16?16:0|r,t=H(e,2,t=t.times(1/$(5,r)),t);for(var i,a=new e(5),o=new e(16),u=new e(20);r--;)i=t.times(t),t=t.times(a.plus(i.times(o.times(i).minus(u))));return t}(n,V(n,r)),n.precision=e,n.rounding=t,F(i>2?r.neg():r,e,t,!0)):new n(NaN)},w.squareRoot=w.sqrt=function(){var e,t,r,n,i,a,o=this.d,u=this.e,s=this.s,c=this.constructor;if(1!==s||!o||!o[0])return new c(!s||s<0&&(!o||o[0])?NaN:o?this:1/0);for(l=!1,0==(s=Math.sqrt(+this))||s==1/0?(((t=E(o)).length+u)%2==0&&(t+="0"),s=Math.sqrt(t),u=m((u+1)/2)-(u<0||u%2),n=new c(t=s==1/0?"5e"+u:(t=s.toExponential()).slice(0,t.indexOf("e")+1)+u)):n=new c(s.toString()),r=(u=c.precision)+3;;)if(n=(a=n).plus(M(this,a,r+2,1)).times(.5),E(a.d).slice(0,r)===(t=E(n.d)).slice(0,r)){if("9999"!=(t=t.slice(r-3,r+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(F(n,u+1,1),e=!n.times(n).eq(this));break}if(!i&&(F(a,u+1,0),a.times(a).eq(this))){n=a;break}r+=4,i=1}return l=!0,F(n,u,c.rounding,e)},w.tangent=w.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,(r=r.sin()).s=1,r=M(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,F(2==i||4==i?r.neg():r,e,t,!0)):new n(NaN)},w.times=w.mul=function(e){var t,r,n,i,a,o,u,s,c,f=this.constructor,h=this.d,p=(e=new f(e)).d;if(e.s*=this.s,!h||!h[0]||!p||!p[0])return new f(e.s&&(!h||h[0]||p)&&(!p||p[0]||h)?h&&p?0*e.s:e.s/0:NaN);for(r=m(this.e/7)+m(e.e/7),(s=h.length)<(c=p.length)&&(a=h,h=p,p=a,o=s,s=c,c=o),a=[],n=o=s+c;n--;)a.push(0);for(n=c;--n>=0;){for(t=0,i=s+n;i>n;)u=a[i]+p[n]*h[i-n-1]+t,a[i--]=u%1e7|0,t=u/1e7|0;a[i]=(a[i]+t)%1e7|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=T(a,r),l?F(e,f.precision,f.rounding):e},w.toBinary=function(e,t){return G(this,2,e,t)},w.toDecimalPlaces=w.toDP=function(e,t){var r=this,n=r.constructor;return(r=new n(r),void 0===e)?r:(A(e,0,1e9),void 0===t?t=n.rounding:A(t,0,8),F(r,e+r.e+1,t))},w.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=S(n,!0):(A(e,0,1e9),void 0===t?t=i.rounding:A(t,0,8),r=S(n=F(new i(n),e+1,t),!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r},w.toFixed=function(e,t){var r,n,i=this.constructor;return void 0===e?r=S(this):(A(e,0,1e9),void 0===t?t=i.rounding:A(t,0,8),r=S(n=F(new i(this),e+this.e+1,t),!1,e+n.e+1)),this.isNeg()&&!this.isZero()?"-"+r:r},w.toFraction=function(e){var t,r,n,i,a,o,u,s,c,h,p,d,m=this.d,v=this.constructor;if(!m)return new v(this);if(c=r=new v(1),n=s=new v(0),o=(a=(t=new v(n)).e=I(m)-this.e-1)%7,t.d[0]=g(10,o<0?7+o:o),null==e)e=a>0?t:c;else{if(!(u=new v(e)).isInt()||u.lt(c))throw Error(f+u);e=u.gt(t)?a>0?t:c:u}for(l=!1,u=new v(E(m)),h=v.precision,v.precision=a=7*m.length*2;p=M(u,t,0,1,1),1!=(i=r.plus(p.times(n))).cmp(e);)r=n,n=i,i=c,c=s.plus(p.times(i)),s=i,i=t,t=u.minus(p.times(i)),u=i;return i=M(e.minus(r),n,0,1,1),s=s.plus(i.times(c)),r=r.plus(i.times(n)),s.s=c.s=this.s,d=1>M(c,n,a,1).minus(this).abs().cmp(M(s,r,a,1).minus(this).abs())?[c,n]:[s,r],v.precision=h,l=!0,d},w.toHexadecimal=w.toHex=function(e,t){return G(this,16,e,t)},w.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),null==e){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),void 0===t?t=n.rounding:A(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(l=!1,r=M(r,e,0,t,1).times(e),l=!0,F(r)):(e.s=r.s,r=e),r},w.toNumber=function(){return+this},w.toOctal=function(e,t){return G(this,8,e,t)},w.toPower=w.pow=function(e){var t,r,n,i,a,o,u=this,s=u.constructor,c=+(e=new s(e));if(!u.d||!e.d||!u.d[0]||!e.d[0])return new s(g(+u,c));if((u=new s(u)).eq(1))return u;if(n=s.precision,a=s.rounding,e.eq(1))return F(u,n,a);if((t=m(e.e/7))>=e.d.length-1&&(r=c<0?-c:c)<=0x1fffffffffffff)return i=R(s,u,r,n),e.s<0?new s(1).div(i):F(i,n,a);if((o=u.s)<0){if(t<e.d.length-1)return new s(NaN);if((1&e.d[t])==0&&(o=1),0==u.e&&1==u.d[0]&&1==u.d.length)return u.s=o,u}return(t=0!=(r=g(+u,c))&&isFinite(r)?new s(r+"").e:m(c*(Math.log("0."+E(u.d))/Math.LN10+u.e+1)))>s.maxE+1||t<s.minE-1?new s(t>0?o/0:0):(l=!1,s.rounding=u.s=1,r=Math.min(12,(t+"").length),(i=L(e.times(q(u,n+r)),n)).d&&C((i=F(i,n+5,1)).d,n,a)&&(t=n+10,+E((i=F(L(e.times(q(u,t+r)),t),t+5,1)).d).slice(n+1,n+15)+1==1e14&&(i=F(i,n+1,0))),i.s=o,l=!0,s.rounding=a,F(i,n,a))},w.toPrecision=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=S(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(A(e,1,1e9),void 0===t?t=i.rounding:A(t,0,8),r=S(n=F(new i(n),e,t),e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r},w.toSignificantDigits=w.toSD=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(A(e,1,1e9),void 0===t?t=r.rounding:A(t,0,8)),F(new r(this),e,t)},w.toString=function(){var e=this.constructor,t=S(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()&&!this.isZero()?"-"+t:t},w.truncated=w.trunc=function(){return F(new this.constructor(this),this.e+1,1)},w.valueOf=w.toJSON=function(){var e=this.constructor,t=S(this,this.e<=e.toExpNeg||this.e>=e.toExpPos);return this.isNeg()?"-"+t:t};var M=function(){function e(e,t,r){var n,i=0,a=e.length;for(e=e.slice();a--;)n=e[a]*t+i,e[a]=n%r|0,i=n/r|0;return i&&e.unshift(i),e}function t(e,t,r,n){var i,a;if(r!=n)a=r>n?1:-1;else for(i=a=0;i<r;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function n(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=+(e[r]<t[r]),e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(i,a,o,u,s,l){var c,f,h,p,d,g,v,y,b,D,x,_,w,E,A,C,N,M,S,T,B=i.constructor,O=i.s==a.s?1:-1,I=i.d,z=a.d;if(!I||!I[0]||!z||!z[0])return new B(i.s&&a.s&&(I?!z||I[0]!=z[0]:z)?I&&0==I[0]||!z?0*O:O/0:NaN);for(l?(d=1,f=i.e-a.e):(l=1e7,d=7,f=m(i.e/d)-m(a.e/d)),S=z.length,N=I.length,D=(b=new B(O)).d=[],h=0;z[h]==(I[h]||0);h++);if(z[h]>(I[h]||0)&&f--,null==o?(E=o=B.precision,u=B.rounding):E=s?o+(i.e-a.e)+1:o,E<0)D.push(1),g=!0;else{if(E=E/d+2|0,h=0,1==S){for(p=0,z=z[0],E++;(h<N||p)&&E--;h++)A=p*l+(I[h]||0),D[h]=A/z|0,p=A%z|0;g=p||h<N}else{for((p=l/(z[0]+1)|0)>1&&(z=e(z,p,l),I=e(I,p,l),S=z.length,N=I.length),C=S,_=(x=I.slice(0,S)).length;_<S;)x[_++]=0;(T=z.slice()).unshift(0),M=z[0],z[1]>=l/2&&++M;do p=0,(c=t(z,x,S,_))<0?(w=x[0],S!=_&&(w=w*l+(x[1]||0)),(p=w/M|0)>1?(p>=l&&(p=l-1),y=(v=e(z,p,l)).length,_=x.length,1==(c=t(v,x,y,_))&&(p--,n(v,S<y?T:z,y,l))):(0==p&&(c=p=1),v=z.slice()),(y=v.length)<_&&v.unshift(0),n(x,v,_,l),-1==c&&(_=x.length,(c=t(z,x,S,_))<1&&(p++,n(x,S<_?T:z,_,l))),_=x.length):0===c&&(p++,x=[0]),D[h++]=p,c&&x[0]?x[_++]=I[C]||0:(x=[I[C]],_=1);while((C++<N||void 0!==x[0])&&E--)g=void 0!==x[0]}D[0]||D.shift()}if(1==d)b.e=f,r=g;else{for(h=1,p=D[0];p>=10;p/=10)h++;b.e=h+f*d-1,F(b,s?o+b.e+1:o,u,g)}return b}}();function F(e,t,r,n){var i,a,o,u,s,c,f,h,p,d=e.constructor;e:if(null!=t){if(!(h=e.d))return e;for(i=1,u=h[0];u>=10;u/=10)i++;if((a=t-i)<0)a+=7,o=t,s=(f=h[p=0])/g(10,i-o-1)%10|0;else if((p=Math.ceil((a+1)/7))>=(u=h.length))if(n){for(;u++<=p;)h.push(0);f=s=0,i=1,a%=7,o=a-7+1}else break e;else{for(i=1,f=u=h[p];u>=10;u/=10)i++;a%=7,s=(o=a-7+i)<0?0:f/g(10,i-o-1)%10|0}if(n=n||t<0||void 0!==h[p+1]||(o<0?f:f%g(10,i-o-1)),c=r<4?(s||n)&&(0==r||r==(e.s<0?3:2)):s>5||5==s&&(4==r||n||6==r&&(a>0?o>0?f/g(10,i-o):0:h[p-1])%10&1||r==(e.s<0?8:7)),t<1||!h[0])return h.length=0,c?(t-=e.e+1,h[0]=g(10,(7-t%7)%7),e.e=-t||0):h[0]=e.e=0,e;if(0==a?(h.length=p,u=1,p--):(h.length=p+1,u=g(10,7-a),h[p]=o>0?(f/g(10,i-o)%g(10,o)|0)*u:0),c)for(;;)if(0==p){for(a=1,o=h[0];o>=10;o/=10)a++;for(o=h[0]+=u,u=1;o>=10;o/=10)u++;a!=u&&(e.e++,1e7==h[0]&&(h[0]=1));break}else{if(h[p]+=u,1e7!=h[p])break;h[p--]=0,u=1}for(a=h.length;0===h[--a];)h.pop()}return l&&(e.e>d.maxE?(e.d=null,e.e=NaN):e.e<d.minE&&(e.e=0,e.d=[0])),e}function S(e,t,r){if(!e.isFinite())return U(e);var n,i=e.e,a=E(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+z(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(e.e<0?"e":"e+")+e.e):i<0?(a="0."+z(-i-1)+a,r&&(n=r-o)>0&&(a+=z(n))):i>=o?(a+=z(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+z(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=z(n))),a}function T(e,t){var r=e[0];for(t*=7;r>=10;r/=10)t++;return t}function B(e,t,r){if(t>x)throw l=!0,r&&(e.precision=r),Error(h);return F(new e(o),t,1,!0)}function O(e,t,r){if(t>_)throw Error(h);return F(new e(u),t,r,!0)}function I(e){var t=e.length-1,r=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function z(e){for(var t="";e--;)t+="0";return t}function R(e,t,r,n){var i,a=new e(1),o=Math.ceil(n/7+4);for(l=!1;;){if(r%2&&W((a=a.times(t)).d,o)&&(i=!0),0===(r=m(r/2))){r=a.d.length-1,i&&0===a.d[r]&&++a.d[r];break}W((t=t.times(t)).d,o)}return l=!0,a}function k(e){return 1&e.d[e.d.length-1]}function P(e,t,r){for(var n,i,a=new e(t[0]),o=0;++o<t.length;){if(!(i=new e(t[o])).s){a=i;break}((n=a.cmp(i))===r||0===n&&a.s===r)&&(a=i)}return a}function L(e,t){var r,n,i,a,o,u,s,c=0,f=0,h=0,p=e.constructor,d=p.rounding,m=p.precision;if(!e.d||!e.d[0]||e.e>17)return new p(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:0/0);for(null==t?(l=!1,s=m):s=t,u=new p(.03125);e.e>-2;)e=e.times(u),h+=5;for(s+=n=Math.log(g(2,h))/Math.LN10*2+5|0,r=a=o=new p(1),p.precision=s;;){if(a=F(a.times(e),s,1),r=r.times(++f),E((u=o.plus(M(a,r,s,1))).d).slice(0,s)===E(o.d).slice(0,s)){for(i=h;i--;)o=F(o.times(o),s,1);if(null!=t)return p.precision=m,o;if(!(c<3&&C(o.d,s-n,d,c)))return F(o,p.precision=m,d,l=!0);p.precision=s+=10,r=a=u=new p(1),f=0,c++}o=u}}function q(e,t){var r,n,i,a,o,u,s,c,f,h,p,d=1,m=e,g=m.d,v=m.constructor,y=v.rounding,b=v.precision;if(m.s<0||!g||!g[0]||!m.e&&1==g[0]&&1==g.length)return new v(g&&!g[0]?-1/0:1!=m.s?NaN:g?0:m);if(null==t?(l=!1,f=b):f=t,v.precision=f+=10,n=(r=E(g)).charAt(0),!(15e14>Math.abs(a=m.e)))return c=B(v,f+2,b).times(a+""),m=q(new v(n+"."+r.slice(1)),f-10).plus(c),v.precision=b,null==t?F(m,b,y,l=!0):m;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=E((m=m.times(e)).d)).charAt(0),d++;for(a=m.e,n>1?(m=new v("0."+r),a++):m=new v(n+"."+r.slice(1)),h=m,s=o=m=M(m.minus(1),m.plus(1),f,1),p=F(m.times(m),f,1),i=3;;){if(o=F(o.times(p),f,1),E((c=s.plus(M(o,new v(i),f,1))).d).slice(0,f)===E(s.d).slice(0,f)){if(s=s.times(2),0!==a&&(s=s.plus(B(v,f+2,b).times(a+""))),s=M(s,new v(d),f,1),null!=t)return v.precision=b,s;if(!C(s.d,f-10,y,u))return F(s,v.precision=b,y,l=!0);v.precision=f+=10,c=o=m=M(h.minus(1),h.plus(1),f,1),p=F(m.times(m),f,1),i=u=1}s=c,i+=2}}function U(e){return String(e.s*e.s/0)}function j(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);n++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(n,i)){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%7,r<0&&(n+=7),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=7;n<i;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=i;for(;n--;)t+="0";e.d.push(+t),l&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function H(e,t,r,n,i){var a,o,u,s,c=e.precision,f=Math.ceil(c/7);for(l=!1,s=r.times(r),u=new e(n);;){if(o=M(u.times(s),new e(t++*t++),c,1),u=i?n.plus(o):n.minus(o),n=M(o.times(s),new e(t++*t++),c,1),void 0!==(o=u.plus(n)).d[f]){for(a=f;o.d[a]===u.d[a]&&a--;);if(-1==a)break}a=u,u=n,n=o,o=a}return l=!0,o.d.length=f+1,o}function $(e,t){for(var r=e;--t;)r*=e;return r}function V(e,t){var r,n=t.s<0,a=O(e,e.precision,1),o=a.times(.5);if((t=t.abs()).lte(o))return i=n?4:1,t;if((r=t.divToInt(a)).isZero())i=n?3:2;else{if((t=t.minus(r.times(a))).lte(o))return i=k(r)?n?2:3:n?4:1,t;i=k(r)?n?1:4:n?3:2}return t.minus(a).abs()}function G(e,t,n,i){var o,u,s,l,c,f,h,p,d,m=e.constructor,g=void 0!==n;if(g?(A(n,1,1e9),void 0===i?i=m.rounding:A(i,0,8)):(n=m.precision,i=m.rounding),e.isFinite()){for(s=(h=S(e)).indexOf("."),g?(o=2,16==t?n=4*n-3:8==t&&(n=3*n-2)):o=t,s>=0&&(h=h.replace(".",""),(d=new m(1)).e=h.length-s,d.d=N(S(d),10,o),d.e=d.d.length),u=c=(p=N(h,10,o)).length;0==p[--c];)p.pop();if(p[0]){if(s<0?u--:((e=new m(e)).d=p,e.e=u,p=(e=M(e,d,n,i,0,o)).d,u=e.e,f=r),s=p[n],l=o/2,f=f||void 0!==p[n+1],f=i<4?(void 0!==s||f)&&(0===i||i===(e.s<0?3:2)):s>l||s===l&&(4===i||f||6===i&&1&p[n-1]||i===(e.s<0?8:7)),p.length=n,f)for(;++p[--n]>o-1;)p[n]=0,n||(++u,p.unshift(1));for(c=p.length;!p[c-1];--c);for(s=0,h="";s<c;s++)h+=a.charAt(p[s]);if(g){if(c>1)if(16==t||8==t){for(s=16==t?4:3,--c;c%s;c++)h+="0";for(c=(p=N(h,o,t)).length;!p[c-1];--c);for(s=1,h="1.";s<c;s++)h+=a.charAt(p[s])}else h=h.charAt(0)+"."+h.slice(1);h=h+(u<0?"p":"p+")+u}else if(u<0){for(;++u;)h="0"+h;h="0."+h}else if(++u>c)for(u-=c;u--;)h+="0";else u<c&&(h=h.slice(0,u)+"."+h.slice(u))}else h=g?"0p+0":"0";h=(16==t?"0x":2==t?"0b":8==t?"0o":"")+h}else h=U(e);return e.s<0?"-"+h:h}function W(e,t){if(e.length>t)return e.length=t,!0}function Y(e){return new this(e).abs()}function Z(e){return new this(e).acos()}function J(e){return new this(e).acosh()}function X(e,t){return new this(e).plus(t)}function K(e){return new this(e).asin()}function Q(e){return new this(e).asinh()}function ee(e){return new this(e).atan()}function et(e){return new this(e).atanh()}function er(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,a=n+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(r=t.s<0?O(this,n,i):new this(0)).s=e.s:!e.d||t.isZero()?(r=O(this,a,1).times(.5)).s=e.s:t.s<0?(this.precision=a,this.rounding=1,r=this.atan(M(e,t,a,1)),t=O(this,a,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(M(e,t,a,1)):(r=O(this,a,1).times(t.s>0?.25:.75)).s=e.s:r=new this(NaN),r}function en(e){return new this(e).cbrt()}function ei(e){return F(e=new this(e),e.e+1,2)}function ea(e,t,r){return new this(e).clamp(t,r)}function eo(e){if(!e||"object"!=typeof e)throw Error(c+"Object expected");var t,r,n,i=!0===e.defaults,a=["precision",1,1e9,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,9e15,"maxE",0,9e15,"minE",-9e15,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(r=a[t],i&&(this[r]=s[r]),void 0!==(n=e[r]))if(m(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(f+r+": "+n);if(r="crypto",i&&(this[r]=s[r]),void 0!==(n=e[r]))if(!0===n||!1===n||0===n||1===n)if(n)if("undefined"!=typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(p);else this[r]=!1;else throw Error(f+r+": "+n);return this}function eu(e){return new this(e).cos()}function es(e){return new this(e).cosh()}function el(e,t){return new this(e).div(t)}function ec(e){return new this(e).exp()}function ef(e){return F(e=new this(e),e.e+1,3)}function eh(){var e,t,r=new this(0);for(e=0,l=!1;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return l=!0,new this(1/0);r=t}return l=!0,r.sqrt()}function ep(e){return e instanceof t||e&&e.toStringTag===d||!1}function ed(e){return new this(e).ln()}function em(e,t){return new this(e).log(t)}function eg(e){return new this(e).log(2)}function ev(e){return new this(e).log(10)}function ey(){return P(this,arguments,-1)}function eb(){return P(this,arguments,1)}function eD(e,t){return new this(e).mod(t)}function ex(e,t){return new this(e).mul(t)}function e_(e,t){return new this(e).pow(t)}function ew(e){var t,r,n,i,a=0,o=new this(1),u=[];if(void 0===e?e=this.precision:A(e,1,1e9),n=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));a<n;)(i=t[a])>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:u[a++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);a<n;)(i=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((127&t[a+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,a):(u.push(i%1e7),a+=4);a=n/4}else throw Error(p);else for(;a<n;)u[a++]=1e7*Math.random()|0;for(n=u[--a],e%=7,n&&e&&(i=g(10,7-e),u[a]=(n/i|0)*i);0===u[a];a--)u.pop();if(a<0)r=0,u=[0];else{for(r=-1;0===u[0];r-=7)u.shift();for(n=1,i=u[0];i>=10;i/=10)n++;n<7&&(r-=7-n)}return o.e=r,o.d=u,o}function eE(e){return F(e=new this(e),e.e+1,this.rounding)}function eA(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function eC(e){return new this(e).sin()}function eN(e){return new this(e).sinh()}function eM(e){return new this(e).sqrt()}function eF(e,t){return new this(e).sub(t)}function eS(){var e=0,t=arguments,r=new this(t[0]);for(l=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return l=!0,F(r,this.precision,this.rounding)}function eT(e){return new this(e).tan()}function eB(e){return new this(e).tanh()}function eO(e){return F(e=new this(e),e.e+1,1)}(t=function e(r){var n,i,a;function o(e){var r,n,i;if(!(this instanceof o))return new o(e);if(this.constructor=o,ep(e)){this.s=e.s,l?!e.d||e.e>o.maxE?(this.e=NaN,this.d=null):e.e<o.minE?(this.e=0,this.d=[0]):(this.e=e.e,this.d=e.d.slice()):(this.e=e.e,this.d=e.d?e.d.slice():e.d);return}if("number"==(i=typeof e)){if(0===e){this.s=1/e<0?-1:1,this.e=0,this.d=[0];return}if(e<0?(e=-e,this.s=-1):this.s=1,e===~~e&&e<1e7){for(r=0,n=e;n>=10;n/=10)r++;l?r>o.maxE?(this.e=NaN,this.d=null):r<o.minE?(this.e=0,this.d=[0]):(this.e=r,this.d=[e]):(this.e=r,this.d=[e]);return}if(0*e!=0){e||(this.s=NaN),this.e=NaN,this.d=null;return}return j(this,e.toString())}if("string"===i)return 45===(n=e.charCodeAt(0))?(e=e.slice(1),this.s=-1):(43===n&&(e=e.slice(1)),this.s=1),D.test(e)?j(this,e):function(e,r){var n,i,a,o,u,s,c,h,p;if(r.indexOf("_")>-1){if(r=r.replace(/(\d)_(?=\d)/g,"$1"),D.test(r))return j(e,r)}else if("Infinity"===r||"NaN"===r)return+r||(e.s=NaN),e.e=NaN,e.d=null,e;if(y.test(r))n=16,r=r.toLowerCase();else if(v.test(r))n=2;else if(b.test(r))n=8;else throw Error(f+r);for((o=r.search(/p/i))>0?(c=+r.slice(o+1),r=r.substring(2,o)):r=r.slice(2),u=(o=r.indexOf("."))>=0,i=e.constructor,u&&(o=(s=(r=r.replace(".","")).length)-o,a=R(i,new i(n),o,2*o)),o=p=(h=N(r,n,1e7)).length-1;0===h[o];--o)h.pop();return o<0?new i(0*e.s):(e.e=T(h,p),e.d=h,l=!1,u&&(e=M(e,a,4*s)),c&&(e=e.times(54>Math.abs(c)?g(2,c):t.pow(2,c))),l=!0,e)}(this,e);if("bigint"===i)return e<0?(e=-e,this.s=-1):this.s=1,j(this,e.toString());throw Error(f+e)}if(o.prototype=w,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=eo,o.clone=e,o.isDecimal=ep,o.abs=Y,o.acos=Z,o.acosh=J,o.add=X,o.asin=K,o.asinh=Q,o.atan=ee,o.atanh=et,o.atan2=er,o.cbrt=en,o.ceil=ei,o.clamp=ea,o.cos=eu,o.cosh=es,o.div=el,o.exp=ec,o.floor=ef,o.hypot=eh,o.ln=ed,o.log=em,o.log10=ev,o.log2=eg,o.max=ey,o.min=eb,o.mod=eD,o.mul=ex,o.pow=e_,o.random=ew,o.round=eE,o.sign=eA,o.sin=eC,o.sinh=eN,o.sqrt=eM,o.sub=eF,o.sum=eS,o.tan=eT,o.tanh=eB,o.trunc=eO,void 0===r&&(r={}),r&&!0!==r.defaults)for(n=0,a=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"];n<a.length;)r.hasOwnProperty(i=a[n++])||(r[i]=this[i]);return o.config(r),o}(s)).prototype.constructor=t,t.default=t.Decimal=t,o=new t(o),u=new t(u),"function"==typeof define&&define.amd?define(function(){return t}):uM?("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator&&(w[Symbol.for("nodejs.util.inspect.custom")]=w.toString,w[Symbol.toStringTag]="Decimal"),uM=t):(e||(e="undefined"!=typeof self&&self&&self.self==self?self:window),n=e.Decimal,t.noConflict=function(){return e.Decimal=n,t},e.Decimal=t)}(uM);var uF=aM("BigNumber",["?on","config"],e=>{var{on:t,config:n}=e,i=r(uM).clone({precision:n.precision,modulo:r(uM).EUCLID});return i.prototype=Object.create(i.prototype),i.prototype.type="BigNumber",i.prototype.isBigNumber=!0,i.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},i.fromJSON=function(e){return new i(e.value)},t&&t("config",function(e,t){e.precision!==t.precision&&i.config({precision:e.precision})}),i},{isClass:!0});function uS(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw Error("Integers expected in function bitAnd");var r=e.constructor;if(e.isNaN()||t.isNaN())return new r(NaN);if(e.isZero()||t.eq(-1)||e.eq(t))return e;if(t.isZero()||e.eq(-1))return t;if(!e.isFinite()||!t.isFinite()){if(!e.isFinite()&&!t.isFinite())return e.isNegative()===t.isNegative()?e:new r(0);if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new r(0):t;if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new r(0):e}return uO(e,t,function(e,t){return e&t})}function uT(e){if(e.isFinite()&&!e.isInteger())throw Error("Integer expected in function bitNot");var t=e.constructor,r=t.precision;t.config({precision:1e9});var n=e.plus(new t(1));return n.s=-n.s||null,t.config({precision:r}),n}function uB(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw Error("Integers expected in function bitOr");var r=e.constructor;if(e.isNaN()||t.isNaN())return new r(NaN);var n=new r(-1);return e.isZero()||t.eq(n)||e.eq(t)?t:t.isZero()||e.eq(n)?e:e.isFinite()&&t.isFinite()?uO(e,t,function(e,t){return e|t}):!e.isFinite()&&!e.isNegative()&&t.isNegative()||e.isNegative()&&!t.isNegative()&&!t.isFinite()?n:e.isNegative()&&t.isNegative()?e.isFinite()?e:t:e.isFinite()?t:e}function uO(e,t,r){var n,i,a,o,u,s=e.constructor,l=+(e.s<0),c=+(t.s<0);if(l){n=uI(uT(e));for(var f=0;f<n.length;++f)n[f]^=1}else n=uI(e);if(c){i=uI(uT(t));for(var h=0;h<i.length;++h)i[h]^=1}else i=uI(t);n.length<=i.length?(a=n,o=i,u=l):(a=i,o=n,u=c);var p=a.length,d=o.length,m=1^r(l,c),g=new s(1^m),v=new s(1),y=new s(2),b=s.precision;for(s.config({precision:1e9});p>0;)r(a[--p],o[--d])===m&&(g=g.plus(v)),v=v.times(y);for(;d>0;)r(u,o[--d])===m&&(g=g.plus(v)),v=v.times(y);return s.config({precision:b}),0===m&&(g.s=-g.s),g}function uI(e){for(var t=e.d,r=t[0]+"",n=1;n<t.length;++n){for(var i=t[n]+"",a=7-i.length;a--;)i="0"+i;r+=i}for(var o=r.length;"0"===r.charAt(o);)o--;var u=e.e,s=r.slice(0,o+1||1),l=s.length;if(u>0)if(++u>l)for(u-=l;u--;)s+="0";else u<l&&(s=s.slice(0,u)+"."+s.slice(u));for(var c=[0],f=0;f<s.length;){for(var h=c.length;h--;)c[h]*=10;c[0]+=parseInt(s.charAt(f++));for(var p=0;p<c.length;++p)c[p]>1&&((null===c[p+1]||void 0===c[p+1])&&(c[p+1]=0),c[p+1]+=c[p]>>1,c[p]&=1)}return c.reverse()}function uz(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw Error("Integers expected in function bitXor");var r=e.constructor;if(e.isNaN()||t.isNaN())return new r(NaN);if(e.isZero())return t;if(t.isZero())return e;if(e.eq(t))return new r(0);var n=new r(-1);return e.eq(n)?uT(t):t.eq(n)?uT(e):e.isFinite()&&t.isFinite()?uO(e,t,function(e,t){return e^t}):e.isFinite()||t.isFinite()?new r(e.isNegative()===t.isNegative()?1/0:-1/0):n}function uR(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw Error("Integers expected in function leftShift");var r=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new r(NaN):e.isZero()||t.isZero()?e:e.isFinite()||t.isFinite()?t.lt(55)?e.times(Math.pow(2,t.toNumber())+""):e.times(new r(2).pow(t)):new r(NaN)}function uk(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw Error("Integers expected in function rightArithShift");var r=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new r(NaN):e.isZero()||t.isZero()?e:t.isFinite()?t.lt(55)?e.div(Math.pow(2,t.toNumber())+"").floor():e.div(new r(2).pow(t)).floor():new r(e.isNegative()?-1:e.isFinite()?0:NaN)}aM("bin",["typed","format"],e=>{var{typed:t,format:r}=e;return t("bin",{"number | BigNumber":function(e){return r(e,{notation:"bin"})},"number | BigNumber, number | BigNumber":function(e,t){return r(e,{notation:"bin",wordSize:t})}})});var uP="number, number";function uL(e,t){if(!aT(e)||!aT(t))throw Error("Integers expected in function bitAnd");return e&t}function uq(e){if(!aT(e))throw Error("Integer expected in function bitNot");return~e}function uU(e,t){if(!aT(e)||!aT(t))throw Error("Integers expected in function bitOr");return e|t}function uj(e,t){if(!aT(e)||!aT(t))throw Error("Integers expected in function bitXor");return e^t}function uH(e,t){if(!aT(e)||!aT(t))throw Error("Integers expected in function leftShift");return e<<t}function u$(e,t){if(!aT(e)||!aT(t))throw Error("Integers expected in function rightArithShift");return e>>t}function uV(e,t){if(!aT(e)||!aT(t))throw Error("Integers expected in function rightLogShift");return e>>>t}uL.signature=uP,uq.signature="number",uU.signature=uP,uj.signature=uP,uH.signature=uP,u$.signature=uP,uV.signature=uP;var uG=aM("matAlgo07xSSf",["typed","SparseMatrix"],e=>{var{typed:t,SparseMatrix:r}=e;return function(e,i,a){var o,u=e._size,s=e._datatype||void 0===e._data?e._datatype:e.getDataType(),l=i._size,c=i._datatype||void 0===i._data?i._datatype:i.getDataType();if(u.length!==l.length)throw new a9(u.length,l.length);if(u[0]!==l[0]||u[1]!==l[1])throw RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+l+")");var f=u[0],h=u[1],p=0,d=a;"string"==typeof s&&s===c&&"mixed"!==s&&(o=s,p=t.convert(0,o),d=t.find(a,[o,o]));for(var m=[],g=[],v=Array(h+1).fill(0),y=[],b=[],D=[],x=[],_=0;_<h;_++){var w=_+1,E=0;n(e,_,D,y,w),n(i,_,x,b,w);for(var A=0;A<f;A++){var C=d(D[A]===w?y[A]:p,x[A]===w?b[A]:p);0!==C&&!1!==C&&(g.push(A),m.push(C),E++)}v[_+1]=v[_]+E}return new r({values:m,index:g,ptr:v,size:[f,h],datatype:s===e._datatype&&c===i._datatype?o:void 0})};function n(e,t,r,n,i){for(var a=e._values,o=e._index,u=e._ptr,s=u[t],l=u[t+1];s<l;s++){var c=o[s];r[c]=i,n[c]=a[s]}}}),uW="cbrt";function uY(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-9,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(r<=0)throw Error("Relative tolerance must be greater than 0");if(n<0)throw Error("Absolute tolerance must be at least 0");return!(e.isNaN()||t.isNaN())&&(e.isFinite()&&t.isFinite()?!!e.eq(t)||e.minus(t).abs().lte(e.constructor.max(e.constructor.max(e.abs(),t.abs()).mul(r),n)):e.eq(t))}e=>{var{config:t,typed:r,isNegative:n,unaryMinus:i,matrix:a,Complex:o,BigNumber:u,Fraction:s}=e;return r(uW,{number:oP,Complex:l,"Complex, boolean":l,BigNumber:function(e){return e.cbrt()},Unit:function(e){if(e.value&&iY(e.value)){var t=e.clone();return t.value=1,(t=t.pow(1/3)).value=l(e.value),t}var r,a=n(e.value);a&&(e.value=i(e.value)),r=iG(e.value)?new u(1).div(3):iZ(e.value)?new s(1,3):1/3;var o=e.pow(r);return a&&(o.value=i(o.value)),o}});function l(e,r){var n=e.arg()/3,i=e.abs(),u=new o(oP(i),0).mul(new o(0,n).exp());if(!r)return u;var s=[u,new o(oP(i),0).mul(new o(0,n+2*Math.PI/3).exp()),new o(oP(i),0).mul(new o(0,n-2*Math.PI/3).exp())];return"Array"===t.matrix?s:a(s)}};var uZ="ceil",uJ=new(r(uM))(10),uX=aM(uZ,["typed","config","round"],e=>{var{typed:t,config:r,round:n}=e;function i(e){var t=Math.ceil(e),i=n(e);return t===i?t:aW(e,i,r.relTol,r.absTol)&&!aW(e,t,r.relTol,r.absTol)?i:t}return t(uZ,{number:i,"number, number":function(e,t){if(!aT(t))throw RangeError("number of decimals in function ceil must be an integer");if(t<0||t>15)throw RangeError("number of decimals in ceil number must be in range 0-15");var r=10**t;return i(e*r)/r}})}),uK=aM(uZ,["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],e=>{var{typed:t,config:r,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:u}=e,s=um({typed:t,equalScalar:a}),l=uA({typed:t,DenseMatrix:u}),c=us({typed:t}),f=uX({typed:t,config:r,round:n});function h(e){var t=(e,t)=>uY(e,t,r.relTol,r.absTol),i=e.ceil(),a=n(e);return i.eq(a)?i:t(e,a)&&!t(e,i)?a:i}return t("ceil",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(e){return e.ceil()},"Complex, number":function(e,t){return e.ceil(t)},"Complex, BigNumber":function(e,t){return e.ceil(t.toNumber())},BigNumber:h,"BigNumber, BigNumber":function(e,t){var r=uJ.pow(t);return h(e.mul(r)).div(r)},bigint:e=>e,"bigint, number":(e,t)=>e,"bigint, BigNumber":(e,t)=>e,Fraction:function(e){return e.ceil()},"Fraction, number":function(e,t){return e.ceil(t)},"Fraction, BigNumber":function(e,t){return e.ceil(t.toNumber())},"Unit, number, Unit":t.referToSelf(e=>function(t,r,n){var i=t.toNumeric(n);return n.multiply(e(i,r))}),"Unit, BigNumber, Unit":t.referToSelf(e=>(t,r,n)=>e(t,r.toNumber(),n)),"Array | Matrix, number | BigNumber, Unit":t.referToSelf(e=>(t,r,n)=>oC(t,t=>e(t,r,n),!0)),"Array | Matrix | Unit, Unit":t.referToSelf(e=>(t,r)=>e(t,0,r)),"Array | Matrix":t.referToSelf(e=>t=>oC(t,e,!0)),"Array, number | BigNumber":t.referToSelf(e=>(t,r)=>oC(t,t=>e(t,r),!0)),"SparseMatrix, number | BigNumber":t.referToSelf(e=>(t,r)=>s(t,r,e,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(e=>(t,r)=>c(t,r,e,!1)),"number | Complex | Fraction | BigNumber, Array":t.referToSelf(e=>(t,r)=>c(i(r),t,e,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":t.referToSelf(e=>(t,r)=>a(t,0)?o(r.size(),r.storage()):"dense"===r.storage()?c(r,t,e,!0):l(r,t,e,!0))})}),uQ="column",u0=aM(uQ,["typed","Index","matrix","range"],e=>{var{typed:t,Index:r,matrix:n,range:i}=e;return t(uQ,{"Matrix, number":a,"Array, number":function(e,t){return a(n(aw(e)),t).valueOf()}});function a(e,t){if(2!==e.size().length)throw Error("Only two dimensional matrix is supported");on(t,e.size()[1]);var a=new r(i(0,e.size()[0]),t),o=e.subset(a);return iQ(o)?o:n([[o]])}});function u1(e,t){if(t<e)return 1;if(t===e)return t;var r=t+e>>1;return u1(e,r)*u1(r+1,t)}function u2(e,t){if(!aT(e)||e<0||!aT(t)||t<0)throw TypeError("Positive integer value expected in function combinations");if(t>e)throw TypeError("k must be less than or equal to n");for(var r=e-t,n=1,i=t<r?r+1:t+1,a=2,o=t<r?t:r,u=i;u<=e;++u)for(n*=u;a<=o&&n%a==0;)n/=a,++a;return a<=o&&(n/=u1(a,o)),n}u2.signature="number, number";var u8="combinations",u3=aM(u8,["typed"],e=>{var{typed:t}=e;return t(u8,{"number, number":u2,"BigNumber, BigNumber":function(e,t){var r,n,i=e.constructor,a=e.minus(t),o=new i(1);if(!u5(e)||!u5(t))throw TypeError("Positive integer value expected in function combinations");if(t.gt(e))throw TypeError("k must be less than n in function combinations");if(r=o,t.lt(a))for(n=o;n.lte(a);n=n.plus(o))r=r.times(t.plus(n)).dividedBy(n);else for(n=o;n.lte(t);n=n.plus(o))r=r.times(a.plus(n)).dividedBy(n);return r}})});function u5(e){return e.isInteger()&&e.gte(0)}function u6(e){return e.isInteger()&&e.gte(0)}var u4=aM("matAlgo05xSfSf",["typed","equalScalar"],e=>{var{typed:t,equalScalar:r}=e;return function(e,n,i){var a,o,u,s,l,c=e._values,f=e._index,h=e._ptr,p=e._size,d=e._datatype||void 0===e._data?e._datatype:e.getDataType(),m=n._values,g=n._index,v=n._ptr,y=n._size,b=n._datatype||void 0===n._data?n._datatype:n.getDataType();if(p.length!==y.length)throw new a9(p.length,y.length);if(p[0]!==y[0]||p[1]!==y[1])throw RangeError("Dimension mismatch. Matrix A ("+p+") must match Matrix B ("+y+")");var D=p[0],x=p[1],_=r,w=0,E=i;"string"==typeof d&&d===b&&"mixed"!==d&&(a=d,_=t.find(r,[a,a]),w=t.convert(0,a),E=t.find(i,[a,a]));var A=c&&m?[]:void 0,C=[],N=[],M=A?[]:void 0,F=A?[]:void 0,S=[],T=[];for(u=0;u<x;u++){N[u]=C.length;var B=u+1;for(s=h[u],l=h[u+1];s<l;s++)o=f[s],C.push(o),S[o]=B,M&&(M[o]=c[s]);for(s=v[u],l=v[u+1];s<l;s++)S[o=g[s]]!==B&&C.push(o),T[o]=B,F&&(F[o]=m[s]);if(A)for(s=N[u];s<C.length;){var O=S[o=C[s]],I=T[o];if(O===B||I===B){var z=E(O===B?M[o]:w,I===B?F[o]:w);_(z,w)?C.splice(s,1):(A.push(z),s++)}}}return N[x]=C.length,e.createSparseMatrix({values:A,index:C,ptr:N,size:[D,x],datatype:d===e._datatype&&b===n._datatype?a:void 0})}}),u7=aM("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(e=>(r,n)=>{if(!r.equalBase(n))throw Error("Cannot compare units with different base");return t.find(e,[r.valueType(),n.valueType()])(r.value,n.value)})}}),u9="compare",se=aM(u9,["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],e=>{var{typed:t,config:r,equalScalar:n,matrix:i,BigNumber:a,Fraction:o,DenseMatrix:u,concat:s}=e,l=uw({typed:t}),c=u4({typed:t,equalScalar:n}),f=uA({typed:t,DenseMatrix:u}),h=uc({typed:t,matrix:i,concat:s}),p=u7({typed:t});return t(u9,st({typed:t,config:r}),{"boolean, boolean":function(e,t){return e===t?0:e>t?1:-1},"BigNumber, BigNumber":function(e,t){return new a(uY(e,t,r.relTol,r.absTol)?0:e.cmp(t))},"bigint, bigint":function(e,t){return e===t?0n:e>t?1n:-1n},"Fraction, Fraction":function(e,t){return new o(e.compare(t))},"Complex, Complex":function(){throw TypeError("No ordering relation is defined for complex numbers")}},p,h({SS:c,DS:l,Ss:f}))}),st=aM(u9,["typed","config"],e=>{var{typed:t,config:r}=e;return t(u9,{"number, number":function(e,t){return aW(e,t,r.relTol,r.absTol)?0:e>t?1:-1}})}),sr={};sr=function e(t,r){var n,i,a=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,o=/(^[ ]*|[ ]*$)/g,u=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,s=/^0x[0-9a-f]+$/i,l=/^0/,c=function(t){return e.insensitive&&(""+t).toLowerCase()||""+t},f=c(t).replace(o,"")||"",h=c(r).replace(o,"")||"",p=f.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),d=h.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),m=parseInt(f.match(s),16)||1!==p.length&&f.match(u)&&Date.parse(f),g=parseInt(h.match(s),16)||m&&h.match(u)&&Date.parse(h)||null;if(g){if(m<g)return -1;else if(m>g)return 1}for(var v=0,y=Math.max(p.length,d.length);v<y;v++){if(n=!(p[v]||"").match(l)&&parseFloat(p[v])||p[v]||0,i=!(d[v]||"").match(l)&&parseFloat(d[v])||d[v]||0,isNaN(n)!==isNaN(i))return isNaN(n)?1:-1;if(typeof n!=typeof i&&(n+="",i+=""),n<i)return -1;if(n>i)return 1}return 0};var sn="compareNatural",si=aM(sn,["typed","compare"],e=>{var{typed:t,compare:n}=e,i=n.signatures["boolean,boolean"];return t(sn,{"any, any":function e(t,o){var u,s,l,c=a_(t),f=a_(o);if(("number"===c||"BigNumber"===c||"Fraction"===c)&&("number"===f||"BigNumber"===f||"Fraction"===f))return"0"!==(l=n(t,o)).toString()?l>0?1:-1:r(sr)(c,f);var h=["Array","DenseMatrix","SparseMatrix"];if(h.includes(c)||h.includes(f))return 0!==(l=function e(t,r,n){return i2(r)&&i2(n)?a(t,r.toJSON().values,n.toJSON().values):i2(r)?e(t,r.toArray(),n):i2(n)?e(t,r,n.toArray()):i1(r)?e(t,r.toJSON().data,n):i1(n)?e(t,r,n.toJSON().data):Array.isArray(r)?Array.isArray(n)?a(t,r,n):e(t,r,[n]):e(t,[r],n)}(e,t,o))?l:r(sr)(c,f);if(c!==f)return r(sr)(c,f);if("Complex"===c){return u=t,s=o,u.re>s.re?1:u.re<s.re?-1:u.im>s.im?1:u.im<s.im?-1:0}if("Unit"===c)return t.equalBase(o)?e(t.value,o.value):a(e,t.formatUnits(),o.formatUnits());if("boolean"===c)return i(t,o);if("string"===c)return r(sr)(t,o);if("Object"===c)return function(e,t,n){var i=Object.keys(t),o=Object.keys(n);i.sort(r(sr)),o.sort(r(sr));var u=a(e,i,o);if(0!==u)return u;for(var s=0;s<i.length;s++){var l=e(t[i[s]],n[o[s]]);if(0!==l)return l}return 0}(e,t,o);if("null"===c||"undefined"===c)return 0;throw TypeError('Unsupported type of value "'+c+'"')}});function a(e,t,r){for(var n=0,i=Math.min(t.length,r.length);n<i;n++){var a=e(t[n],r[n]);if(0!==a)return a}return t.length>r.length?1:t.length<r.length?-1:0}}),sa="compareText";a7.signature="any, any",e=>{var{typed:t,matrix:r,concat:n}=e,i=uc({typed:t,matrix:r,concat:n});return t(sa,a7,i({elop:a7,Ds:!0}))};var so=aM("complex",["typed","Complex"],e=>{var{typed:t,Complex:r}=e;return t("complex",{"":function(){return r.ZERO},number:function(e){return new r(e,0)},"number, number":function(e,t){return new r(e,t)},"BigNumber, BigNumber":function(e,t){return new r(e.toNumber(),t.toNumber())},Fraction:function(e){return new r(e.valueOf(),0)},Complex:function(e){return e.clone()},string:function(e){return r(e)},null:function(e){return r(0)},Object:function(e){if("re"in e&&"im"in e)return new r(e.re,e.im);if("r"in e&&"phi"in e||"abs"in e&&"arg"in e)return new r(e);throw Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":t.referToSelf(e=>t=>oC(t,e))})}),su={};!function(e){function t(e,t){if(null==e)s.re=s.im=0;else if(void 0!==t)s.re=e,s.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)s.re=e.re,s.im=e.im;else if("abs"in e&&"arg"in e){if(!isFinite(e.abs)&&isFinite(e.arg))return a.INFINITY;s.re=e.abs*Math.cos(e.arg),s.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!isFinite(e.r)&&isFinite(e.phi))return a.INFINITY;s.re=e.r*Math.cos(e.phi),s.im=e.r*Math.sin(e.phi)}else 2===e.length?(s.re=e[0],s.im=e[1]):r();break;case"string":s.im=s.re=0,e=e.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),t=1;let n=0;null===e&&r();for(let i=0;i<e.length;i++){let a=e[i];" "!==a&&"	"!==a&&"\n"!==a&&("+"===a?t++:"-"===a?n++:("i"===a||"I"===a?(0===t+n&&r()," "===e[i+1]||isNaN(e[i+1])?s.im+=parseFloat((n%2?"-":"")+"1"):(s.im+=parseFloat((n%2?"-":"")+e[i+1]),i++)):((0===t+n||isNaN(a))&&r(),"i"===e[i+1]||"I"===e[i+1]?(s.im+=parseFloat((n%2?"-":"")+a),i++):s.re+=parseFloat((n%2?"-":"")+a)),t=n=0))}0<t+n&&r();break;case"number":s.im=0,s.re=e;break;default:r()}return s}function r(){throw SyntaxError("Invalid Param")}function n(e,t){return((e=Math.abs(e))<(t=Math.abs(t))&&([e,t]=[t,e]),1e8>e)?Math.sqrt(e*e+t*t):(t/=e,e*Math.sqrt(1+t*t))}function i(e,t){let r=Math.abs(e),n=Math.abs(t);return 0===e?Math.log(n):0===t?Math.log(r):3e3>r&&3e3>n?.5*Math.log(e*e+t*t):.5*Math.log((e*=.5)*e+(t*=.5)*t)+Math.LN2}function a(e,r){if(!(this instanceof a))return new a(e,r);e=t(e,r),this.re=e.re,this.im=e.im}let o=Math.cosh||function(e){return 1e-9>Math.abs(e)?1-e:.5*(Math.exp(e)+Math.exp(-e))},u=Math.sinh||function(e){return 1e-9>Math.abs(e)?e:.5*(Math.exp(e)-Math.exp(-e))},s={re:0,im:0};a.prototype={re:0,im:0,sign:function(){let e=n(this.re,this.im);return new a(this.re/e,this.im/e)},add:function(e,r){e=t(e,r),r=this.isInfinite();let n=!(isFinite(e.re)&&isFinite(e.im));return r||n?r&&n?a.NAN:a.INFINITY:new a(this.re+e.re,this.im+e.im)},sub:function(e,r){e=t(e,r),r=this.isInfinite();let n=!(isFinite(e.re)&&isFinite(e.im));return r||n?r&&n?a.NAN:a.INFINITY:new a(this.re-e.re,this.im-e.im)},mul:function(e,r){e=t(e,r),r=this.isInfinite();let n=!(isFinite(e.re)&&isFinite(e.im)),i=0===this.re&&0===this.im,o=0===e.re&&0===e.im;return r&&o||n&&i?a.NAN:r||n?a.INFINITY:0===e.im&&0===this.im?new a(this.re*e.re,0):new a(this.re*e.re-this.im*e.im,this.re*e.im+this.im*e.re)},div:function(e,r){e=t(e,r),r=this.isInfinite();let n=!(isFinite(e.re)&&isFinite(e.im)),i=0===this.re&&0===this.im,o=0===e.re&&0===e.im;return i&&o||r&&n?a.NAN:o||r?a.INFINITY:i||n?a.ZERO:0===e.im?new a(this.re/e.re,this.im/e.re):Math.abs(e.re)<Math.abs(e.im)?(r=e.re/e.im,e=e.re*r+e.im,new a((this.re*r+this.im)/e,(this.im*r-this.re)/e)):(r=e.im/e.re,e=e.im*r+e.re,new a((this.re+this.im*r)/e,(this.im-this.re*r)/e))},pow:function(e,r){if(e=t(e,r),r=0===this.re&&0===this.im,0===e.re&&0===e.im)return a.ONE;if(0===e.im){if(0===this.im&&0<this.re)return new a(Math.pow(this.re,e.re),0);if(0===this.re)switch((e.re%4+4)%4){case 0:return new a(Math.pow(this.im,e.re),0);case 1:return new a(0,Math.pow(this.im,e.re));case 2:return new a(-Math.pow(this.im,e.re),0);case 3:return new a(0,-Math.pow(this.im,e.re))}}if(r&&0<e.re)return a.ZERO;let n=Math.atan2(this.im,this.re),o=i(this.re,this.im);return new a((r=Math.exp(e.re*o-e.im*n))*Math.cos(e=e.im*o+e.re*n),r*Math.sin(e))},sqrt:function(){let e=this.re,t=this.im;if(0===t)return 0<=e?new a(Math.sqrt(e),0):new a(0,Math.sqrt(-e));var r=n(e,t);let i=Math.abs(t)/(2*(r=Math.sqrt(.5*(r+Math.abs(e)))));return 0<=e?new a(r,0>t?-i:i):new a(i,0>t?-r:r)},exp:function(){let e=Math.exp(this.re);return 0===this.im?new a(e,0):new a(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){let e=this.re,t=this.im;var r=Math.expm1(e)*Math.cos(t),n=Math.PI/4;return-n>t||t>n?n=Math.cos(t)-1:(n=t*t,n*=n*(n*(n*(n*(n*(n*(n/20922789888e3-1/0x144c3b2800)+1/0x1c8cfc00)-1/3628800)+1/40320)-1/720)+1/24)-.5),new a(r+n,Math.exp(e)*Math.sin(t))},log:function(){let e=this.re,t=this.im;return 0===t&&0<e?new a(Math.log(e),0):new a(i(e,t),Math.atan2(t,e))},abs:function(){return n(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){let e=this.re,t=this.im;return new a(Math.sin(e)*o(t),Math.cos(e)*u(t))},cos:function(){let e=this.re,t=this.im;return new a(Math.cos(e)*o(t),-Math.sin(e)*u(t))},tan:function(){let e=2*this.re,t=2*this.im,r=Math.cos(e)+o(t);return new a(Math.sin(e)/r,u(t)/r)},cot:function(){let e=2*this.re,t=2*this.im,r=Math.cos(e)-o(t);return new a(-Math.sin(e)/r,u(t)/r)},sec:function(){let e=this.re,t=this.im,r=.5*o(2*t)+.5*Math.cos(2*e);return new a(Math.cos(e)*o(t)/r,Math.sin(e)*u(t)/r)},csc:function(){let e=this.re,t=this.im,r=.5*o(2*t)-.5*Math.cos(2*e);return new a(Math.sin(e)*o(t)/r,-Math.cos(e)*u(t)/r)},asin:function(){var e=this.re;let t=this.im,r=new a(t*t-e*e+1,-2*e*t).sqrt();return e=new a(r.re-t,r.im+e).log(),new a(e.im,-e.re)},acos:function(){var e=this.re;let t=this.im,r=new a(t*t-e*e+1,-2*e*t).sqrt();return e=new a(r.re-t,r.im+e).log(),new a(Math.PI/2-e.im,e.re)},atan:function(){var e=this.re;let t=this.im;if(0===e){if(1===t)return new a(0,1/0);if(-1===t)return new a(0,-1/0)}let r=e*e+(1-t)*(1-t);return e=new a((1-t*t-e*e)/r,-2*e/r).log(),new a(-.5*e.im,.5*e.re)},acot:function(){let e=this.re,t=this.im;if(0===t)return new a(Math.atan2(1,e),0);let r=e*e+t*t;return 0!==r?new a(e/r,-t/r).atan():new a(0!==e?e/0:0,0!==t?-t/0:0).atan()},asec:function(){let e=this.re,t=this.im;if(0===e&&0===t)return new a(0,1/0);let r=e*e+t*t;return 0!==r?new a(e/r,-t/r).acos():new a(0!==e?e/0:0,0!==t?-t/0:0).acos()},acsc:function(){let e=this.re,t=this.im;if(0===e&&0===t)return new a(Math.PI/2,1/0);let r=e*e+t*t;return 0!==r?new a(e/r,-t/r).asin():new a(0!==e?e/0:0,0!==t?-t/0:0).asin()},sinh:function(){let e=this.re,t=this.im;return new a(u(e)*Math.cos(t),o(e)*Math.sin(t))},cosh:function(){let e=this.re,t=this.im;return new a(o(e)*Math.cos(t),u(e)*Math.sin(t))},tanh:function(){let e=2*this.re,t=2*this.im,r=o(e)+Math.cos(t);return new a(u(e)/r,Math.sin(t)/r)},coth:function(){let e=2*this.re,t=2*this.im,r=o(e)-Math.cos(t);return new a(u(e)/r,-Math.sin(t)/r)},csch:function(){let e=this.re,t=this.im,r=Math.cos(2*t)-o(2*e);return new a(-2*u(e)*Math.cos(t)/r,2*o(e)*Math.sin(t)/r)},sech:function(){let e=this.re,t=this.im,r=Math.cos(2*t)+o(2*e);return new a(2*o(e)*Math.cos(t)/r,-2*u(e)*Math.sin(t)/r)},asinh:function(){let e=this.im;this.im=-this.re,this.re=e;let t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){let e=this.acos();if(0>=e.im){var t=e.re;e.re=-e.im,e.im=t}else t=e.im,e.im=-e.re,e.re=t;return e},atanh:function(){var e=this.re,t=this.im;let r=1<e&&0===t,n=1-e,o=1+e,u=n*n+t*t;return t=(e=0!==u?new a((o*n-t*t)/u,(t*n+o*t)/u):new a(-1!==e?e/0:0,0!==t?t/0:0)).re,e.re=i(e.re,e.im)/2,e.im=Math.atan2(e.im,t)/2,r&&(e.im=-e.im),e},acoth:function(){let e=this.re,t=this.im;if(0===e&&0===t)return new a(0,Math.PI/2);let r=e*e+t*t;return 0!==r?new a(e/r,-t/r).atanh():new a(0!==e?e/0:0,0!==t?-t/0:0).atanh()},acsch:function(){let e=this.re,t=this.im;if(0===t)return new a(0!==e?Math.log(e+Math.sqrt(e*e+1)):1/0,0);let r=e*e+t*t;return 0!==r?new a(e/r,-t/r).asinh():new a(0!==e?e/0:0,0!==t?-t/0:0).asinh()},asech:function(){let e=this.re,t=this.im;if(this.isZero())return a.INFINITY;let r=e*e+t*t;return 0!==r?new a(e/r,-t/r).acosh():new a(0!==e?e/0:0,0!==t?-t/0:0).acosh()},inverse:function(){if(this.isZero())return a.INFINITY;if(this.isInfinite())return a.ZERO;let e=this.re,t=this.im,r=e*e+t*t;return new a(e/r,-t/r)},conjugate:function(){return new a(this.re,-this.im)},neg:function(){return new a(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new a(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new a(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new a(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,r){return Math.abs((e=t(e,r)).re-this.re)<=a.EPSILON&&Math.abs(e.im-this.im)<=a.EPSILON},clone:function(){return new a(this.re,this.im)},toString:function(){let e=this.re,t=this.im,r="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<a.EPSILON&&(e=0),Math.abs(t)<a.EPSILON&&(t=0),0===t)?r+e:(0!==e?(r=r+e+" ",0>t?(t=-t,r+="-"):r+="+",r+=" "):0>t&&(t=-t,r+="-"),1!==t&&(r+=t),r+"i")},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}},a.ZERO=new a(0,0),a.ONE=new a(1,0),a.I=new a(0,1),a.PI=new a(Math.PI,0),a.E=new a(Math.E,0),a.INFINITY=new a(1/0,1/0),a.NAN=new a(NaN,NaN),a.EPSILON=1e-15,"function"==typeof define&&define.amd?define([],function(){return a}):(Object.defineProperty(a,"__esModule",{value:!0}),a.default=a,a.Complex=a,su=a)}(0);var ss=aM("Complex",[],()=>(Object.defineProperty(r(su),"name",{value:"Complex"}),r(su).prototype.constructor=r(su),r(su).prototype.type="Complex",r(su).prototype.isComplex=!0,r(su).prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},r(su).prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},r(su).prototype.format=function(e){var t="",r=this.im,n=this.re,i=aq(this.re,e),a=aq(this.im,e),o=iV(e)?e:e?e.precision:null;if(null!==o){var u=Math.pow(10,-o);Math.abs(n/r)<u&&(n=0),Math.abs(r/n)<u&&(r=0)}return 0===r?i:0===n?1===r?"i":-1===r?"-i":a+"i":r<0?-1===r?i+" - i":i+" - "+a.substring(1)+"i":1===r?i+" + i":i+" + "+a+"i"},r(su).fromPolar=function(e){switch(arguments.length){case 1:var t=arguments[0];if("object"==typeof t)return r(su)(t);throw TypeError("Input has to be an object with r and phi keys.");case 2:var n=arguments[0],i=arguments[1];if(iV(n)){if(iJ(i)&&i.hasBase("ANGLE")&&(i=i.toNumber("rad")),iV(i))return new(r(su))({r:n,phi:i});throw TypeError("Phi is not a number nor an angle unit.")}throw TypeError("Radius r is not a number.");default:throw SyntaxError("Wrong number of arguments in function fromPolar")}},r(su).prototype.valueOf=r(su).prototype.toString,r(su).fromJSON=function(e){return new(r(su))(e)},r(su).compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},r(su)),{isClass:!0}),sl="concat",sc=aM(sl,["typed","matrix","isInteger"],e=>{var{typed:t,matrix:r,isInteger:n}=e;return t(sl,{"...Array | Matrix | number | BigNumber":function(e){var t,i,a=e.length,o=-1,u=!1,s=[];for(t=0;t<a;t++){var l=e[t];if(iQ(l)&&(u=!0),iV(l)||iG(l)){if(t!==a-1)throw Error("Dimension must be specified as last argument");if(i=o,!n(o=l.valueOf()))throw TypeError("Integer number expected for dimension");if(o<0||t>0&&o>i)throw new aS(o,i+1)}else{var c=aw(l).valueOf(),f=oe(c);if(s[t]=c,i=o,o=f.length-1,t>0&&o!==i)throw new a9(i+1,o+1)}}if(0===s.length)throw SyntaxError("At least one matrix expected");for(var h=s.shift();s.length;)h=og(h,s.shift(),o);return u?r(h):h},"...string":function(e){return e.join("")}})}),sf="conj",sh=aM(sf,["typed"],e=>{var{typed:t}=e;return t(sf,{"number | BigNumber | Fraction":e=>e,Complex:e=>e.conjugate(),"Array | Matrix":t.referToSelf(e=>t=>oC(t,e))})}),sp=aM("trigUnit",["typed"],e=>{var{typed:t}=e;return{Unit:t.referToSelf(e=>r=>{if(!r.hasBase(r.constructor.BASE_UNITS.ANGLE))throw TypeError("Unit in function cot is no angle");return t.find(e,r.valueType())(r.value)})}}),sd=aM("cos",["typed"],e=>{var{typed:t}=e,r=sp({typed:t});return t("cos",{number:Math.cos,"Complex | BigNumber":e=>e.cos()},r)}),sm="ctranspose",sg=aM(sm,["typed","transpose","conj"],e=>{var{typed:t,transpose:r,conj:n}=e;return t(sm,{any:function(e){return n(r(e))}})});function sv(e,t,r){var n;return String(e).includes("Unexpected type")?(n=arguments.length>2?" (type: "+a_(r)+", value: "+JSON.stringify(r)+")":" (type: "+e.data.actual+")",TypeError("Cannot calculate "+t+", unexpected type of argument"+n)):String(e).includes("complex numbers")?(n=arguments.length>2?" (type: "+a_(r)+", value: "+JSON.stringify(r)+")":"",TypeError("Cannot calculate "+t+", no ordering relation is defined for complex numbers"+n)):e}var sy="cumsum",sb="deepEqual",sD=(e=>{var{typed:t,equal:r}=e;return t(sb,{"any, any":function(e,t){return function e(t,n){if(Array.isArray(t))if(!Array.isArray(n))return!1;else{var i=t.length;if(i!==n.length)return!1;for(var a=0;a<i;a++)if(!e(t[a],n[a]))return!1;return!0}return!Array.isArray(n)&&r(t,n)}(e.valueOf(),t.valueOf())}})},{});function sx(e,t,n){if(r(sD).isTypedFunction(e)){var i,a=(t.isMatrix?t.size():oe(t)).map(()=>0),o=function(e,t,n,i){for(var a=[t,n,i],o=3;o>0;o--){var u=a.slice(0,o);if(null!==r(sD).resolve(e,u))return o}}(e,t.isMatrix?t.get(a):oD(t,a),a,t);if(t.isMatrix&&"mixed"!==t.dataType&&void 0!==t.dataType){var u=function(e,t){var r=[];if(Object.entries(e.signatures).forEach(e=>{var[n,i]=e;n.split(",").length===t&&r.push(i)}),1===r.length)return r[0]}(e,o);i=void 0!==u?u:e}else i=e;return o>=1&&o<=3?function(){for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];return s_(i,r.slice(0,o),n,e.name)}:function(){for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];return s_(i,r,n,e.name)}}return e}function s_(e,t,r,n){try{return e(...t)}catch(e){var i,a=e,o=t,u=r,s=n;if(a instanceof TypeError&&(null===(i=a.data)||void 0===i?void 0:i.category)==="wrongType"){var l=[];throw l.push("value: ".concat(a_(o[0]))),o.length>=2&&l.push("index: ".concat(a_(o[1]))),o.length>=3&&l.push("array: ".concat(a_(o[2]))),TypeError("Function ".concat(u," cannot apply callback arguments ")+"".concat(s,"(").concat(l.join(", "),") at index ").concat(JSON.stringify(o[1])))}throw TypeError("Function ".concat(u," cannot apply callback arguments ")+"to function ".concat(s,": ").concat(a.message))}}sD=function(){function e(){return!0}function t(){return!1}function r(){}let n="Argument is not a typed-function.";return function i(){let a,o;function u(e){return"object"==typeof e&&null!==e&&e.constructor===Object}let s=[{name:"number",test:function(e){return"number"==typeof e}},{name:"string",test:function(e){return"string"==typeof e}},{name:"boolean",test:function(e){return"boolean"==typeof e}},{name:"Function",test:function(e){return"function"==typeof e}},{name:"Array",test:Array.isArray},{name:"Date",test:function(e){return e instanceof Date}},{name:"RegExp",test:function(e){return e instanceof RegExp}},{name:"Object",test:u},{name:"null",test:function(e){return null===e}},{name:"undefined",test:function(e){return void 0===e}}],l={name:"any",test:e,isAny:!0},c=0,f={createCount:0};function h(e){let t,r=a.get(e);if(r)return r;let n='Unknown type "'+e+'"',i=e.toLowerCase();for(t of o)if(t.toLowerCase()===i){n+='. Did you mean "'+t+'" ?';break}throw TypeError(n)}function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any",r=t?h(t).index:o.length,n=[];for(let t=0;t<e.length;++t){if(!e[t]||"string"!=typeof e[t].name||"function"!=typeof e[t].test)throw TypeError("Object with properties {name: string, test: function} expected");let i=e[t].name;if(a.has(i))throw TypeError('Duplicate type name "'+i+'"');n.push(i),a.set(i,{name:i,test:e[t].test,isAny:e[t].isAny,index:r+t,conversionsTo:[]})}let i=o.slice(r);o=o.slice(0,r).concat(n).concat(i);for(let e=r+n.length;e<o.length;++e)a.get(o[e]).index=e}function d(){a=new Map,o=[],c=0,p([l],!1)}function m(e){let t=o.filter(t=>{let r=a.get(t);return!r.isAny&&r.test(e)});return t.length?t:["any"]}function g(e){return e&&"function"==typeof e&&"_typedFunctionData"in e}function v(e,t,r){let i,a;if(!g(e))throw TypeError(n);let o=r&&r.exact,u=x(Array.isArray(t)?t.join(","):t),s=y(u);if(!o||s in e.signatures){let t=e._typedFunctionData.signatureMap.get(s);if(t)return t}let l=u.length;if(o){let t;for(t in i=[],e.signatures)i.push(e._typedFunctionData.signatureMap.get(t))}else i=e._typedFunctionData.signatures;for(let e=0;e<l;++e){let t,r=u[e],n=[];for(t of i){let i=E(t.params,e);if(i&&(!r.restParam||i.restParam)){if(!i.hasAny){let e=D(i);if(r.types.some(t=>!e.has(t.name)))continue}n.push(t)}}if(0===(i=n).length)break}for(a of i)if(a.params.length<=l)return a;throw TypeError("Signature not found (signature: "+(e.name||"unnamed")+"("+y(u,", ")+"))")}function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return e.map(e=>e.name).join(t)}function b(e){let t=function(e){if(0===e.length)return[];let t=e.map(h);e.length>1&&t.sort((e,t)=>e.index-t.index);let r=t[0].conversionsTo;if(1===e.length)return r;r=r.concat([]);let n=new Set(e);for(let e=1;e<t.length;++e){let i;for(i of t[e].conversionsTo)n.has(i.from)||(r.push(i),n.add(i.from))}return r}(e.types.map(e=>e.name)),r=e.hasAny,n=e.name,i=t.map(function(e){let t=h(e.from);return r=t.isAny||r,n+="|"+e.from,{name:e.from,typeIndex:t.index,test:t.test,isAny:t.isAny,conversion:e,conversionIndex:e.index}});return{types:e.types.concat(i),name:n,hasAny:r,hasConversion:i.length>0,restParam:e.restParam}}function D(e){return e.typeSet||(e.typeSet=new Set,e.types.forEach(t=>e.typeSet.add(t.name))),e.typeSet}function x(e){let t=[];if("string"!=typeof e)throw TypeError("Signatures must be strings");let r=e.trim();if(""===r)return t;let n=r.split(",");for(let e=0;e<n.length;++e){let r=function(e){let t=0===e.indexOf("..."),r=(t?e.length>3?e.slice(3):"any":e).split("|").map(e=>h(e.trim())),n=!1,i=t?"...":"";return{types:r.map(function(e){return n=e.isAny||n,i+=e.name+"|",{name:e.name,typeIndex:e.index,test:e.test,isAny:e.isAny,conversion:null,conversionIndex:-1}}),name:i.slice(0,-1),hasAny:n,hasConversion:!1,restParam:t}}(n[e].trim());if(r.restParam&&e!==n.length-1)throw SyntaxError('Unexpected rest parameter "'+n[e]+'": only allowed for the last parameter');if(0===r.types.length)return null;t.push(r)}return t}function _(e){let t=z(e);return!!t&&t.restParam}function w(t){if(!t||0===t.types.length)return e;if(1===t.types.length)return h(t.types[0].name).test;if(2===t.types.length){let e=h(t.types[0].name).test,r=h(t.types[1].name).test;return function(t){return e(t)||r(t)}}{let e=t.types.map(function(e){return h(e.name).test});return function(t){for(let r=0;r<e.length;r++)if(e[r](t))return!0;return!1}}}function E(e,t){return t<e.length?e[t]:_(e)?z(e):null}function A(e,t){let r=E(e,t);return r?D(r):new Set}function C(e){return null===e.conversion||void 0===e.conversion}function N(e,t){let r=new Set;return e.forEach(e=>{let n;for(n of A(e.params,t))r.add(n)}),r.has("any")?["any"]:Array.from(r)}function M(e,t,r){let n,i,a,o=e||"unnamed",u=r;for(a=0;a<t.length;a++){let e=[];if(u.forEach(r=>{let n=w(E(r.params,a));(a<r.params.length||_(r.params))&&n(t[a])&&e.push(r)}),0===e.length){if((i=N(u,a)).length>0){let e=m(t[a]);return(n=TypeError("Unexpected type of argument in function "+o+" (expected: "+i.join(" or ")+", actual: "+e.join(" | ")+", index: "+a+")")).data={category:"wrongType",fn:o,index:a,actual:e,expected:i},n}}else u=e}let s=u.map(function(e){return _(e.params)?1/0:e.params.length});if(t.length<Math.min.apply(null,s))return(n=TypeError("Too few arguments in function "+o+" (expected: "+(i=N(u,a)).join(" or ")+", index: "+t.length+")")).data={category:"tooFewArgs",fn:o,index:t.length,expected:i},n;let l=Math.max.apply(null,s);if(t.length>l)return(n=TypeError("Too many arguments in function "+o+" (expected: "+l+", actual: "+t.length+")")).data={category:"tooManyArgs",fn:o,index:t.length,expectedLength:l},n;let c=[];for(let e=0;e<t.length;++e)c.push(m(t[e]).join("|"));return(n=TypeError('Arguments of type "'+c.join(", ")+'" do not match any of the defined signatures of function '+o+".")).data={category:"mismatch",actual:c},n}function F(e){let t=o.length+1;for(let r=0;r<e.types.length;r++)C(e.types[r])&&(t=Math.min(t,e.types[r].typeIndex));return t}function S(e){let t=c+1;for(let r=0;r<e.types.length;r++)C(e.types[r])||(t=Math.min(t,e.types[r].conversionIndex));return t}function T(e,t){let r,n,i=e.params,a=t.params,o=z(i),u=z(a),s=_(i),l=_(a);if(s&&o.hasAny){if(!l||!u.hasAny)return 1}else if(l&&u.hasAny)return -1;let c=0,f=0;for(r of i)r.hasAny&&++c,r.hasConversion&&++f;let h=0,p=0;for(r of a)r.hasAny&&++h,r.hasConversion&&++p;if(c!==h)return c-h;if(s&&o.hasConversion){if(!l||!u.hasConversion)return 1}else if(l&&u.hasConversion)return -1;if(f!==p)return f-p;if(s){if(!l)return 1}else if(l)return -1;let d=(i.length-a.length)*(s?-1:1);if(0!==d)return d;let m=[],g=0;for(let e=0;e<i.length;++e){let t=function(e,t){if(e.hasAny){if(!t.hasAny)return 1}else if(t.hasAny)return -1;if(e.restParam){if(!t.restParam)return 1}else if(t.restParam)return -1;if(e.hasConversion){if(!t.hasConversion)return 1}else if(t.hasConversion)return -1;let r=F(e)-F(t);if(r<0)return -1;if(r>0)return 1;let n=S(e)-S(t);return n<0?-1:+(n>0)}(i[e],a[e]);m.push(t),g+=t}if(0!==g)return g;for(n of m)if(0!==n)return n;return 0}function B(e){let t,r,n,i,a=[],o=[];switch(e.types.forEach(function(e){e.conversion&&(a.push(h(e.conversion.from).test),o.push(e.conversion.convert))}),o.length){case 0:return function(e){return e};case 1:return t=a[0],n=o[0],function(e){return t(e)?n(e):e};case 2:return t=a[0],r=a[1],n=o[0],i=o[1],function(e){return t(e)?n(e):r(e)?i(e):e};default:return function(e){for(let t=0;t<o.length;t++)if(a[t](e))return o[t](e);return e}}}function O(e,t,r){throw M(e,t,r)}function I(e){return R(e,0,e.length-1)}function z(e){return e[e.length-1]}function R(e,t,r){return Array.prototype.slice.call(e,t,r)}function k(e,t){return{referTo:{references:e,callback:t}}}function P(e){if("function"!=typeof e)throw TypeError("Callback function expected as first argument");return{referToSelf:{callback:e}}}function L(e){return e&&"object"==typeof e.referTo&&Array.isArray(e.referTo.references)&&"function"==typeof e.referTo.callback}function q(e){return e&&"object"==typeof e.referToSelf&&"function"==typeof e.referToSelf.callback}function U(e,t){if(!e)return t;if(t&&t!==e){let r=Error("Function names do not match (expected: "+e+", actual: "+t+")");throw r.data={actual:t,expected:e},r}return e}d(),p(s);let j=f;function H(e){if(!e||"string"!=typeof e.from||"string"!=typeof e.to||"function"!=typeof e.convert)throw TypeError("Object with properties {from: string, to: string, convert: function} expected");if(e.to===e.from)throw SyntaxError('Illegal to define conversion from "'+e.from+'" to itself.')}return(f=function(e){let n="string"==typeof e,i=+!!n,a=n?e:"",o={};for(let e=i;e<arguments.length;++e){let t,r=arguments[e],i={};if("function"==typeof r?(t=r.name,"string"==typeof r.signature?i[r.signature]=r:g(r)&&(i=r.signatures)):u(r)&&(i=r,n||(t=function(e){let t;for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(g(e[r])||"string"==typeof e[r].signature)&&(t=U(t,e[r].name));return t}(r))),0===Object.keys(i).length){let t=TypeError("Argument to 'typed' at index "+e+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw t.data={index:e,argument:r},t}n||(a=U(a,t)),function(e,t){let r;for(r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(r in e&&t[r]!==e[r]){let n=Error('Signature "'+r+'" is defined twice');throw n.data={signature:r,sourceFunction:t[r],destFunction:e[r]},n}e[r]=t[r]}}(o,i)}return function(e,n){let i,a;if(f.createCount++,0===Object.keys(n).length)throw SyntaxError("No signatures provided");f.warnAgainstDeprecatedThis&&function(e){let t=/\bthis(\(|\.signatures\b)/;Object.keys(e).forEach(r=>{let n=e[r];if(t.test(n.toString()))throw SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}(n);let o=[],u=[],s={},l=[];for(i in n){let e;if(!Object.prototype.hasOwnProperty.call(n,i))continue;let t=x(i);if(!t)continue;o.forEach(function(e){if(function(e,t){let r=Math.max(e.length,t.length);for(let n=0;n<r;n++){let r,i=A(e,n),a=A(t,n),o=!1;for(r of a)if(i.has(r)){o=!0;break}if(!o)return!1}let n=e.length,i=t.length,a=_(e),o=_(t);return a?o?n===i:i>=n:o?n>=i:n===i}(e,t))throw TypeError('Conflicting signatures "'+y(e)+'" and "'+y(t)+'".')}),o.push(t);let r=u.length;for(e of(u.push(n[i]),function e(t,r,n){if(!(r<t.length))return[n];{var i,a;let o=t[r],u=[];if(o.restParam){let e=o.types.filter(C);e.length<o.types.length&&u.push({types:e,name:"..."+e.map(e=>e.name).join("|"),hasAny:e.some(e=>e.isAny),hasConversion:!1,restParam:!0}),u.push(o)}else u=o.types.map(function(e){return{types:[e],name:e.name,hasAny:e.isAny,hasConversion:e.conversion,restParam:!1}});return i=u,a=function(i){return e(t,r+1,n.concat([i]))},Array.prototype.concat.apply([],i.map(a))}}(t.map(b),0,[]))){let t=y(e);l.push({params:e,name:t,fn:r}),e.every(e=>!e.hasConversion)&&(s[t]=r)}}l.sort(T);let c=function(e,t,r){let n=e.map(e=>q(e)?P(e.referToSelf.callback):L(e)?k(e.referTo.references,e.referTo.callback):e),i=Array(n.length).fill(!1),a=!0;for(;a;){a=!1;let e=!0;for(let o=0;o<n.length;++o){if(i[o])continue;let u=n[o];if(q(u))n[o]=u.referToSelf.callback(r),n[o].referToSelf=u.referToSelf,i[o]=!0,e=!1;else if(L(u)){let r=function(e,t,r){let n,i=[];for(n of e){let e=r[n];if("number"!=typeof e)throw TypeError('No definition for referenced signature "'+n+'"');if("function"!=typeof(e=t[e]))return!1;i.push(e)}return i}(u.referTo.references,n,t);r?(n[o]=u.referTo.callback.apply(this,r),n[o].referTo=u.referTo,i[o]=!0,e=!1):a=!0}}if(e&&a)throw SyntaxError("Circular reference detected in resolving typed.referTo")}return n}(u,s,ef);for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(s[a]=c[s[a]]);let h=[],p=new Map;for(a of l)p.has(a.name)||(a.fn=c[a.fn],h.push(a),p.set(a.name,a));let d=h[0]&&h[0].params.length<=2&&!_(h[0].params),m=h[1]&&h[1].params.length<=2&&!_(h[1].params),g=h[2]&&h[2].params.length<=2&&!_(h[2].params),v=h[3]&&h[3].params.length<=2&&!_(h[3].params),D=h[4]&&h[4].params.length<=2&&!_(h[4].params),E=h[5]&&h[5].params.length<=2&&!_(h[5].params);for(let e=0;e<h.length;++e)h[e].test=function(e){let t,r,n;if(_(e)){let r=(t=I(e).map(w)).length,n=w(z(e)),i=function(e){for(let t=r;t<e.length;t++)if(!n(e[t]))return!1;return!0};return function(e){for(let r=0;r<t.length;r++)if(!t[r](e[r]))return!1;return i(e)&&e.length>=r+1}}return 0===e.length?function(e){return 0===e.length}:1===e.length?(r=w(e[0]),function(e){return r(e[0])&&1===e.length}):2===e.length?(r=w(e[0]),n=w(e[1]),function(e){return r(e[0])&&n(e[1])&&2===e.length}):(t=e.map(w),function(e){for(let r=0;r<t.length;r++)if(!t[r](e[r]))return!1;return e.length===t.length})}(h[e].params);let N=d?w(h[0].params[0]):t,M=m?w(h[1].params[0]):t,F=g?w(h[2].params[0]):t,S=v?w(h[3].params[0]):t,O=D?w(h[4].params[0]):t,U=E?w(h[5].params[0]):t,j=d?w(h[0].params[1]):t,H=m?w(h[1].params[1]):t,$=g?w(h[2].params[1]):t,V=v?w(h[3].params[1]):t,G=D?w(h[4].params[1]):t,W=E?w(h[5].params[1]):t;for(let e=0;e<h.length;++e)h[e].implementation=function(e,t){let r=t;if(e.some(e=>e.hasConversion)){let n=_(e),i=e.map(B);r=function(){let e=[],r=n?arguments.length-1:arguments.length;for(let t=0;t<r;t++)e[t]=i[t](arguments[t]);return n&&(e[r]=arguments[r].map(i[r])),t.apply(this,e)}}let n=r;if(_(e)){let t=e.length-1;n=function(){return r.apply(this,R(arguments,0,t).concat([R(arguments,t)]))}}return n}(h[e].params,h[e].fn);let Y=d?h[0].implementation:r,Z=m?h[1].implementation:r,J=g?h[2].implementation:r,X=v?h[3].implementation:r,K=D?h[4].implementation:r,Q=E?h[5].implementation:r,ee=d?h[0].params.length:-1,et=m?h[1].params.length:-1,er=g?h[2].params.length:-1,en=v?h[3].params.length:-1,ei=D?h[4].params.length:-1,ea=E?h[5].params.length:-1,eo=6*!!(d&&m&&g&&v&&D&&E),eu=h.length,es=h.map(e=>e.test),el=h.map(e=>e.implementation),ec=function(){for(let e=eo;e<eu;e++)if(es[e](arguments))return el[e].apply(this,arguments);return f.onMismatch(e,arguments,h)};function ef(e,t){return arguments.length===ee&&N(e)&&j(t)?Y.apply(this,arguments):arguments.length===et&&M(e)&&H(t)?Z.apply(this,arguments):arguments.length===er&&F(e)&&$(t)?J.apply(this,arguments):arguments.length===en&&S(e)&&V(t)?X.apply(this,arguments):arguments.length===ei&&O(e)&&G(t)?K.apply(this,arguments):arguments.length===ea&&U(e)&&W(t)?Q.apply(this,arguments):ec.apply(this,arguments)}try{Object.defineProperty(ef,"name",{value:e})}catch(e){}return ef.signatures=s,ef._typedFunctionData={signatures:h,signatureMap:p},ef}(a||"",o)}).create=i,f.createCount=j.createCount,f.onMismatch=O,f.throwMismatchError=O,f.createError=M,f.clear=d,f.clearConversions=function(){let e;for(e of o)a.get(e).conversionsTo=[];c=0},f.addTypes=p,f._findType=h,f.referTo=function(){let e=I(arguments).map(e=>y(x(e))),t=z(arguments);if("function"!=typeof t)throw TypeError("Callback function expected as last argument");return k(e,t)},f.referToSelf=P,f.convert=function(e,t){let r=h(t);if(r.test(e))return e;let n=r.conversionsTo;if(0===n.length)throw Error("There are no conversions to "+t+" defined.");for(let t=0;t<n.length;t++)if(h(n[t].from).test(e))return n[t].convert(e);throw Error("Cannot convert "+e+" to "+t)},f.findSignature=v,f.find=function(e,t,r){return v(e,t,r).implementation},f.isTypedFunction=g,f.warnAgainstDeprecatedThis=!0,f.addType=function(e,t){let r="any";!1!==t&&a.has("Object")&&(r="Object"),f.addTypes([e],r)},f.addConversion=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{override:!1};H(e);let r=h(e.to),n=r.conversionsTo.find(t=>t.from===e.from);if(n)if(t&&t.override)f.removeConversion({from:n.from,to:e.to,convert:n.convert});else throw Error('There is already a conversion from "'+e.from+'" to "'+r.name+'"');r.conversionsTo.push({from:e.from,convert:e.convert,index:c++})},f.addConversions=function(e,t){e.forEach(e=>f.addConversion(e,t))},f.removeConversion=function(e){H(e);let t=h(e.to),r=function(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return e[r]}(t.conversionsTo,t=>t.from===e.from);if(!r)throw Error("Attempt to remove nonexistent conversion from "+e.from+" to "+e.to);if(r.convert!==e.convert)throw Error("Conversion to remove does not match existing conversion");let n=t.conversionsTo.indexOf(r);t.conversionsTo.splice(n,1)},f.resolve=function(e,t){if(!g(e))throw TypeError(n);let r=e._typedFunctionData.signatures;for(let e=0;e<r.length;++e)if(r[e].test(t))return r[e];return null},f}()}();var sw=aM("DenseMatrix",["Matrix"],e=>{var{Matrix:t}=e;function r(e,t){if(!(this instanceof r))throw SyntaxError("Constructor must be called with the new operator");if(t&&!iX(t))throw Error("Invalid datatype: "+t);if(iQ(e))"DenseMatrix"===e.type?(this._data=aw(e._data),this._size=aw(e._size)):(this._data=e.toArray(),this._size=e.size()),this._datatype=t||e._datatype;else if(e&&iK(e.data)&&iK(e.size))this._data=e.data,this._size=e.size,ot(this._data,this._size),this._datatype=t||e.datatype;else if(iK(e))this._data=function e(t){return iQ(t)?e(t.valueOf()):iK(t)?t.map(e):t}(e),this._size=oe(this._data),ot(this._data,this._size),this._datatype=t;else if(e)throw TypeError("Unsupported type of data ("+a_(e)+")");else this._data=[],this._size=[0],this._datatype=t}function n(e,t,r){if(0===t.length){for(var n=e._data;iK(n);)n=n[0];return n}return e._size=t.slice(0),e._data=oa(e._data,e._size,r),e}function i(e,t,r){for(var i=e._size.slice(0),a=!1;i.length<t.length;)i.push(0),a=!0;for(var o=0,u=t.length;o<u;o++)t[o]>i[o]&&(i[o]=t[o],a=!0);a&&n(e,i,r)}return r.prototype=new t,r.prototype.createDenseMatrix=function(e,t){return new r(e,t)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return om(this._data,a_)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(e,t){return new r(e,t)},r.prototype.subset=function(e,t,n){switch(arguments.length){case 1:return function(e,t){if(!i3(t))throw TypeError("Invalid index");if(t.isScalar())return e.get(t.min());var n=t.size();if(n.length!==e._size.length)throw new a9(n.length,e._size.length);for(var i=t.min(),a=t.max(),o=0,u=e._size.length;o<u;o++)on(i[o],e._size[o]),on(a[o],e._size[o]);return new r(function e(t,r,n,i){var a=i===n-1,o=r.dimension(i);return a?o.map(function(e){return on(e,t.length),t[e]}).valueOf():o.map(function(a){return on(a,t.length),e(t[a],r,n,i+1)}).valueOf()}(e._data,t,n.length,0),e._datatype)}(this,e);case 2:case 3:return function(e,t,r,n){if(!t||!0!==t.isIndex)throw TypeError("Invalid index");var a,o=t.size(),u=t.isScalar();if(iQ(r)?(a=r.size(),r=r.valueOf()):a=oe(r),u){if(0!==a.length)throw TypeError("Scalar expected");e.set(t.min(),r,n)}else{if(!aA(a,o))try{r=0===a.length?ob([r],o):ob(r,o),a=oe(r)}catch(e){}if(o.length<e._size.length)throw new a9(o.length,e._size.length,"<");if(a.length<o.length){for(var s=0,l=0;1===o[s]&&1===a[s];)s++;for(;1===o[s];)l++,s++;r=oc(r,o.length,l,a)}if(!aA(o,a))throw new a9(o,a,">");i(e,t.max().map(function(e){return e+1}),n);var c=o.length;(function e(t,r,n,i,a){var o=a===i-1,u=r.dimension(a);o?u.forEach(function(e,r){on(e),t[e]=n[r[0]]}):u.forEach(function(o,u){on(o),e(t[o],r,n[u[0]],i,a+1)})})(e._data,t,r,c,0)}return e}(this,e,t,n);default:throw SyntaxError("Wrong number of arguments")}},r.prototype.get=function(e){return oD(this._data,e)},r.prototype.set=function(e,t,r){if(!iK(e))throw TypeError("Array expected");if(e.length<this._size.length)throw new a9(e.length,this._size.length,"<");i(this,e.map(function(e){return e+1}),r);var n,a,o,u=this._data;for(n=0,a=e.length-1;n<a;n++)on(o=e[n],u.length),u=u[o];return on(o=e[e.length-1],u.length),u[o]=t,this},r.prototype.resize=function(e,t,r){if(!i0(e))throw TypeError("Array or Matrix expected");var i=e.valueOf().map(e=>Array.isArray(e)&&1===e.length?e[0]:e);return n(r?this.clone():this,i,t)},r.prototype.reshape=function(e,t){var r=t?this.clone():this;r._data=oo(r._data,e);var n=r._size.reduce((e,t)=>e*t);return r._size=ou(e,n),r},r.prototype.clone=function(){return new r({data:aw(this._data),size:aw(this._size),datatype:this._datatype})},r.prototype.size=function(){return this._size.slice(0)},r.prototype._forEach=function(e){var t=this.size(),r=t.length-1;if(!(r<0)){if(0===r){for(var n=t[0],i=0;i<n;i++)e(this._data,i,[i]);return}var a=Array(t.length);(function n(i,o){var u=t[o];if(o<r)for(var s=0;s<u;s++)a[o]=s,n(i[s],o+1);else for(var l=0;l<u;l++)a[o]=l,e(i,l,a.slice())})(this._data,0)}},r.prototype.map=function(e){var t=this,n=new r(t),i=sx(e,t._data,"map");return n._forEach(function(e,r,n){e[r]=i(e[r],n,t)}),n},r.prototype.forEach=function(e){var t=this,r=sx(e,t._data,"map");t._forEach(function(e,n,i){r(e[n],i,t)})},r.prototype[Symbol.iterator]=function*(){var e=this._size.length-1;if(!(e<0)){if(0===e){for(var t=0;t<this._data.length;t++)yield{value:this._data[t],index:[t]};return}var r=[],n=function*(t,i){if(i<e)for(var a=0;a<t.length;a++)r[i]=a,yield*n(t[a],i+1);else for(var o=0;o<t.length;o++)r[i]=o,yield{value:t[o],index:r.slice()}};yield*n(this._data,0)}},r.prototype.rows=function(){var e=[];if(2!==this.size().length)throw TypeError("Rows can only be returned for a 2D matrix.");for(var t of this._data)e.push(new r([t],this._datatype));return e},r.prototype.columns=function(){var e=this,t=[],n=this.size();if(2!==n.length)throw TypeError("Rows can only be returned for a 2D matrix.");for(var i=this._data,a=function(n){var a=i.map(e=>[e[n]]);t.push(new r(a,e._datatype))},o=0;o<n[1];o++)a(o);return t},r.prototype.toArray=function(){return aw(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(e){return a5(this._data,e)},r.prototype.toString=function(){return a5(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(e){if(e){if(iG(e)&&(e=e.toNumber()),!iV(e)||!aT(e))throw TypeError("The parameter k must be an integer number")}else e=0;for(var t=e>0?e:0,n=e<0?-e:0,i=Math.min(this._size[0]-n,this._size[1]-t),a=[],o=0;o<i;o++)a[o]=this._data[o+n][o+t];return new r({data:a,size:[i],datatype:this._datatype})},r.diagonal=function(e,t,n,i){if(!iK(e))throw TypeError("Array expected, size parameter");if(2!==e.length)throw Error("Only two dimensions matrix are supported");if(e=e.map(function(e){if(iG(e)&&(e=e.toNumber()),!iV(e)||!aT(e)||e<1)throw Error("Size values must be positive integers");return e}),n){if(iG(n)&&(n=n.toNumber()),!iV(n)||!aT(n))throw TypeError("The parameter k must be an integer number")}else n=0;var a,o=n>0?n:0,u=n<0?-n:0,s=e[0],l=e[1],c=Math.min(s-u,l-o);if(iK(t)){if(t.length!==c)throw Error("Invalid value array length");a=function(e){return t[e]}}else if(iQ(t)){var f=t.size();if(1!==f.length||f[0]!==c)throw Error("Invalid matrix length");a=function(e){return t.get([e])}}else a=function(){return t};i||(i=iG(a(0))?a(0).mul(0):0);var h=[];if(e.length>0){h=oa(h,e,i);for(var p=0;p<c;p++)h[p+u][p+o]=a(p)}return new r({data:h,size:[s,l]})},r.fromJSON=function(e){return new r(e)},r.prototype.swapRows=function(e,t){if(!iV(e)||!aT(e)||!iV(t)||!aT(t))throw Error("Row index must be positive integers");if(2!==this._size.length)throw Error("Only two dimensional matrix is supported");return on(e,this._size[0]),on(t,this._size[0]),r._swapRows(e,t,this._data),this},r._swapRows=function(e,t,r){var n=r[e];r[e]=r[t],r[t]=n},r},{isClass:!0}),sE=aM("det",["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],e=>{var{typed:t,matrix:r,subtractScalar:n,multiply:i,divideScalar:a,isZero:o,unaryMinus:u}=e;return t("det",{any:function(e){return aw(e)},"Array | Matrix":function(e){var t;switch((t=iQ(e)?e.size():Array.isArray(e)?(e=r(e)).size():[]).length){case 0:return aw(e);case 1:if(1===t[0])return aw(e.valueOf()[0]);if(0===t[0])return 1;throw RangeError("Matrix must be square (size: "+a5(t)+")");case 2:var s=t[0],l=t[1];if(s===l)return function(e,t,r){if(1===t)return aw(e[0][0]);if(2===t)return n(i(e[0][0],e[1][1]),i(e[1][0],e[0][1]));for(var s=!1,l=Array(t).fill(0).map((e,t)=>t),c=0;c<t;c++){var f=l[c];if(o(e[f][c])){var h=void 0;for(h=c+1;h<t;h++)if(!o(e[l[h]][c])){f=l[h],l[h]=l[c],l[c]=f,s=!s;break}if(h===t)return e[f][c]}for(var p=e[f][c],d=0===c?1:e[l[c-1]][c-1],m=c+1;m<t;m++)for(var g=l[m],v=c+1;v<t;v++)e[g][v]=a(n(i(e[g][v],p),i(e[g][c],e[f][v])),d)}var y=e[l[t-1]][t-1];return s?u(y):y}(e.clone().valueOf(),s,0);if(0===l)return 1;throw RangeError("Matrix must be square (size: "+a5(t)+")");default:throw RangeError("Matrix must be two dimensional (size: "+a5(t)+")")}}})}),sA="diag",sC=aM(sA,["typed","matrix","DenseMatrix","SparseMatrix"],e=>{var{typed:t,matrix:r,DenseMatrix:n,SparseMatrix:i}=e;return t(sA,{Array:function(e){return a(e,0,oe(e),null)},"Array, number":function(e,t){return a(e,t,oe(e),null)},"Array, BigNumber":function(e,t){return a(e,t.toNumber(),oe(e),null)},"Array, string":function(e,t){return a(e,0,oe(e),t)},"Array, number, string":function(e,t,r){return a(e,t,oe(e),r)},"Array, BigNumber, string":function(e,t,r){return a(e,t.toNumber(),oe(e),r)},Matrix:function(e){return a(e,0,e.size(),e.storage())},"Matrix, number":function(e,t){return a(e,t,e.size(),e.storage())},"Matrix, BigNumber":function(e,t){return a(e,t.toNumber(),e.size(),e.storage())},"Matrix, string":function(e,t){return a(e,0,e.size(),t)},"Matrix, number, string":function(e,t,r){return a(e,t,e.size(),r)},"Matrix, BigNumber, string":function(e,t,r){return a(e,t.toNumber(),e.size(),r)}});function a(e,t,a,o){if(!aT(t))throw TypeError("Second parameter in function diag must be an integer");var u=t>0?t:0,s=t<0?-t:0;switch(a.length){case 1:var l=e,c=t,f=o,h=a[0],p=s,d=u,m=[h+p,h+d];if(f&&"sparse"!==f&&"dense"!==f)throw TypeError("Unknown matrix type ".concat(f,'"'));var g="sparse"===f?i.diagonal(m,l,c):n.diagonal(m,l,c);return null!==f?g:g.valueOf();case 2:var v=e,y=t,b=o,D=a,x=s,_=u;if(iQ(v)){var w=v.diagonal(y);return null!==b?b!==w.storage()?r(w,b):w:w.valueOf()}for(var E=Math.min(D[0]-x,D[1]-_),A=[],C=0;C<E;C++)A[C]=v[C+x][C+_];return null!==b?r(A):A}throw RangeError("Matrix for function diag must be 2 dimensional")}}),sN=aM("divide",["typed","matrix","multiply","equalScalar","divideScalar","inv"],e=>{var{typed:t,matrix:r,multiply:n,equalScalar:i,divideScalar:a,inv:o}=e,u=um({typed:t,equalScalar:i}),s=us({typed:t});return t("divide",aE({"Array | Matrix, Array | Matrix":function(e,t){return n(e,o(t))},"DenseMatrix, any":function(e,t){return s(e,t,a,!1)},"SparseMatrix, any":function(e,t){return u(e,t,a,!1)},"Array, any":function(e,t){return s(r(e),t,a,!1).valueOf()},"any, Array | Matrix":function(e,t){return n(e,o(t))}},a.signatures))}),sM="divideScalar",sF=aM(sM,["typed","numeric"],e=>{var{typed:t,numeric:r}=e;return t(sM,{"number, number":function(e,t){return e/t},"Complex, Complex":function(e,t){return e.div(t)},"BigNumber, BigNumber":function(e,t){return e.div(t)},"bigint, bigint":function(e,t){return e/t},"Fraction, Fraction":function(e,t){return e.div(t)},"Unit, number | Complex | Fraction | BigNumber | Unit":(e,t)=>e.divide(t),"number | Fraction | Complex | BigNumber, Unit":(e,t)=>t.divideInto(e)})}),sS=aM("dot",["typed","addScalar","multiplyScalar","conj","size"],e=>{var{typed:t,addScalar:r,multiplyScalar:n,conj:i,size:a}=e;return t("dot",{"Array | DenseMatrix, Array | DenseMatrix":function(e,a){var s=o(e,a),l=iQ(e)?e._data:e,c=iQ(e)?e._datatype||e.getDataType():void 0,f=iQ(a)?a._data:a,h=iQ(a)?a._datatype||a.getDataType():void 0,p=2===u(e).length,d=2===u(a).length,m=r,g=n;if(c&&h&&c===h&&"string"==typeof c&&"mixed"!==c&&(m=t.find(r,[c,c]),g=t.find(n,[c,c])),!p&&!d){for(var v=g(i(l[0]),f[0]),y=1;y<s;y++)v=m(v,g(i(l[y]),f[y]));return v}if(!p&&d){for(var b=g(i(l[0]),f[0][0]),D=1;D<s;D++)b=m(b,g(i(l[D]),f[D][0]));return b}if(p&&!d){for(var x=g(i(l[0][0]),f[0]),_=1;_<s;_++)x=m(x,g(i(l[_][0]),f[_]));return x}if(p&&d){for(var w=g(i(l[0][0]),f[0][0]),E=1;E<s;E++)w=m(w,g(i(l[E][0]),f[E][0]));return w}},"SparseMatrix, SparseMatrix":function(e,t){o(e,t);for(var i=e._index,a=e._values,u=t._index,s=t._values,l=0,c=0,f=0;c<i.length&&f<u.length;){var h=i[c],p=u[f];if(h<p){c++;continue}if(h>p){f++;continue}h===p&&(l=r(l,n(a[c],s[f])),c++,f++)}return l}});function o(e,t){var r,n,i=u(e),a=u(t);if(1===i.length)r=i[0];else if(2===i.length&&1===i[1])r=i[0];else throw RangeError("Expected a column vector, instead got a matrix of size ("+i.join(", ")+")");if(1===a.length)n=a[0];else if(2===a.length&&1===a[1])n=a[0];else throw RangeError("Expected a column vector, instead got a matrix of size ("+a.join(", ")+")");if(r!==n)throw RangeError("Vectors must have equal length ("+r+" != "+n+")");if(0===r)throw RangeError("Cannot calculate the dot product of empty vectors");return r}function u(e){return iQ(e)?e.size():a(e)}}),sT="dotDivide",sB=aM(sT,["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat","SparseMatrix"],e=>{var{typed:t,matrix:r,equalScalar:n,divideScalar:i,DenseMatrix:a,concat:o,SparseMatrix:u}=e,s=ud({typed:t,equalScalar:n}),l=uw({typed:t}),c=uG({typed:t,SparseMatrix:u}),f=um({typed:t,equalScalar:n}),h=uA({typed:t,DenseMatrix:a}),p=uc({typed:t,matrix:r,concat:o});return t(sT,p({elop:i,SS:c,DS:l,SD:s,Ss:f,sS:h}))});function sO(e){var{hasher:t,limit:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r=null==r?Number.POSITIVE_INFINITY:r,t=null==t?JSON.stringify:t,function n(){if("object"!=typeof n.cache){var i,a,o,u,s,l,c;n.cache={values:new Map,lru:(i=r||Number.POSITIVE_INFINITY,a=0,o=1,u=Object.create(null),s=Object.create(null),l=0,c=function(e){var t=s[e];if(t&&(delete u[t],delete s[e],--a,o===t)){if(!a){l=0,o=1;return}for(;!Object.prototype.hasOwnProperty.call(u,++o););}},i=Math.abs(i),{hit:function(e){var t=s[e],r=++l;if(u[r]=e,s[e]=r,!t){if(++a<=i)return;return c(e=u[o]),e}if(delete u[t],o===t)for(;!Object.prototype.hasOwnProperty.call(u,++o););},delete:c,clear:function(){a=l=0,o=1,u=Object.create(null),s=Object.create(null)}})}}for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];var p=t(f);if(n.cache.values.has(p))return n.cache.lru.hit(p),n.cache.values.get(p);var d=e.apply(e,f);return n.cache.values.set(p,d),n.cache.values.delete(n.cache.lru.hit(p)),d}}var sI=sO(function(e){return new e(1).exp()},{hasher:sP}),sz=sO(function(e){return new e(1).plus(new e(5).sqrt()).div(2)},{hasher:sP}),sR=sO(function(e){return e.acos(-1)},{hasher:sP}),sk=sO(function(e){return sR(e).times(2)},{hasher:sP});function sP(e){return e[0].precision}var sL=Math.PI,sq=2*Math.PI,sU=Math.E;e=>{var{config:t,BigNumber:r}=e;return"BigNumber"===t.number?sR(r):sL};var sj=s$("tau",["config","?BigNumber"],e=>{var{config:t,BigNumber:r}=e;return"BigNumber"===t.number?sk(r):sq}),sH=s$("i",["Complex"],e=>{var{Complex:t}=e;return t.I});function s$(e,t,r){return aM(e,t,r,{recreateOnConfigChange:!0})}var sV=aM("eigs",["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],e=>{var{config:t,typed:n,matrix:i,addScalar:a,subtract:o,equal:u,abs:s,atan:l,cos:c,sin:f,multiplyScalar:h,divideScalar:p,inv:d,bignumber:m,multiply:g,add:v,larger:y,column:b,flatten:D,number:x,complex:_,sqrt:w,diag:E,size:A,reshape:C,qr:N,usolve:M,usolveAll:F,im:S,re:T,smaller:B,matrixFromColumns:O,dot:I}=e,z=function(e){var{config:t,addScalar:r,subtract:n,abs:i,atan:a,cos:o,sin:u,multiplyScalar:s,inv:l,bignumber:c,multiply:f,add:h}=e;function p(e){for(var t=e.length,r=0,n=[0,1],i=0;i<t;i++)for(var a=i+1;a<t;a++)Math.abs(r)<Math.abs(e[i][a])&&(r=Math.abs(e[i][a]),n=[i,a]);return[n,r]}function d(e){for(var t=e.length,r=0,n=[0,1],a=0;a<t;a++)for(var o=a+1;o<t;o++)i(r)<i(e[a][o])&&(r=i(e[a][o]),n=[a,o]);return[n,r]}function m(e,t,r){var n,a=e.length,o=Array(a);if(r){n=Array(a);for(var u=0;u<a;u++)n[u]=Array(a)}for(var s=0;s<a;s++){for(var l=0,c=e[0],f=0;f<e.length;f++)i(e[f])<i(c)&&(c=e[l=f]);if(o[s]=e.splice(l,1)[0],r)for(var h=0;h<a;h++)n[s][h]=t[h][l],t[h].splice(l,1)}if(!r)return{values:o};var p=n.map((e,t)=>({value:o[t],vector:e}));return{values:o,eigenvectors:p}}return function(e,g){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.relTol,y=arguments.length>3?arguments[3]:void 0,b=arguments.length>4?arguments[4]:void 0;if("number"===y)return function(e,r,n){var i,a,o=e.length,u=Math.abs(r/o);if(n){a=Array(o);for(var s=0;s<o;s++)a[s]=Array(o).fill(0),a[s][s]=1}for(var l=p(e);Math.abs(l[1])>=Math.abs(u);){var c,f,h,d=l[0][0],g=l[0][1];c=e[d][d],f=e[g][g],h=e[d][g],e=function(e,t,r,n){for(var i=e.length,a=Math.cos(t),o=Math.sin(t),u=a*a,s=o*o,l=Array(i).fill(0),c=Array(i).fill(0),f=u*e[r][r]-2*a*o*e[r][n]+s*e[n][n],h=s*e[r][r]+2*a*o*e[r][n]+u*e[n][n],p=0;p<i;p++)l[p]=a*e[r][p]-o*e[n][p],c[p]=o*e[r][p]+a*e[n][p];e[r][r]=f,e[n][n]=h,e[r][n]=0,e[n][r]=0;for(var d=0;d<i;d++)d!==r&&d!==n&&(e[r][d]=l[d],e[d][r]=l[d],e[n][d]=c[d],e[d][n]=c[d]);return e}(e,i=Math.abs(f-c)<=t.relTol?Math.PI/4:.5*Math.atan(2*h/(f-c)),d,g),n&&(a=function(e,t,r,n){for(var i=e.length,a=Math.cos(t),o=Math.sin(t),u=Array(i).fill(0),s=Array(i).fill(0),l=0;l<i;l++)u[l]=a*e[l][r]-o*e[l][n],s[l]=o*e[l][r]+a*e[l][n];for(var c=0;c<i;c++)e[c][r]=u[c],e[c][n]=s[c];return e}(a,i,d,g)),l=p(e)}for(var v=Array(o).fill(0),y=0;y<o;y++)v[y]=e[y][y];return m(aw(v),a,n)}(e,v,b);if("BigNumber"===y)return function(e,p,g){var v,y,b=e.length,D=i(p/b);if(g){y=Array(b);for(var x=0;x<b;x++)y[x]=Array(b).fill(0),y[x][x]=1}for(var _=d(e);i(_[1])>=i(D);){var w=_[0][0],E=_[0][1];v=function(e,r,o){var u=n(r,e);return i(u)<=t.relTol?c(-1).acos().div(4):s(.5,a(f(2,o,l(u))))}(e[w][w],e[E][E],e[w][E]),e=function(e,t,i,a){for(var l=e.length,p=c(o(t)),d=c(u(t)),m=s(p,p),g=s(d,d),v=Array(l).fill(c(0)),y=Array(l).fill(c(0)),b=f(c(2),p,d,e[i][a]),D=r(n(s(m,e[i][i]),b),s(g,e[a][a])),x=h(s(g,e[i][i]),b,s(m,e[a][a])),_=0;_<l;_++)v[_]=n(s(p,e[i][_]),s(d,e[a][_])),y[_]=r(s(d,e[i][_]),s(p,e[a][_]));e[i][i]=D,e[a][a]=x,e[i][a]=c(0),e[a][i]=c(0);for(var w=0;w<l;w++)w!==i&&w!==a&&(e[i][w]=v[w],e[w][i]=v[w],e[a][w]=y[w],e[w][a]=y[w]);return e}(e,v,w,E),g&&(y=function(e,t,i,a){for(var l=e.length,f=o(t),h=u(t),p=Array(l).fill(c(0)),d=Array(l).fill(c(0)),m=0;m<l;m++)p[m]=n(s(f,e[m][i]),s(h,e[m][a])),d[m]=r(s(h,e[m][i]),s(f,e[m][a]));for(var g=0;g<l;g++)e[g][i]=p[g],e[g][a]=d[g];return e}(y,v,w,E)),_=d(e)}for(var A=Array(b).fill(0),C=0;C<b;C++)A[C]=e[C][C];return m(aw(A),y,g)}(e,v,b);throw TypeError("Unsupported data type: "+y)}}({config:t,addScalar:a,subtract:o,column:b,flatten:D,equal:u,abs:s,atan:l,cos:c,sin:f,multiplyScalar:h,inv:d,bignumber:m,complex:_,multiply:g,add:v}),R=function(e){var{addScalar:t,subtract:r,flatten:n,multiply:i,multiplyScalar:a,divideScalar:o,sqrt:u,abs:s,bignumber:l,diag:c,size:f,reshape:h,inv:p,qr:d,usolve:m,usolveAll:g,equal:v,complex:y,larger:b,smaller:D,matrixFromColumns:x,dot:_}=e;function w(e,t){for(var r=0;r<e.length;r++)e[r].push(...Array(t-e[r].length).fill(0));for(var n=e.length;n<t;n++)e.push(Array(t).fill(0)),e[n][n]=1;return e}function E(e,t){var n=f(e);for(var a of t)e=r(e,i(o(_(a=h(a,n),e),_(a,a)),a));return e}function A(e){return s(u(_(e,e)))}function C(e,t){return i(o("BigNumber"===t?l(1):"Complex"===t?y(1):1,A(e)),e)}return function(e,f,h,x){var _=!(arguments.length>4)||void 0===arguments[4]||arguments[4],N=function(e,r,n,i,u){var f,h="BigNumber"===i,p=h?l(0):0,d=h?l(1):"Complex"===i?y(1):1,m=h?l(1):1,g=h?l(10):2,x=a(g,g);u&&(f=Array(r).fill(d));for(var _=!1;!_;){_=!0;for(var w=0;w<r;w++){for(var E=p,A=p,C=0;C<r;C++)w!==C&&(E=t(E,s(e[C][w])),A=t(A,s(e[w][C])));if(!v(E,0)&&!v(A,0)){for(var N=m,M=E,F=o(A,g),S=a(A,g);D(M,F);)M=a(M,x),N=a(N,g);for(;b(M,S);)M=o(M,x),N=o(N,g);if(D(o(t(M,A),N),a(t(E,A),.95))){_=!1;for(var T=o(1,N),B=0;B<r;B++)w!==B&&(e[w][B]=a(e[w][B],T),e[B][w]=a(e[B][w],N));u&&(f[w]=a(f[w],T))}}}}return u?c(f):null}(e,f,0,x,_);!function(e,n,i,u,c,f){var h="BigNumber"===u,p=h?l(0):"Complex"===u?y(0):0;h&&(i=l(i));for(var d=0;d<n-2;d++){for(var m=0,g=p,v=d+1;v<n;v++){var b=e[v][d];D(s(g),s(b))&&(g=b,m=v)}if(!D(s(g),i)){if(m!==d+1){var x=e[m];e[m]=e[d+1],e[d+1]=x;for(var _=0;_<n;_++){var w=e[_][m];e[_][m]=e[_][d+1],e[_][d+1]=w}if(c){var E=f[m];f[m]=f[d+1],f[d+1]=E}}for(var A=d+2;A<n;A++){var C=o(e[A][d],g);if(0!==C){for(var N=0;N<n;N++)e[A][N]=r(e[A][N],a(C,e[d+1][N]));for(var M=0;M<n;M++)e[M][d+1]=t(e[M][d+1],a(C,e[M][A]));if(c)for(var F=0;F<n;F++)f[A][F]=r(f[A][F],a(C,f[d+1][F]))}}}}}(e,f,h,x,_,N);var{values:M,C:F}=function(e,n,o,f,h){var p="BigNumber"===f,m="Complex"===f,g=p?l(1):m?y(1):1;p&&(o=l(o));for(var v=aw(e),x=[],_=n,E=[],A=h?c(Array(n).fill(g)):void 0,C=h?c(Array(_).fill(g)):void 0,N=0;N<=100;){N+=1;for(var M=v[_-1][_-1],F=0;F<_;F++)v[F][F]=r(v[F][F],M);var{Q:S,R:T}=d(v);v=i(T,S);for(var B=0;B<_;B++)v[B][B]=t(v[B][B],M);if(h&&(C=i(C,S)),1===_||D(s(v[_-1][_-2]),o)){N=0,x.push(v[_-1][_-1]),h&&(E.unshift([[1]]),w(C,n),A=i(A,C),_>1&&(C=c(Array(_-1).fill(g)))),_-=1,v.pop();for(var O=0;O<_;O++)v[O].pop()}else if(2===_||D(s(v[_-2][_-3]),o)){N=0;var I=function(e,n,i,o){var s=t(e,o),l=r(a(e,o),a(n,i)),c=a(s,.5),f=a(u(r(a(s,s),a(4,l))),.5);return[t(c,f),r(c,f)]}(v[_-2][_-2],v[_-2][_-1],v[_-1][_-2],v[_-1][_-1]);x.push(...I),h&&(E.unshift(function(e,t,n,i,a,o,u,c){var f="BigNumber"===c,h="Complex"===c,p=f?l(0):h?y(0):0,d=f?l(1):h?y(1):1;if(D(s(n),u))return[[d,p],[p,d]];if(b(s(r(a,o)),u))return[[r(a,i),r(o,i)],[n,n]];var m=r(e,a),g=r(i,a);return D(s(t),u)&&D(s(g),u)?[[m,d],[n,p]]:[[t,p],[g,d]]}(v[_-2][_-2],v[_-2][_-1],v[_-1][_-2],v[_-1][_-1],I[0],I[1],o,f)),w(C,n),A=i(A,C),_>2&&(C=c(Array(_-2).fill(g)))),_-=2,v.pop(),v.pop();for(var z=0;z<_;z++)v[z].pop(),v[z].pop()}if(0===_)break}if(x.sort((e,t)=>+r(s(e),s(t))),N>100){var R=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+x.join(", "));throw R.values=x,R.vectors=[],R}return{values:x,C:h?i(A,function(e,t){for(var r=[],n=0;n<t;n++)r[n]=Array(t).fill(0);var i=0;for(var a of e){for(var o=a.length,u=0;u<o;u++)for(var s=0;s<o;s++)r[i+u][i+s]=a[u][s];i+=o}return r}(E,n)):void 0}}(e,f,h,x,_);if(_){var S=function(e,t,a,o,u,s,f){var h=i(p(a),e,a),d="BigNumber"===f,x="Complex"===f,_=d?l(0):x?y(0):0,w=d?l(1):x?y(1):1,N=[],M=[];for(var F of u){var S=function(e,t,r){for(var n=0;n<e.length;n++)if(r(e[n],t))return n;return -1}(N,F,v);-1===S?(N.push(F),M.push(1)):M[S]+=1}for(var T=[],B=N.length,O=Array(t).fill(_),I=c(Array(t).fill(w)),z=0;z<B;z++)!function(){var e=N[z],u=r(h,i(e,I)),c=g(u,O);for(c.shift();c.length<M[z];){var d=function(e,t,r,n,i){for(var a,o="BigNumber"===i?l(1e3):1e3,u=0;u<5;++u){a=function(e,t,r){var n="BigNumber"===r,i="Complex"===r,a=Array(e).fill(0).map(e=>2*Math.random()-1);return n&&(a=a.map(e=>l(e))),i&&(a=a.map(e=>y(e))),C(a=E(a,t),r)}(t,r,i);try{a=m(e,a)}catch(e){continue}if(b(A(a),o))break}if(u>=5)return null;for(u=0;;){var s=m(e,a);if(D(A(E(a,[s])),n))break;if(++u>=10)return null;a=C(s)}return a}(u,t,c,s,f);if(null===d)break;c.push(d)}var v=i(p(o),a);c=c.map(e=>i(v,e)),T.push(...c.map(t=>({value:e,vector:n(t)})))}();return T}(e,f,F,N,M,h,x);return{values:M,eigenvectors:S}}return{values:M}}}({config:t,addScalar:a,subtract:o,multiply:g,multiplyScalar:h,flatten:D,divideScalar:p,sqrt:w,abs:s,bignumber:m,diag:E,size:A,reshape:C,qr:N,inv:d,usolve:M,usolveAll:F,equal:u,complex:_,larger:y,smaller:B,matrixFromColumns:O,dot:I});return n("eigs",{Array:function(e){return k(i(e))},"Array, number|BigNumber":function(e,t){return k(i(e),{precision:t})},"Array, Object":(e,t)=>k(i(e),t),Matrix:function(e){return k(e,{matricize:!0})},"Matrix, number|BigNumber":function(e,t){return k(e,{precision:t,matricize:!0})},"Matrix, Object":function(e,t){var n={matricize:!0};return r(iR)(n,t),k(e,n)}});function k(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=!("eigenvectors"in n)||n.eigenvectors,u=function(e,t,r){var n=e.toArray(),i=e.size();if(2!==i.length||i[0]!==i[1])throw RangeError("Matrix must be square (size: ".concat(a5(i),")"));var a=i[0];if(function(e,t,r){for(var n=0;n<t;n++)for(var i=0;i<t;i++)if(y(m(s(S(e[n][i]))),r))return!1;return!0}(n,a,t)&&(function(e,t){for(var r=0;r<t;r++)for(var n=0;n<t;n++)e[r][n]=T(e[r][n])}(n,a),function(e,t,r){for(var n=0;n<t;n++)for(var i=n;i<t;i++)if(y(m(s(o(e[n][i],e[i][n]))),r))return!1;return!0}(n,a,t))){var u=P(e,n,a);return z(n,a,t,u,r)}var l=P(e,n,a);return R(n,a,t,l,r)}(e,null!==(r=n.precision)&&void 0!==r?r:t.relTol,a);return n.matricize&&(u.values=i(u.values),a&&(u.eigenvectors=u.eigenvectors.map(e=>{var{value:t,vector:r}=e;return{value:t,vector:i(r)}}))),a&&Object.defineProperty(u,"vectors",{enumerable:!1,get:()=>{throw Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),u}function P(e,t,r){var n=e.datatype();if("number"===n||"BigNumber"===n||"Complex"===n)return n;for(var i=!1,a=!1,o=!1,u=0;u<r;u++)for(var s=0;s<r;s++){var l=t[u][s];if(iV(l)||iZ(l))i=!0;else if(iG(l))a=!0;else if(iY(l))o=!0;else throw TypeError("Unsupported type in Matrix: "+a_(l))}if(a&&o&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),o){for(var c=0;c<r;c++)for(var f=0;f<r;f++)t[c][f]=_(t[c][f]);return"Complex"}if(a){for(var h=0;h<r;h++)for(var p=0;p<r;p++)t[h][p]=m(t[h][p]);return"BigNumber"}if(i){for(var d=0;d<r;d++)for(var g=0;g<r;g++)t[d][g]=x(t[d][g]);return"number"}throw TypeError("Matrix contains unsupported types only.")}}),sG="equal",sW=aM(sG,["typed","matrix","equalScalar","DenseMatrix","concat","SparseMatrix"],e=>{var{typed:t,matrix:r,equalScalar:n,DenseMatrix:i,concat:a,SparseMatrix:o}=e,u=uw({typed:t}),s=uG({typed:t,SparseMatrix:o}),l=uA({typed:t,DenseMatrix:i}),c=uc({typed:t,matrix:r,concat:a});return t(sG,sY({typed:t,equalScalar:n}),c({elop:n,SS:s,DS:u,Ss:l}))}),sY=aM(sG,["typed","equalScalar"],e=>{var{typed:t,equalScalar:r}=e;return t(sG,{"any, any":function(e,t){return null===e?null===t:null===t?null===e:void 0===e?void 0===t:void 0===t?void 0===e:r(e,t)}})}),sZ="equalScalar",sJ=aM(sZ,["typed","config"],e=>{var{typed:t,config:r}=e,n=u7({typed:t});return t(sZ,{"boolean, boolean":function(e,t){return e===t},"number, number":function(e,t){return aW(e,t,r.relTol,r.absTol)},"BigNumber, BigNumber":function(e,t){return e.eq(t)||uY(e,t,r.relTol,r.absTol)},"bigint, bigint":function(e,t){return e===t},"Fraction, Fraction":function(e,t){return e.equals(t)},"Complex, Complex":function(e,t){var n,i;return n=r.relTol,i=r.absTol,aW(e.re,t.re,n,i)&&aW(e.im,t.im,n,i)}},n)});aM(sZ,["typed","config"],e=>{var{typed:t,config:r}=e;return t(sZ,{"number, number":function(e,t){return aW(e,t,r.relTol,r.absTol)}})});var sX=.46875,sK=.5641895835477563,sQ=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,21531153547440383e-24],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,6587491615298378e-19,.016315387137302097]],s0=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],s1=0x20000000000000,s2=aM("exp",["typed"],e=>{var{typed:t}=e;return t("exp",{number:oq,Complex:function(e){return e.exp()},BigNumber:function(e){return e.exp()}})}),s8="factorial",s3=aM(s8,["typed","gamma"],e=>{var{typed:t,gamma:r}=e;return t(s8,{number:function(e){if(e<0)throw Error("Value must be non-negative");return r(e+1)},BigNumber:function(e){if(e.isNegative())throw Error("Value must be non-negative");return r(e.plus(1))},"Array | Matrix":t.referToSelf(e=>t=>oC(t,e))})}),s5=(e=>{var{typed:t,matrix:r,addScalar:n,multiplyScalar:i,divideScalar:a,exp:o,tau:u,i:s,dotDivide:l,conj:c,pow:f,ceil:h,log2:p}=e;return t("fft",{Array:d,Matrix:function(e){return e.create(d(e.valueOf()),e.datatype())}});function d(e){var t=oe(e);return 1===t.length?m(e,t[0]):function e(t,r){var n=oe(t);if(0!==r)return Array(n[0]).fill(0).map((n,i)=>e(t[i],r-1));if(1===n.length)return m(t);function i(e){var t=oe(e);return Array(t[1]).fill(0).map((r,n)=>Array(t[0]).fill(0).map((t,r)=>e[r][n]))}return i(e(i(t),1))}(e.map(e=>d(e,t.slice(1))),0)}function m(e){var t=e.length;if(1===t)return[e[0]];if(t%2!=0)return function(e){for(var t=e.length,r=o(a(i(-1,i(s,u)),t)),n=[],g=1-t;g<t;g++)n.push(f(r,a(f(g,2),2)));for(var v=f(2,h(p(t+t-1))),y=[...Array(t).fill(0).map((r,a)=>i(e[a],n[t-1+a])),...Array(v-t).fill(0)],b=[...Array(t+t-1).fill(0).map((e,t)=>a(1,n[t])),...Array(v-(t+t-1)).fill(0)],D=m(y),x=m(b),_=l(c(d(c(Array(v).fill(0).map((e,t)=>i(D[t],x[t]))))),v),w=[],E=t-1;E<t+t-1;E++)w.push(i(_[E],n[E]));return w}(e);for(var r=[...m(e.filter((e,t)=>t%2==0),t/2),...m(e.filter((e,t)=>t%2==1),t/2)],g=0;g<t/2;g++){var v=r[g],y=i(r[g+t/2],o(i(i(u,s),a(-g,t))));r[g]=n(v,y),r[g+t/2]=n(v,i(-1,y))}return r}},aM("FibonacciHeap",["smaller","larger"],e=>{var{smaller:t,larger:r}=e,n=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function a(e,t,r){t.left.right=t.right,t.right.left=t.left,r.degree--,r.child===t&&(r.child=t.right),0===r.degree&&(r.child=null),t.left=e,t.right=e.right,e.right=t,t.right.left=t,t.parent=null,t.mark=!1}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(e,r){var n={key:e,value:r,degree:0};if(this._minimum){var i=this._minimum;n.left=i,n.right=i.right,i.right=n,n.right.left=n,t(e,i.key)&&(this._minimum=n)}else n.left=n,n.right=n,this._minimum=n;return this._size++,n},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return 0===this._size},i.prototype.extractMinimum=function(){var e=this._minimum;if(null===e)return e;for(var i=this._minimum,a=e.degree,u=e.child;a>0;){var s=u.right;u.left.right=u.right,u.right.left=u.left,u.left=i,u.right=i.right,i.right=u,u.right.left=u,u.parent=null,u=s,a--}return e.left.right=e.right,e.right.left=e.left,i=e===e.right?null:function(e,i){var a,u=Math.floor(Math.log(i)*n)+1,s=Array(u),l=0,c=e;if(c)for(l++,c=c.right;c!==e;)l++,c=c.right;for(;l>0;){for(var f=c.degree,h=c.right;a=s[f];){if(r(c.key,a.key)){var p=a;a=c,c=p}o(a,c),s[f]=null,f++}s[f]=c,c=h,l--}e=null;for(var d=0;d<u;d++)(a=s[d])&&(e?(a.left.right=a.right,a.right.left=a.left,a.left=e,a.right=e.right,e.right=a,a.right.left=a,t(a.key,e.key)&&(e=a)):e=a);return e}(i=e.right,this._size),this._size--,this._minimum=i,e},i.prototype.remove=function(e){var r,n,i,o;this._minimum=(r=this._minimum,i=-1,(n=e).key=-1,(o=n.parent)&&t(n.key,o.key)&&(a(r,n,o),function e(t,r){var n=r.parent;n&&(r.mark?(a(t,r,n),e(n)):r.mark=!0)}(r,o)),t(n.key,r.key)&&(r=n),r),this.extractMinimum()};var o=function(e,t){e.left.right=e.right,e.right.left=e.left,e.parent=t,t.child?(e.left=t.child,e.right=t.child.right,t.child.right=e,e.right.left=e):(t.child=e,e.right=e,e.left=e),t.degree++,e.mark=!1};return i},{isClass:!0}));function s6(e,t){var r=sx(t,e,"filter");if(1!==oe(e).length)throw Error("Only one dimensional matrices supported");return Array.prototype.filter.call(e,function(e,t,n){return r(e,[t],n)})}var s4=aM("fix",["typed","ceil","floor"],e=>{var{typed:t,ceil:r,floor:n}=e;return t("fix",{number:function(e){return e>0?n(e):r(e)},"number, number":function(e,t){return e>0?n(e,t):r(e,t)}})}),s7=aM("fix",["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],e=>{var{typed:t,Complex:r,matrix:n,ceil:i,floor:a,equalScalar:o,zeros:u,DenseMatrix:s}=e,l=uA({typed:t,DenseMatrix:s}),c=us({typed:t}),f=s4({typed:t,ceil:i,floor:a});return t("fix",{number:f.signatures.number,"number, number | BigNumber":f.signatures["number,number"],Complex:function(e){return new r(e.re>0?Math.floor(e.re):Math.ceil(e.re),e.im>0?Math.floor(e.im):Math.ceil(e.im))},"Complex, number":function(e,t){return new r(e.re>0?a(e.re,t):i(e.re,t),e.im>0?a(e.im,t):i(e.im,t))},"Complex, BigNumber":function(e,t){var n=t.toNumber();return new r(e.re>0?a(e.re,n):i(e.re,n),e.im>0?a(e.im,n):i(e.im,n))},BigNumber:function(e){return e.isNegative()?i(e):a(e)},"BigNumber, number | BigNumber":function(e,t){return e.isNegative()?i(e,t):a(e,t)},bigint:e=>e,"bigint, number":(e,t)=>e,"bigint, BigNumber":(e,t)=>e,Fraction:function(e){return e.s<0n?e.ceil():e.floor()},"Fraction, number | BigNumber":function(e,t){return e.s<0n?i(e,t):a(e,t)},"Unit, number, Unit":t.referToSelf(e=>function(t,r,n){var i=t.toNumeric(n);return n.multiply(e(i,r))}),"Unit, BigNumber, Unit":t.referToSelf(e=>(t,r,n)=>e(t,r.toNumber(),n)),"Array | Matrix, number | BigNumber, Unit":t.referToSelf(e=>(t,r,n)=>oC(t,t=>e(t,r,n),!0)),"Array | Matrix | Unit, Unit":t.referToSelf(e=>(t,r)=>e(t,0,r)),"Array | Matrix":t.referToSelf(e=>t=>oC(t,e,!0)),"Array | Matrix, number | BigNumber":t.referToSelf(e=>(t,r)=>oC(t,t=>e(t,r),!0)),"number | Complex | Fraction | BigNumber, Array":t.referToSelf(e=>(t,r)=>c(n(r),t,e,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":t.referToSelf(e=>(t,r)=>o(t,0)?u(r.size(),r.storage()):"dense"===r.storage()?c(r,t,e,!0):l(r,t,e,!0))})}),s9="flatten",le=aM(s9,["typed"],e=>{var{typed:t}=e;return t(s9,{Array:function(e){return of(e)},Matrix:function(e){return e.create(of(e.valueOf()),e.datatype())}})}),lt="floor",lr=new(r(uM))(10),ln=aM(lt,["typed","config","round"],e=>{var{typed:t,config:r,round:n}=e;function i(e){var t=Math.floor(e),i=n(e);return t===i?t:aW(e,i,r.relTol,r.absTol)&&!aW(e,t,r.relTol,r.absTol)?i:t}return t(lt,{number:i,"number, number":function(e,t){if(!aT(t))throw RangeError("number of decimals in function floor must be an integer");if(t<0||t>15)throw RangeError("number of decimals in floor number must be in range 0 - 15");var r=10**t;return i(e*r)/r}})}),li=aM(lt,["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],e=>{var{typed:t,config:r,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:u}=e,s=um({typed:t,equalScalar:a}),l=uA({typed:t,DenseMatrix:u}),c=us({typed:t}),f=ln({typed:t,config:r,round:n});function h(e){var t=(e,t)=>uY(e,t,r.relTol,r.absTol),i=e.floor(),a=n(e);return i.eq(a)?i:t(e,a)&&!t(e,i)?a:i}return t("floor",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(e){return e.floor()},"Complex, number":function(e,t){return e.floor(t)},"Complex, BigNumber":function(e,t){return e.floor(t.toNumber())},BigNumber:h,"BigNumber, BigNumber":function(e,t){var r=lr.pow(t);return h(e.mul(r)).div(r)},bigint:e=>e,"bigint, number":(e,t)=>e,"bigint, BigNumber":(e,t)=>e,Fraction:function(e){return e.floor()},"Fraction, number":function(e,t){return e.floor(t)},"Fraction, BigNumber":function(e,t){return e.floor(t.toNumber())},"Unit, number, Unit":t.referToSelf(e=>function(t,r,n){var i=t.toNumeric(n);return n.multiply(e(i,r))}),"Unit, BigNumber, Unit":t.referToSelf(e=>(t,r,n)=>e(t,r.toNumber(),n)),"Array | Matrix, number | BigNumber, Unit":t.referToSelf(e=>(t,r,n)=>oC(t,t=>e(t,r,n),!0)),"Array | Matrix | Unit, Unit":t.referToSelf(e=>(t,r)=>e(t,0,r)),"Array | Matrix":t.referToSelf(e=>t=>oC(t,e,!0)),"Array, number | BigNumber":t.referToSelf(e=>(t,r)=>oC(t,t=>e(t,r),!0)),"SparseMatrix, number | BigNumber":t.referToSelf(e=>(t,r)=>s(t,r,e,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(e=>(t,r)=>c(t,r,e,!1)),"number | Complex | Fraction | BigNumber, Array":t.referToSelf(e=>(t,r)=>c(i(r),t,e,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":t.referToSelf(e=>(t,r)=>a(t,0)?o(r.size(),r.storage()):"dense"===r.storage()?c(r,t,e,!0):l(r,t,e,!0))})}),la="forEach";function lo(e,t){o_(e,sx(t,e,la))}var lu="format",ls=aM(lu,["typed"],e=>{var{typed:t}=e;return t(lu,{any:a5,"any, Object | function | number | BigNumber":a5})}),ll=aM("fraction",["typed","Fraction"],e=>{var{typed:t,Fraction:r}=e;return t("fraction",{number:function(e){if(!isFinite(e)||isNaN(e))throw Error(e+" cannot be represented as a fraction");return new r(e)},string:function(e){return new r(e)},"number, number":function(e,t){return new r(e,t)},"bigint, bigint":function(e,t){return new r(e,t)},null:function(e){return new r(0)},BigNumber:function(e){return new r(e.toString())},bigint:function(e){return new r(e.toString())},Fraction:function(e){return e},Unit:t.referToSelf(e=>t=>{var r=t.clone();return r.value=e(t.value),r}),Object:function(e){return new r(e)},"Array | Matrix":t.referToSelf(e=>t=>oC(t,e))})}),lc={};!function(e){function t(){return Error("Parameters must be integer")}function r(){return Error("Invalid argument")}function n(){return Error("Division by Zero")}function i(e,i){var o=f,u=h;let s=h;if(null!=e)if(void 0!==i){if("bigint"==typeof e)o=e;else{if(isNaN(e))throw r();if(0!=e%1)throw t();o=BigInt(e)}if("bigint"==typeof i)u=i;else{if(isNaN(i))throw r();if(0!=i%1)throw t();u=BigInt(i)}s=o*u}else if("object"==typeof e){if("d"in e&&"n"in e)o=BigInt(e.n),u=BigInt(e.d),"s"in e&&(o*=BigInt(e.s));else if(0 in e)o=BigInt(e[0]),1 in e&&(u=BigInt(e[1]));else if("bigint"==typeof e)o=e;else throw r();s=o*u}else if("number"==typeof e){if(isNaN(e))throw r();if(0>e&&(s=-h,e=-e),0==e%1)o=BigInt(e);else if(0<e){i=1;var l=0,c=1,p=1;let t=1;for(1<=e&&(i=10**Math.floor(1+Math.log10(e)),e/=i);1e7>=c&&1e7>=t;)if(e===(u=(l+p)/(c+t))){1e7>=c+t?(o=l+p,u=c+t):t>c?(o=p,u=t):(o=l,u=c);break}else e>u?(l+=p,c+=t):(p+=l,t+=c),1e7<c?(o=p,u=t):(o=l,u=c);o=BigInt(o)*BigInt(i),u=BigInt(u)}}else if("string"==typeof e){if(u=0,l=i=o=f,c=p=h,null===(e=e.replace(/_/g,"").match(/\d+|./g)))throw r();if("-"===e[u]?(s=-h,u++):"+"===e[u]&&u++,e.length===u+1?i=a(e[u++],s):"."===e[u+1]||"."===e[u]?("."!==e[u]&&(o=a(e[u++],s)),(++u+1===e.length||"("===e[u+1]&&")"===e[u+3]||"'"===e[u+1]&&"'"===e[u+3])&&(i=a(e[u],s),p=m**BigInt(e[u].length),u++),("("===e[u]&&")"===e[u+2]||"'"===e[u]&&"'"===e[u+2])&&(l=a(e[u+1],s),c=m**BigInt(e[u+1].length)-h,u+=3)):"/"===e[u+1]||":"===e[u+1]?(i=a(e[u],s),p=a(e[u+2],h),u+=3):"/"===e[u+3]&&" "===e[u+1]&&(o=a(e[u],s),i=a(e[u+2],s),p=a(e[u+4],h),u+=5),e.length<=u)s=o=l+(u=p*c)*o+c*i;else throw r()}else if("bigint"==typeof e)s=o=e,u=h;else throw r();if(u===f)throw n();g.s=s<f?-h:h,g.n=o<f?-o:o,g.d=u<f?-u:u}function a(e,t){try{e=BigInt(e)}catch(e){throw r()}return e*t}function o(e){return"bigint"==typeof e?e:Math.floor(e)}function u(e,t){if(t===f)throw n();let r=Object.create(c.prototype);r.s=e<f?-h:h;let i=l(e=e<f?-e:e,t);return r.n=e/i,r.d=t/i,r}function s(e){let t={},r=e,n=p,i=d-h;for(;i<=r;){for(;r%n===f;)r/=n,t[n]=(t[n]||f)+h;i+=h+p*n++}return r!==e?1<r&&(t[r]=(t[r]||f)+h):t[e]=(t[e]||f)+h,t}function l(e,t){if(!e)return t;if(!t)return e;for(;;){if(!(e%=t))return t;if(!(t%=e))return e}}function c(e,t){if(i(e,t),!(this instanceof c))return u(g.s*g.n,g.d);e=l(g.d,g.n),this.s=g.s,this.n=g.n/e,this.d=g.d/e}"undefined"==typeof BigInt&&(BigInt=function(e){if(isNaN(e))throw Error("");return e});let f=BigInt(0),h=BigInt(1),p=BigInt(2),d=BigInt(5),m=BigInt(10),g={s:h,n:f,d:h};c.prototype={s:h,n:f,d:h,abs:function(){return u(this.n,this.d)},neg:function(){return u(-this.s*this.n,this.d)},add:function(e,t){return i(e,t),u(this.s*this.n*g.d+g.s*this.d*g.n,this.d*g.d)},sub:function(e,t){return i(e,t),u(this.s*this.n*g.d-g.s*this.d*g.n,this.d*g.d)},mul:function(e,t){return i(e,t),u(this.s*g.s*this.n*g.n,this.d*g.d)},div:function(e,t){return i(e,t),u(this.s*g.s*this.n*g.d,this.d*g.n)},clone:function(){return u(this.s*this.n,this.d)},mod:function(e,t){if(void 0===e)return u(this.s*this.n%this.d,h);if(i(e,t),f===g.n*this.d)throw n();return u(this.s*g.d*this.n%(g.n*this.d),g.d*this.d)},gcd:function(e,t){return i(e,t),u(l(g.n,this.n)*l(g.d,this.d),g.d*this.d)},lcm:function(e,t){return i(e,t),g.n===f&&this.n===f?u(f,h):u(g.n*this.n,l(g.n,this.n)*l(g.d,this.d))},inverse:function(){return u(this.s*this.d,this.n)},pow:function(e,t){if(i(e,t),g.d===h)return g.s<f?u((this.s*this.d)**g.n,this.n**g.n):u((this.s*this.n)**g.n,this.d**g.n);if(this.s<f)return null;e=s(this.n),t=s(this.d);let r=h,n=h;for(let t in e)if("1"!==t){if("0"===t){r=f;break}if(e[t]*=g.n,e[t]%g.d!==f)return null;e[t]/=g.d,r*=BigInt(t)**e[t]}for(let e in t)if("1"!==e){if(t[e]*=g.n,t[e]%g.d!==f)return null;t[e]/=g.d,n*=BigInt(e)**t[e]}return g.s<f?u(n,r):u(r,n)},log:function(e,t){if(i(e,t),this.s<=f||g.s<=f)return null;var r={};e=s(g.n);let n=s(g.d);t=s(this.n);let a=s(this.d);for(var o in n)e[o]=(e[o]||f)-n[o];for(var c in a)t[c]=(t[c]||f)-a[c];for(var h in e)"1"!==h&&(r[h]=!0);for(var p in t)"1"!==p&&(r[p]=!0);for(let n in c=o=null,r)if(h=e[n]||f,r=t[n]||f,h===f){if(r!==f)return null}else if(p=l(r,h),r/=p,h/=p,null===o&&null===c)o=r,c=h;else if(r*c!=o*h)return null;return null!==o&&null!==c?u(o,c):null},equals:function(e,t){return i(e,t),this.s*this.n*g.d==g.s*g.n*this.d},lt:function(e,t){return i(e,t),this.s*this.n*g.d<g.s*g.n*this.d},lte:function(e,t){return i(e,t),this.s*this.n*g.d<=g.s*g.n*this.d},gt:function(e,t){return i(e,t),this.s*this.n*g.d>g.s*g.n*this.d},gte:function(e,t){return i(e,t),this.s*this.n*g.d>=g.s*g.n*this.d},compare:function(e,t){return i(e,t),(f<(e=this.s*this.n*g.d-g.s*g.n*this.d))-(e<f)},ceil:function(e){return e=m**BigInt(e||0),u(o(this.s*e*this.n/this.d)+(e*this.n%this.d>f&&this.s>=f?h:f),e)},floor:function(e){return e=m**BigInt(e||0),u(o(this.s*e*this.n/this.d)-(e*this.n%this.d>f&&this.s<f?h:f),e)},round:function(e){return e=m**BigInt(e||0),u(o(this.s*e*this.n/this.d)+this.s*((this.s>=f?h:f)+e*this.n%this.d*p>this.d?h:f),e)},roundTo:function(e,t){i(e,t);var r=this.n*g.d;return t=r%(e=this.d*g.n),r=o(r/e),t+t>=e&&r++,u(this.s*r*g.n,g.d)},divisible:function(e,t){return i(e,t),!(!(g.n*this.d)||this.n*g.d%(g.n*this.d))},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(e){let t=this.n,r=this.d;e=e||15;t:{for(n=r;n%p===f;n/=p);for(;n%d===f;n/=d);if(n===h)n=f;else{for(var n,i=m%n,a=1;i!==h;a++)if(i=i*m%n,2e3<a){n=f;break t}n=BigInt(a)}}t:{i=h,a=m;var u=n;let e=h;for(;u>f;a=a*a%r,u>>=h)u&h&&(e=e*a%r);for(u=0,a=e;300>u;u++){if(i===a){i=BigInt(u);break t}i=i*m%r,a=a*m%r}i=0}if(a=i,i=(this.s<f?"-":"")+o(t/r),(t=t%r*m)&&(i+="."),n){for(e=a;e--;)i+=o(t/r),t%=r,t*=m;for(i+="(",e=n;e--;)i+=o(t/r),t%=r,t*=m;i+=")"}else for(;t&&e--;)i+=o(t/r),t%=r,t*=m;return i},toFraction:function(e){let t=this.n,r=this.d,n=this.s<f?"-":"";if(r===h)n+=t;else{let i=o(t/r);e&&i>f&&(n+=i,n+=" ",t%=r),n=n+t+"/"+r}return n},toLatex:function(e){let t=this.n,r=this.d,n=this.s<f?"-":"";if(r===h)n+=t;else{let i=o(t/r);e&&i>f&&(n+=i,t%=r),n=n+"\\frac{"+t+"}{"+r+"}"}return n},toContinued:function(){let e=this.n,t=this.d,r=[];do{r.push(o(e/t));let n=e%t;e=t,t=n}while(e!==h)return r},simplify:function(e){e=BigInt(1/(e||.001)|0);let t=this.abs(),r=t.toContinued();for(let i=1;i<r.length;i++){let a=u(r[i-1],h);for(var n=i-2;0<=n;n--)a=a.inverse().add(r[n]);if((n=a.sub(t)).n*e<n.d)return a.mul(this.s)}return this}},"function"==typeof define&&define.amd?define([],function(){return c}):(Object.defineProperty(c,"__esModule",{value:!0}),c.default=c,c.Fraction=c,lc=c)}(0);var lf=aM("Fraction",[],()=>(Object.defineProperty(r(lc),"name",{value:"Fraction"}),r(lc).prototype.constructor=r(lc),r(lc).prototype.type="Fraction",r(lc).prototype.isFraction=!0,r(lc).prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},r(lc).fromJSON=function(e){return new(r(lc))(e)},r(lc)),{isClass:!0});function lh(e){if(aT(e))return e<=0?isFinite(e)?1/0:NaN:e>171?1/0:u1(1,e-1);if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*lh(1-e));if(e>=171.35)return 1/0;if(e>85){var t,r=e*e,n=r*e,i=n*e,a=i*e;return Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*r)-139/(51840*n)-571/(2488320*i)+163879/(0xc756000*a)+5246819/(0x11850f0000*a*e))}--e,t=ld[0];for(var o=1;o<ld.length;++o)t+=ld[o]/(e+o);var u=e+lp+.5;return Math.sqrt(2*Math.PI)*Math.pow(u,e+.5)*Math.exp(-u)*t}e=>{var{typed:t,add:r,multiply:n,Complex:i,divide:a,matrix:o}=e;return t("freqz",{"Array, Array":function(e,t){return u(e,t,s(512))},"Array, Array, Array":function(e,t,r){return u(e,t,r)},"Array, Array, number":function(e,t,r){if(r<0)throw Error("w must be a positive number");return u(e,t,s(r))},"Matrix, Matrix":function(e,t){var r=s(512),{w:n,h:i}=u(e.valueOf(),t.valueOf(),r);return{w:o(n),h:o(i)}},"Matrix, Matrix, Matrix":function(e,t,r){var{h:n}=u(e.valueOf(),t.valueOf(),r.valueOf());return{h:o(n),w:o(r)}},"Matrix, Matrix, number":function(e,t,r){if(r<0)throw Error("w must be a positive number");var n=s(r),{h:i}=u(e.valueOf(),t.valueOf(),n);return{h:o(i),w:o(n)}}});function u(e,t,o){for(var u=[],s=[],l=0;l<o.length;l++){for(var c=i(0,0),f=i(0,0),h=0;h<e.length;h++)c=r(c,n(e[h],i(Math.cos(-h*o[l]),Math.sin(-h*o[l]))));for(var p=0;p<t.length;p++)f=r(f,n(t[p],i(Math.cos(-p*o[l]),Math.sin(-p*o[l]))));u.push(c),s.push(f)}for(var d=[],m=0;m<u.length;m++)d.push(a(u[m],s[m]));return{h:d,w:o}}function s(e){for(var t=[],r=0;r<e;r++)t.push(r/e*Math.PI);return t}},lh.signature="number";var lp=4.7421875,ld=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,1580887032249125e-19,-21026444172410488e-20,21743961811521265e-20,-1643181065367639e-19,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],lm=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function lg(e){if(e<0)return NaN;if(0===e)return 1/0;if(!isFinite(e))return e;if(e<.5)return Math.log(Math.PI/Math.sin(Math.PI*e))-lg(1-e);for(var t=(e-=1)+5+.5,r=lm[0],n=6;n>=1;n--)r+=lm[n]/(e+n);return .9189385332046728+(e+.5)*Math.log(t)-t+Math.log(r)}lg.signature="number";var lv="gamma",ly=aM(lv,["typed","config","multiplyScalar","pow","BigNumber","Complex"],e=>{var{typed:t,config:r,multiplyScalar:n,pow:i,BigNumber:a,Complex:o}=e;return t(lv,{number:lh,Complex:function e(t){if(0===t.im)return lh(t.re);if(t.re<.5){var r=new o(1-t.re,-t.im),n=new o(Math.PI*t.re,Math.PI*t.im);return new o(Math.PI).div(n.sin()).div(e(r))}t=new o(t.re-1,t.im);for(var i=new o(ld[0],0),a=1;a<ld.length;++a){var u=new o(ld[a],0);i=i.add(u.div(t.add(a)))}var s=new o(t.re+lp+.5,t.im),l=Math.sqrt(2*Math.PI),c=s.pow(t.add(.5)),f=s.neg().exp();return i.mul(l).mul(c).mul(f)},BigNumber:function(e){if(e.isInteger())return e.isNegative()||e.isZero()?new a(1/0):function e(t){if(t<8)return new a([1,1,2,6,24,120,720,5040][t]);var n=r.precision+(0|Math.log(t.toNumber())),i=a.clone({precision:n});if(t%2==1)return t.times(e(new a(t-1)));for(var o=t,u=new i(t),s=t.toNumber();o>2;)o-=2,s+=o,u=u.times(s);return new a(u.toPrecision(a.precision))}(e.minus(1));if(!e.isFinite())return new a(e.isNegative()?NaN:1/0);throw Error("Integer BigNumber expected")}})}),lb=aM("mod",["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],e=>{var{typed:t,config:r,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:u,concat:s}=e,l=li({typed:t,config:r,round:n,matrix:i,equalScalar:a,zeros:o,DenseMatrix:u}),c=ud({typed:t,equalScalar:a}),f=uw({typed:t}),h=u4({typed:t,equalScalar:a}),p=um({typed:t,equalScalar:a}),d=uA({typed:t,DenseMatrix:u}),m=uc({typed:t,matrix:i,concat:s});return t("mod",{"number, number":function(e,t){return 0===t?e:e-t*l(e/t)},"BigNumber, BigNumber":function(e,t){return t.isZero()?e:e.sub(t.mul(l(e.div(t))))},"bigint, bigint":function(e,t){if(0n===t)return e;if(e<0){var r=e%t;return 0n===r?r:r+t}return e%t},"Fraction, Fraction":function(e,t){return t.equals(0)?e:e.sub(t.mul(l(e.div(t))))}},m({SS:h,DS:f,SD:c,Ss:p,sS:d}))});function lD(e,t,r,n){if(!(this instanceof lD))throw SyntaxError("Constructor must be called with the new operator");this.fn=e,this.count=t,this.min=r,this.max=n,this.message="Wrong number of arguments in function "+e+" ("+t+" provided, "+r+(null!=n?"-"+n:"")+" expected)",this.stack=Error().stack}lD.prototype=Error(),lD.prototype.constructor=Error,lD.prototype.name="ArgumentsError",lD.prototype.isArgumentsError=!0;var lx="number | BigNumber | Fraction | Matrix | Array",l_="".concat(lx,", ").concat(lx,", ...").concat(lx);function lw(e){return!e.some(e=>Array.isArray(e))}var lE="getMatrixDataType",lA=aM(lE,["typed"],e=>{var{typed:t}=e;return t(lE,{Array:function(e){return om(e,a_)},Matrix:function(e){return e.getDataType()}})});aM("hex",["typed","format"],e=>{var{typed:t,format:r}=e;return t("hex",{"number | BigNumber":function(e){return r(e,{notation:"hex"})},"number | BigNumber, number | BigNumber":function(e,t){return r(e,{notation:"hex",wordSize:t})}})});var lC="identity",lN=aM(lC,["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],e=>{var{typed:t,config:r,matrix:n,BigNumber:i,DenseMatrix:a,SparseMatrix:o}=e;return t(lC,{"":function(){return"Matrix"===r.matrix?n([]):[]},string:function(e){return n(e)},"number | BigNumber":function(e){return s(e,e,"Matrix"===r.matrix?"dense":void 0)},"number | BigNumber, string":function(e,t){return s(e,e,t)},"number | BigNumber, number | BigNumber":function(e,t){return s(e,t,"Matrix"===r.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(e,t,r){return s(e,t,r)},Array:function(e){return u(e)},"Array, string":function(e,t){return u(e,t)},Matrix:function(e){return u(e.valueOf(),e.storage())},"Matrix, string":function(e,t){return u(e.valueOf(),t)}});function u(e,t){switch(e.length){case 0:return t?n(t):[];case 1:return s(e[0],e[0],t);case 2:return s(e[0],e[1],t);default:throw Error("Vector containing two values expected")}}function s(e,t,r){var n=iG(e)||iG(t)?i:null;if(iG(e)&&(e=e.toNumber()),iG(t)&&(t=t.toNumber()),!aT(e)||e<1||!aT(t)||t<1)throw Error("Parameters in function identity must be positive integers");var u=n?new i(1):1,s=n?new n(0):0,l=[e,t];if(r){if("sparse"===r)return o.diagonal(l,u,0,s);if("dense"===r)return a.diagonal(l,u,0,s);throw TypeError('Unknown matrix type "'.concat(r,'"'))}for(var c=oa([],l,s),f=e<t?e:t,h=0;h<f;h++)c[h][h]=u;return c}}),lM=aM("im",["typed"],e=>{var{typed:t}=e;return t("im",{number:()=>0,"BigNumber | Fraction":e=>e.mul(0),Complex:e=>e.im,"Array | Matrix":t.referToSelf(e=>t=>oC(t,e))})}),lF=aM("ImmutableDenseMatrix",["smaller","DenseMatrix"],e=>{var{smaller:t,DenseMatrix:r}=e;function n(e,t){if(!(this instanceof n))throw SyntaxError("Constructor must be called with the new operator");if(t&&!iX(t))throw Error("Invalid datatype: "+t);if(iQ(e)||iK(e)){var i=new r(e,t);this._data=i._data,this._size=i._size,this._datatype=i._datatype,this._min=null,this._max=null}else if(e&&iK(e.data)&&iK(e.size))this._data=e.data,this._size=e.size,this._datatype=e.datatype,this._min=void 0!==e.min?e.min:null,this._max=void 0!==e.max?e.max:null;else if(e)throw TypeError("Unsupported type of data ("+a_(e)+")");else this._data=[],this._size=[0],this._datatype=t,this._min=null,this._max=null}return n.prototype=new r,n.prototype.type="ImmutableDenseMatrix",n.prototype.isImmutableDenseMatrix=!0,n.prototype.subset=function(e){switch(arguments.length){case 1:var t=r.prototype.subset.call(this,e);if(iQ(t))return new n({data:t._data,size:t._size,datatype:t._datatype});return t;case 2:case 3:throw Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw SyntaxError("Wrong number of arguments")}},n.prototype.set=function(){throw Error("Cannot invoke set on an Immutable Matrix instance")},n.prototype.resize=function(){throw Error("Cannot invoke resize on an Immutable Matrix instance")},n.prototype.reshape=function(){throw Error("Cannot invoke reshape on an Immutable Matrix instance")},n.prototype.clone=function(){return new n({data:aw(this._data),size:aw(this._size),datatype:this._datatype})},n.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.fromJSON=function(e){return new n(e)},n.prototype.swapRows=function(){throw Error("Cannot invoke swapRows on an Immutable Matrix instance")},n.prototype.min=function(){if(null===this._min){var e=null;this.forEach(function(r){(null===e||t(r,e))&&(e=r)}),this._min=null!==e?e:void 0}return this._min},n.prototype.max=function(){if(null===this._max){var e=null;this.forEach(function(r){(null===e||t(e,r))&&(e=r)}),this._max=null!==e?e:void 0}return this._max},n},{isClass:!0}),lS="index",lT=aM(lS,["typed","Index"],e=>{var{typed:t,Index:r}=e;return t(lS,{"...number | string | BigNumber | Range | Array | Matrix":function(e){var t=e.map(function(e){return iG(e)?e.toNumber():iK(e)||iQ(e)?e.map(function(e){return iG(e)?e.toNumber():e}):e}),n=new r;return r.apply(n,t),n}})}),lB=aM("Index",["ImmutableDenseMatrix","getMatrixDataType"],e=>{var{ImmutableDenseMatrix:t,getMatrixDataType:r}=e;function n(e){if(!(this instanceof n))throw SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var t=0,a=arguments.length;t<a;t++){var o=arguments[t],u=iK(o),s=iQ(o),l=typeof o,c=null;if(i8(o))this._dimensions.push(o),this._isScalar=!1;else if(u||s){var f=void 0;"boolean"===r(o)?(u&&(f=i(lO(o).valueOf())),s&&(f=i(lO(o._data).valueOf())),c=o.valueOf().length):f=i(o.valueOf()),this._dimensions.push(f);var h=f.size();(1!==h.length||1!==h[0]||null!==c)&&(this._isScalar=!1)}else if("number"===l)this._dimensions.push(i([o]));else if("bigint"===l)this._dimensions.push(i([Number(o)]));else if("string"===l)this._dimensions.push(o);else throw TypeError("Dimension must be an Array, Matrix, number, bigint, string, or Range");this._sourceSize.push(c)}}function i(e){for(var r=0,n=e.length;r<n;r++)if("number"!=typeof e[r]||!aT(e[r]))throw TypeError("Index parameters must be positive integer numbers");return new t(e)}return n.prototype.type="Index",n.prototype.isIndex=!0,n.prototype.clone=function(){var e=new n;return e._dimensions=aw(this._dimensions),e._isScalar=this._isScalar,e._sourceSize=this._sourceSize,e},n.create=function(e){var t=new n;return n.apply(t,e),t},n.prototype.size=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];e[t]="string"==typeof n?1:n.size()[0]}return e},n.prototype.max=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];e[t]="string"==typeof n?n:n.max()}return e},n.prototype.min=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];e[t]="string"==typeof n?n:n.min()}return e},n.prototype.forEach=function(e){for(var t=0,r=this._dimensions.length;t<r;t++)e(this._dimensions[t],t,this)},n.prototype.dimension=function(e){return"number"!=typeof e?null:this._dimensions[e]||null},n.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},n.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},n.prototype.isScalar=function(){return this._isScalar},n.prototype.toArray=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];e.push("string"==typeof n?n:n.toArray())}return e},n.prototype.valueOf=n.prototype.toArray,n.prototype.toString=function(){for(var e=[],t=0,r=this._dimensions.length;t<r;t++){var n=this._dimensions[t];"string"==typeof n?e.push(JSON.stringify(n)):e.push(n.toString())}return"["+e.join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},n.fromJSON=function(e){return n.create(e.dimensions)},n},{isClass:!0});function lO(e){var t=[];return e.forEach((e,r)=>{e&&t.push(r)}),t}var lI=aM("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],e=>{var{typed:t,matrix:r,divideScalar:n,addScalar:i,multiply:a,unaryMinus:o,det:u,identity:s,abs:l}=e;return t("inv",{"Array | Matrix":function(e){var t=iQ(e)?e.size():oe(e);switch(t.length){case 1:if(1===t[0])if(iQ(e))return r([n(1,e.valueOf()[0])]);else return[n(1,e[0])];throw RangeError("Matrix must be square (size: "+a5(t)+")");case 2:var i=t[0],a=t[1];if(i===a)if(iQ(e))return r(c(e.valueOf(),i,a),e.storage());else return c(e,i,a);throw RangeError("Matrix must be square (size: "+a5(t)+")");default:throw RangeError("Matrix must be two dimensional (size: "+a5(t)+")")}},any:function(e){return n(1,e)}});function c(e,t,r){if(1===t){if(0===(p=e[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,p)]]}if(2===t){var c,f,h,p,d,m=u(e);if(0===m)throw Error("Cannot calculate inverse, determinant is zero");return[[n(e[1][1],m),n(o(e[0][1]),m)],[n(o(e[1][0]),m),n(e[0][0],m)]]}var g=e.concat();for(c=0;c<t;c++)g[c]=g[c].concat();for(var v=s(t).valueOf(),y=0;y<r;y++){var b=l(g[y][y]),D=y;for(c=y+1;c<t;)l(g[c][y])>b&&(b=l(g[c][y]),D=c),c++;if(0===b)throw Error("Cannot calculate inverse, determinant is zero");(c=D)!==y&&(d=g[y],g[y]=g[c],g[c]=d,d=v[y],v[y]=v[c],v[c]=d);var x=g[y],_=v[y];for(c=0;c<t;c++){var w=g[c],E=v[c];if(c!==y){if(0!==w[y]){for(h=n(o(w[y]),x[y]),f=y;f<r;f++)w[f]=i(w[f],a(h,x[f]));for(f=0;f<r;f++)E[f]=i(E[f],a(h,_[f]))}}else{for(h=x[y],f=y;f<r;f++)w[f]=n(w[f],h);for(f=0;f<r;f++)E[f]=n(E[f],h)}}}return v}}),lz="isInteger",lR=aM(lz,["typed"],e=>{var{typed:t}=e;return t(lz,{number:aT,BigNumber:function(e){return e.isInt()},bigint:function(e){return!0},Fraction:function(e){return 1n===e.d},"Array | Matrix":t.referToSelf(e=>t=>oC(t,e))})}),lk="number";function lP(e){return Number.isNaN(e)}lP.signature=lk;var lL="isNaN",lq=aM(lL,["typed"],e=>{var{typed:t}=e;return t(lL,{number:lP,BigNumber:function(e){return e.isNaN()},bigint:function(e){return!1},Fraction:function(e){return!1},Complex:function(e){return e.isNaN()},Unit:function(e){return Number.isNaN(e.value)},"Array | Matrix":t.referToSelf(e=>t=>oC(t,e))})}),lU="isNegative",lj=aM(lU,["typed","config"],e=>{var{typed:t,config:r}=e;return t(lU,{number:e=>!aW(e,0,r.relTol,r.absTol)&&e<0,BigNumber:e=>!uY(e,new e.constructor(0),r.relTol,r.absTol)&&e.isNeg()&&!e.isZero()&&!e.isNaN(),bigint:e=>e<0n,Fraction:e=>e.s<0n,Unit:t.referToSelf(e=>r=>t.find(e,r.valueType())(r.value)),"Array | Matrix":t.referToSelf(e=>t=>oC(t,e))})}),lH="isNumeric",l$=aM(lH,["typed"],e=>{var{typed:t}=e;return t(lH,{"number | BigNumber | bigint | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":t.referToSelf(e=>t=>oC(t,e))})}),lV="isPositive",lG=aM(lV,["typed","config"],e=>{var{typed:t,config:r}=e;return t(lV,{number:e=>!aW(e,0,r.relTol,r.absTol)&&e>0,BigNumber:e=>!uY(e,new e.constructor(0),r.relTol,r.absTol)&&!e.isNeg()&&!e.isZero()&&!e.isNaN(),bigint:e=>e>0n,Fraction:e=>e.s>0n&&e.n>0n,Unit:t.referToSelf(e=>r=>t.find(e,r.valueType())(r.value)),"Array | Matrix":t.referToSelf(e=>t=>oC(t,e))})}),lW="isZero",lY=aM(lW,["typed","equalScalar"],e=>{var{typed:t,equalScalar:r}=e;return t(lW,{"number | BigNumber | Complex | Fraction":e=>r(e,0),bigint:e=>0n===e,Unit:t.referToSelf(e=>r=>t.find(e,r.valueType())(r.value)),"Array | Matrix":t.referToSelf(e=>t=>oC(t,e))})}),lZ="larger",lJ=aM(lZ,["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],e=>{var{typed:t,config:r,bignumber:n,matrix:i,DenseMatrix:a,concat:o,SparseMatrix:u}=e,s=uw({typed:t}),l=uG({typed:t,SparseMatrix:u}),c=uA({typed:t,DenseMatrix:a}),f=uc({typed:t,matrix:i,concat:o}),h=u7({typed:t});function p(e,t){return e.gt(t)&&!uY(e,t,r.relTol,r.absTol)}return t(lZ,lX({typed:t,config:r}),{"boolean, boolean":(e,t)=>e>t,"BigNumber, BigNumber":p,"bigint, bigint":(e,t)=>e>t,"Fraction, Fraction":(e,t)=>1===e.compare(t),"Fraction, BigNumber":function(e,t){return p(n(e),t)},"BigNumber, Fraction":function(e,t){return p(e,n(t))},"Complex, Complex":function(){throw TypeError("No ordering relation is defined for complex numbers")}},h,f({SS:l,DS:s,Ss:c}))}),lX=aM(lZ,["typed","config"],e=>{var{typed:t,config:r}=e;return t(lZ,{"number, number":function(e,t){return e>t&&!aW(e,t,r.relTol,r.absTol)}})}),lK="largerEq",lQ=aM(lK,["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],e=>{var{typed:t,config:r,matrix:n,DenseMatrix:i,concat:a,SparseMatrix:o}=e,u=uw({typed:t}),s=uG({typed:t,SparseMatrix:o}),l=uA({typed:t,DenseMatrix:i}),c=uc({typed:t,matrix:n,concat:a}),f=u7({typed:t});return t(lK,l0({typed:t,config:r}),{"boolean, boolean":(e,t)=>e>=t,"BigNumber, BigNumber":function(e,t){return e.gte(t)||uY(e,t,r.relTol,r.absTol)},"bigint, bigint":function(e,t){return e>=t},"Fraction, Fraction":(e,t)=>-1!==e.compare(t),"Complex, Complex":function(){throw TypeError("No ordering relation is defined for complex numbers")}},f,c({SS:s,DS:u,Ss:l}))}),l0=aM(lK,["typed","config"],e=>{var{typed:t,config:r}=e;return t(lK,{"number, number":function(e,t){return e>=t||aW(e,t,r.relTol,r.absTol)}})}),l1=aM("matAlgo08xS0Sid",["typed","equalScalar"],e=>{var{typed:t,equalScalar:r}=e;return function(e,n,i){var a,o,u,s,l,c=e._values,f=e._index,h=e._ptr,p=e._size,d=e._datatype||void 0===e._data?e._datatype:e.getDataType(),m=n._values,g=n._index,v=n._ptr,y=n._size,b=n._datatype||void 0===n._data?n._datatype:n.getDataType();if(p.length!==y.length)throw new a9(p.length,y.length);if(p[0]!==y[0]||p[1]!==y[1])throw RangeError("Dimension mismatch. Matrix A ("+p+") must match Matrix B ("+y+")");if(!c||!m)throw Error("Cannot perform operation on Pattern Sparse Matrices");var D=p[0],x=p[1],_=r,w=0,E=i;"string"==typeof d&&d===b&&"mixed"!==d&&(a=d,_=t.find(r,[a,a]),w=t.convert(0,a),E=t.find(i,[a,a]));for(var A=[],C=[],N=[],M=[],F=[],S=0;S<x;S++){N[S]=C.length;var T=S+1;for(u=h[S],s=h[S+1],o=u;o<s;o++)F[l=f[o]]=T,M[l]=c[o],C.push(l);for(u=v[S],s=v[S+1],o=u;o<s;o++)F[l=g[o]]===T&&(M[l]=E(M[l],m[o]));for(o=N[S];o<C.length;){var B=M[l=C[o]];_(B,w)?C.splice(o,1):(A.push(B),o++)}}return N[x]=C.length,e.createSparseMatrix({values:A,index:C,ptr:N,size:[D,x],datatype:d===e._datatype&&b===n._datatype?a:void 0})}}),l2=aM("useMatrixForArrayScalar",["typed","matrix"],e=>{var{typed:t,matrix:r}=e;return{"Array, number":t.referTo("DenseMatrix, number",e=>(t,n)=>e(r(t),n).valueOf()),"Array, BigNumber":t.referTo("DenseMatrix, BigNumber",e=>(t,n)=>e(r(t),n).valueOf()),"number, Array":t.referTo("number, DenseMatrix",e=>(t,n)=>e(t,r(n)).valueOf()),"BigNumber, Array":t.referTo("BigNumber, DenseMatrix",e=>(t,n)=>e(t,r(n)).valueOf())}});function l8(e,t,r,n){return function(i){if(i>0||r.predictable){if(i<=0)return NaN;var a=i.toString(16),o=a.substring(0,15);return e*(a.length-o.length)+t(Number("0x"+o))}return n(i.toNumber())}}var l3=Math.log(16),l5=(e=>{var{typed:t,typeOf:r,config:n,divideScalar:i,Complex:a}=e;function o(e){return e.log()}function u(e){return o(new a(e,0))}return t("log",{number:function(e){return e>=0||n.predictable?oH(e):u(e)},bigint:l8(l3,oH,n,u),Complex:o,BigNumber:function(e){return!e.isNegative()||n.predictable?e.ln():u(e.toNumber())},"any, any":t.referToSelf(e=>(t,n)=>{if("Fraction"===r(t)&&"Fraction"===r(n)){var a=t.log(n);if(null!==a)return a}return i(e(t),e(n))})})},o$(16)),l6="log2",l4=aM(l6,["typed","config","Complex"],e=>{var{typed:t,config:r,Complex:n}=e;function i(e){return a(new n(e,0))}return t(l6,{number:function(e){return e>=0||r.predictable?oV(e):i(e)},bigint:l8(4,oV,r,i),Complex:a,BigNumber:function(e){return!e.isNegative()||r.predictable?e.log(2):i(e.toNumber())},"Array | Matrix":t.referToSelf(e=>t=>oC(t,e))});function a(e){var t=Math.sqrt(e.re*e.re+e.im*e.im);return new n(Math.log2?Math.log2(t):Math.log(t)/Math.LN2,Math.atan2(e.im,e.re)/Math.LN2)}});function l7(e){var{DenseMatrix:t}=e;return function(e,r,n){var i=e.size();if(2!==i.length)throw RangeError("Matrix must be two dimensional (size: "+a5(i)+")");var a=i[0];if(a!==i[1])throw RangeError("Matrix must be square (size: "+a5(i)+")");var o=[];if(iQ(r)){var u=r.size(),s=r._data;if(1===u.length){if(u[0]!==a)throw RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var l=0;l<a;l++)o[l]=[s[l]];return new t({data:o,size:[a,1],datatype:r._datatype})}if(2===u.length){if(u[0]!==a||1!==u[1])throw RangeError("Dimension mismatch. Matrix columns must match vector length.");if(i1(r)){if(n){o=[];for(var c=0;c<a;c++)o[c]=[s[c][0]];return new t({data:o,size:[a,1],datatype:r._datatype})}return r}if(i2(r)){for(var f=0;f<a;f++)o[f]=[0];for(var h=r._values,p=r._index,d=r._ptr,m=d[1],g=d[0];g<m;g++)o[p[g]][0]=h[g];return new t({data:o,size:[a,1],datatype:r._datatype})}}throw RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(iK(r)){var v=oe(r);if(1===v.length){if(v[0]!==a)throw RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var y=0;y<a;y++)o[y]=[r[y]];return new t({data:o,size:[a,1]})}if(2===v.length){if(v[0]!==a||1!==v[1])throw RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var b=0;b<a;b++)o[b]=[r[b][0]];return new t({data:o,size:[a,1]})}throw RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var l9="lsolve",ce=aM(l9,["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],e=>{var{typed:t,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:u}=e,s=l7({DenseMatrix:u});return t(l9,{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var r=(t=s(e,t,!0))._data,l=e._size[0],c=e._size[1],f=e._values,h=e._index,p=e._ptr,d=[],m=0;m<c;m++){var g=r[m][0]||0;if(o(g,0))d[m]=[0];else{for(var v=0,y=[],b=[],D=p[m],x=p[m+1],_=D;_<x;_++){var w=h[_];w===m?v=f[_]:w>m&&(y.push(f[_]),b.push(w))}if(o(v,0))throw Error("Linear system cannot be solved since matrix is singular");for(var E=n(g,v),A=0,C=b.length;A<C;A++){var N=b[A];r[N]=[a(r[N][0]||0,i(E,y[A]))]}d[m]=[E]}}return new u({data:d,size:[l,1]})}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return l(e,t)},"Array, Array | Matrix":function(e,t){return l(r(e),t).valueOf()}});function l(e,t){for(var r=(t=s(e,t,!0))._data,l=e._size[0],c=e._size[1],f=[],h=e._data,p=0;p<c;p++){var d=r[p][0]||0,m=void 0;if(o(d,0))m=0;else{var g=h[p][p];if(o(g,0))throw Error("Linear system cannot be solved since matrix is singular");m=n(d,g);for(var v=p+1;v<l;v++)r[v]=[a(r[v][0]||0,i(m,h[v][p]))]}f[p]=[m]}return new u({data:f,size:[l,1]})}}),ct=aM("lup",["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],e=>{var{typed:t,matrix:r,abs:n,addScalar:i,divideScalar:a,multiplyScalar:o,subtractScalar:u,larger:s,equalScalar:l,unaryMinus:c,DenseMatrix:f,SparseMatrix:h,Spa:p}=e;return t("lup",{DenseMatrix:function(e){return d(e)},SparseMatrix:function(e){return function(e){var t,r,i,u=e._size[0],f=e._size[1],d=Math.min(u,f),m=e._values,g=e._index,v=e._ptr,y=[],b=[],D=[],x=[u,d],_=[],w=[],E=[],A=[d,f],C=[],N=[];for(t=0;t<u;t++)C[t]=t,N[t]=t;var M=function(e,t){var r=N[e],n=N[t];C[r]=t,C[n]=e,N[e]=n,N[t]=r};for(r=0;r<f;r++)!function(){var e=new p;r<u&&(D.push(y.length),y.push(1),b.push(r)),E.push(_.length);var f=v[r],d=v[r+1];for(i=f;i<d;i++)t=g[i],e.set(C[t],m[i]);r>0&&e.forEach(0,r-1,function(t,r){h._forEachRow(t,y,b,D,function(n,i){n>t&&e.accumulate(n,c(o(i,r)))})});var N=r,F=e.get(r),S=n(F);e.forEach(r+1,u-1,function(e,t){var r=n(t);s(r,S)&&(N=e,S=r,F=t)}),r!==N&&(h._swapRows(r,N,x[1],y,b,D),h._swapRows(r,N,A[1],_,w,E),e.swap(r,N),M(r,N)),e.forEach(0,u-1,function(e,t){e<=r?(_.push(t),w.push(e)):l(t=a(t,F),0)||(y.push(t),b.push(e))})}();return E.push(_.length),D.push(y.length),{L:new h({values:y,index:b,ptr:D,size:x}),U:new h({values:_,index:w,ptr:E,size:A}),p:C,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}(e)},Array:function(e){var t=d(r(e));return{L:t.L.valueOf(),U:t.U.valueOf(),p:t.p}}});function d(e){var t,r,c,h=e._size[0],p=e._size[1],d=Math.min(h,p),m=aw(e._data),g=[],v=[h,d],y=[],b=[d,p],D=[];for(t=0;t<h;t++)D[t]=t;for(r=0;r<p;r++){if(r>0)for(t=0;t<h;t++){var x=Math.min(t,r),_=0;for(c=0;c<x;c++)_=i(_,o(m[t][c],m[c][r]));m[t][r]=u(m[t][r],_)}var w=r,E=0,A=0;for(t=r;t<h;t++){var C=m[t][r],N=n(C);s(N,E)&&(w=t,E=N,A=C)}if(r!==w&&(D[r]=[D[w],D[w]=D[r]][0],f._swapRows(r,w,m)),r<h)for(t=r+1;t<h;t++)l(m[t][r],0)||(m[t][r]=a(m[t][r],A))}for(r=0;r<p;r++)for(t=0;t<h;t++){if(0===r&&(t<p&&(y[t]=[]),g[t]=[]),t<r){t<p&&(y[t][r]=m[t][r]),r<h&&(g[t][r]=0);continue}if(t===r){t<p&&(y[t][r]=m[t][r]),r<h&&(g[t][r]=1);continue}t<p&&(y[t][r]=0),r<h&&(g[t][r]=m[t][r])}var M=new f({data:g,size:v}),F=new f({data:y,size:b}),S=[];for(t=0,d=D.length;t<d;t++)S[D[t]]=t;return{L:M,U:F,p:S,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}});function cr(e,t){var r,n=t.length,i=[];if(e)for(r=0;r<n;r++)i[e[r]]=t[r];else for(r=0;r<n;r++)i[r]=t[r];return i}var cn="lusolve",ci=aM(cn,["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],e=>{var{typed:t,matrix:r,lup:n,slu:i,usolve:a,lsolve:o,DenseMatrix:u}=e,s=l7({DenseMatrix:u});return t(cn,{"Array, Array | Matrix":function(e,t){var i=n(e=r(e));return c(i.L,i.U,i.p,null,t).valueOf()},"DenseMatrix, Array | Matrix":function(e,t){var r=n(e);return c(r.L,r.U,r.p,null,t)},"SparseMatrix, Array | Matrix":function(e,t){var r=n(e);return c(r.L,r.U,r.p,null,t)},"SparseMatrix, Array | Matrix, number, number":function(e,t,r,n){var a=i(e,r,n);return c(a.L,a.U,a.p,a.q,t)},"Object, Array | Matrix":function(e,t){return c(e.L,e.U,e.p,e.q,t)}});function l(e){if(iQ(e))return e;if(iK(e))return r(e);throw TypeError("Invalid Matrix LU decomposition")}function c(e,t,r,n,i){e=l(e),t=l(t),r&&((i=s(e,i,!0))._data=cr(r,i._data));var u=a(t,o(e,i));return n&&(u._data=cr(n,u._data)),u}});e=>{var{typed:t}=e;return t("map",{"Array, function":r,"Matrix, function":function(e,t){return e.map(t)},"Array|Matrix, Array|Matrix, ...Array|Matrix|function":(e,n,i)=>(function(e,n){if("function"!=typeof n)throw Error("Last argument must be a callback function");var i,a,o,u=e[0].isMatrix,s=ov(...e.map(e=>e.isMatrix?e.size():oe(e))),l=u?(e,t)=>e.get(t):oD,c=u?e.map(t=>t.isMatrix?t.create(ob(t.toArray(),s),t.datatype()):e[0].create(ob(t.valueOf(),s))):e.map(e=>e.isMatrix?ob(e.toArray(),s):ob(e,s));if(t.isTypedFunction(n)){var f,h,p,d,m=s.map(()=>0);o=v((f=n,h=c.map(e=>l(e,m)),p=m,d=c,null!==t.resolve(f,[...h,p,...d])?2:null!==t.resolve(f,[...h,p])?1:(t.resolve(f,h),0)))}else{o=v((i=n,a=e.length,i.length>a+1?2:+(i.length===a+1)))}var g=(e,t)=>o([e,...c.slice(1).map(e=>l(e,t))],t);if(u)return c[0].map(g);return r(c[0],g);function v(e){switch(e){case 0:return e=>n(...e);case 1:return(e,t)=>n(...e,t);case 2:return(e,t)=>n(...e,t,...c)}}})([e,n,...i.slice(0,i.length-1)],i[i.length-1])});function r(e,t){return ox(e,sx(t,e,"map"))}};var ca="mapSlices",co=aM(ca,["typed","isInteger"],e=>{var{typed:t,isInteger:r}=e;return t(ca,{"Array | Matrix, number | BigNumber, function":function(e,t,n){if(!r(t))throw TypeError("Integer number expected for dimension");var i=Array.isArray(e)?oe(e):e.size();if(t<0||t>=i.length)throw new aS(t,i.length);return iQ(e)?e.create(cu(e.valueOf(),t,n),e.datatype()):cu(e,t,n)}})},{formerly:"apply"});function cu(e,t,r){var n,i,a;if(t<=0)if(!Array.isArray(e[0]))return r(e);else{for(n=0,a=function(e){var t,r,n=e.length,i=e[0].length,a=[];for(r=0;r<i;r++){var o=[];for(t=0;t<n;t++)o.push(e[t][r]);a.push(o)}return a}(e),i=[];n<a.length;n++)i[n]=cu(a[n],t-1,r);return i}for(n=0,i=[];n<e.length;n++)i[n]=cu(e[n],t-1,r);return i}var cs="matrix",cl=aM(cs,["typed","Matrix","DenseMatrix","SparseMatrix"],e=>{var{typed:t,Matrix:r,DenseMatrix:n,SparseMatrix:i}=e;return t(cs,{"":function(){return a([])},string:function(e){return a([],e)},"string, string":function(e,t){return a([],e,t)},Array:function(e){return a(e)},Matrix:function(e){return a(e,e.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(e,t,r){if("dense"===t||"default"===t||void 0===t)return new n(e,r);if("sparse"===t)return new i(e,r);throw TypeError("Unknown matrix type "+JSON.stringify(t)+".")}}),cc=aM("Matrix",[],()=>{function e(){if(!(this instanceof e))throw SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(e,t){throw Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(e,t,r){throw Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(e){throw Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(e,t,r){throw Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(e,t){throw Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(e,t){throw Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(e,t){throw Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(e){throw Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(e){throw Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0}),cf="matrixFromColumns",ch=aM(cf,["typed","matrix","flatten","size"],e=>{var{typed:t,matrix:r,flatten:n,size:i}=e;return t(cf,{"...Array":function(e){return a(e)},"...Matrix":function(e){return r(a(e.map(e=>e.toArray())))}});function a(e){if(0===e.length)throw TypeError("At least one column is needed to construct a matrix.");for(var t=o(e[0]),r=[],i=0;i<t;i++)r[i]=[];for(var a of e){var u=o(a);if(u!==t)throw TypeError("The vectors had different length: "+(0|t)+"  "+(0|u));for(var s=n(a),l=0;l<t;l++)r[l].push(s[l])}return r}function o(e){var t=i(e);if(1===t.length)return t[0];if(2===t.length)if(1===t[0])return t[1];else if(1===t[1])return t[0];else throw TypeError("At least one of the arguments is not a vector.");throw TypeError("Only one- or two-dimensional vectors are supported.")}});e=>{var{typed:t,config:r,numeric:n,larger:i,isNaN:a}=e;return t("max",{"Array | Matrix":u,"Array | Matrix, number | BigNumber":function(e,t){return oN(e,t.valueOf(),o)},"...":function(e){if(oE(e))throw TypeError("Scalar values expected in function max");return u(e)}});function o(e,t){try{return i(e,t)?e:t}catch(e){throw sv(e,"max",t)}}function u(e){var t;if(oA(e,function(e){try{a(e)?t=e:(void 0===t||i(e,t))&&(t=e)}catch(t){throw sv(t,"max",e)}}),void 0===t)throw Error("Cannot calculate max of an empty array");return"string"==typeof t&&(t=n(t,aB(t,r))),t}};var cp="mean",cd=(e=>{var{typed:t,add:r,divide:n}=e;return t(cp,{"Array | Matrix":i,"Array | Matrix, number | BigNumber":function(e,t){try{var i=oN(e,t,r),a=Array.isArray(e)?oe(e):e.size();return n(i,a[t])}catch(e){throw sv(e,"mean")}},"...":function(e){if(oE(e))throw TypeError("Scalar values expected in function mean");return i(e)}});function i(e){var t,i=0;if(oA(e,function(e){try{t=void 0===t?e:r(t,e),i++}catch(t){throw sv(t,"mean",e)}}),0===i)throw Error("Cannot calculate the mean of an empty array");return n(t,i)}},"median");e=>{var{typed:t,add:r,divide:n,compare:i,partitionSelect:a}=e;function o(e){try{var t=(e=of(e.valueOf())).length;if(0===t)throw Error("Cannot calculate median of an empty array");if(t%2==0){for(var r=t/2-1,n=a(e,r+1),o=e[r],l=0;l<r;++l)i(e[l],o)>0&&(o=e[l]);return s(o,n)}var c=a(e,(t-1)/2);return u(c)}catch(e){throw sv(e,"median")}}var u=t({"number | BigNumber | Complex | Unit":function(e){return e}}),s=t({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(e,t){return n(r(e,t),2)}});return t(cd,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(e,t){throw Error("median(A, dim) is not yet supported")},"...":function(e){if(oE(e))throw TypeError("Scalar values expected in function median");return o(e)}})};var cm="multiply",cg=aM(cm,["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],e=>{var{typed:t,matrix:r,addScalar:n,multiplyScalar:i,equalScalar:a,dot:o}=e,u=um({typed:t,equalScalar:a}),s=us({typed:t});function l(e,t){switch(e.length){case 1:switch(t.length){case 1:if(e[0]!==t[0])throw RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(e[0]!==t[0])throw RangeError("Dimension mismatch in multiplication. Vector length ("+e[0]+") must match Matrix rows ("+t[0]+")");break;default:throw Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;case 2:switch(t.length){case 1:if(e[1]!==t[0])throw RangeError("Dimension mismatch in multiplication. Matrix columns ("+e[1]+") must match Vector length ("+t[0]+")");break;case 2:if(e[1]!==t[0])throw RangeError("Dimension mismatch in multiplication. Matrix A columns ("+e[1]+") must match Matrix B rows ("+t[0]+")");break;default:throw Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;default:throw Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+e.length+" dimensions)")}}var c=t("_multiplyMatrixVector",{"DenseMatrix, any":function(e,r){var a,o=e._data,u=e._size,s=e._datatype||e.getDataType(),l=r._data,c=r._datatype||r.getDataType(),f=u[0],h=u[1],p=n,d=i;s&&c&&s===c&&"string"==typeof s&&"mixed"!==s&&(a=s,p=t.find(n,[a,a]),d=t.find(i,[a,a]));for(var m=[],g=0;g<f;g++){for(var v=o[g],y=d(v[0],l[0]),b=1;b<h;b++)y=p(y,d(v[b],l[b]));m[g]=y}return e.createDenseMatrix({data:m,size:[f],datatype:s===e._datatype&&c===r._datatype?a:void 0})},"SparseMatrix, any":function(e,r){var o,u=e._values,s=e._index,l=e._ptr,c=e._datatype||void 0===e._data?e._datatype:e.getDataType();if(!u)throw Error("Cannot multiply Pattern only Matrix times Dense Matrix");var f=r._data,h=r._datatype||r.getDataType(),p=e._size[0],d=r._size[0],m=[],g=[],v=[],y=n,b=i,D=a,x=0;c&&h&&c===h&&"string"==typeof c&&"mixed"!==c&&(o=c,y=t.find(n,[o,o]),b=t.find(i,[o,o]),D=t.find(a,[o,o]),x=t.convert(0,o));var _=[],w=[];v[0]=0;for(var E=0;E<d;E++){var A=f[E];if(!D(A,x))for(var C=l[E],N=l[E+1],M=C;M<N;M++){var F=s[M];w[F]?_[F]=y(_[F],b(A,u[M])):(w[F]=!0,g.push(F),_[F]=b(A,u[M]))}}for(var S=g.length,T=0;T<S;T++){var B=g[T];m[T]=_[B]}return v[1]=g.length,e.createSparseMatrix({values:m,index:g,ptr:v,size:[p,1],datatype:c===e._datatype&&h===r._datatype?o:void 0})}}),f=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(e,r){var a,o=e._data,u=e._size,s=e._datatype||e.getDataType(),l=r._data,c=r._size,f=r._datatype||r.getDataType(),h=u[0],p=u[1],d=c[1],m=n,g=i;s&&f&&s===f&&"string"==typeof s&&"mixed"!==s&&"mixed"!==s&&(a=s,m=t.find(n,[a,a]),g=t.find(i,[a,a]));for(var v=[],y=0;y<h;y++){var b=o[y];v[y]=[];for(var D=0;D<d;D++){for(var x=g(b[0],l[0][D]),_=1;_<p;_++)x=m(x,g(b[_],l[_][D]));v[y][D]=x}}return e.createDenseMatrix({data:v,size:[h,d],datatype:s===e._datatype&&f===r._datatype?a:void 0})},"DenseMatrix, SparseMatrix":function(e,r){var o,u=e._data,s=e._size,l=e._datatype||e.getDataType(),c=r._values,f=r._index,h=r._ptr,p=r._size,d=r._datatype||void 0===r._data?r._datatype:r.getDataType();if(!c)throw Error("Cannot multiply Dense Matrix times Pattern only Matrix");var m=s[0],g=p[1],v=n,y=i,b=a,D=0;l&&d&&l===d&&"string"==typeof l&&"mixed"!==l&&(o=l,v=t.find(n,[o,o]),y=t.find(i,[o,o]),b=t.find(a,[o,o]),D=t.convert(0,o));for(var x=[],_=[],w=[],E=r.createSparseMatrix({values:x,index:_,ptr:w,size:[m,g],datatype:l===e._datatype&&d===r._datatype?o:void 0}),A=0;A<g;A++){w[A]=_.length;var C=h[A],N=h[A+1];if(N>C)for(var M=0,F=0;F<m;F++){for(var S=F+1,T=void 0,B=C;B<N;B++){var O=f[B];M!==S?(T=y(u[F][O],c[B]),M=S):T=v(T,y(u[F][O],c[B]))}M!==S||b(T,D)||(_.push(F),x.push(T))}}return w[g]=_.length,E},"SparseMatrix, DenseMatrix":function(e,r){var o,u=e._values,s=e._index,l=e._ptr,c=e._datatype||void 0===e._data?e._datatype:e.getDataType();if(!u)throw Error("Cannot multiply Pattern only Matrix times Dense Matrix");var f=r._data,h=r._datatype||r.getDataType(),p=e._size[0],d=r._size[0],m=r._size[1],g=n,v=i,y=a,b=0;c&&h&&c===h&&"string"==typeof c&&"mixed"!==c&&(o=c,g=t.find(n,[o,o]),v=t.find(i,[o,o]),y=t.find(a,[o,o]),b=t.convert(0,o));for(var D=[],x=[],_=[],w=e.createSparseMatrix({values:D,index:x,ptr:_,size:[p,m],datatype:c===e._datatype&&h===r._datatype?o:void 0}),E=[],A=[],C=0;C<m;C++){_[C]=x.length;for(var N=C+1,M=0;M<d;M++){var F=f[M][C];if(!y(F,b))for(var S=l[M],T=l[M+1],B=S;B<T;B++){var O=s[B];A[O]!==N?(A[O]=N,x.push(O),E[O]=v(F,u[B])):E[O]=g(E[O],v(F,u[B]))}}for(var I=_[C],z=x.length,R=I;R<z;R++){var k=x[R];D[R]=E[k]}}return _[m]=x.length,w},"SparseMatrix, SparseMatrix":function(e,r){var a,o,u,s,l,c,f,h,p,d=e._values,m=e._index,g=e._ptr,v=e._datatype||void 0===e._data?e._datatype:e.getDataType(),y=r._values,b=r._index,D=r._ptr,x=r._datatype||void 0===r._data?r._datatype:r.getDataType(),_=e._size[0],w=r._size[1],E=d&&y,A=n,C=i;v&&x&&v===x&&"string"==typeof v&&"mixed"!==v&&(a=v,A=t.find(n,[a,a]),C=t.find(i,[a,a]));for(var N=E?[]:void 0,M=[],F=[],S=e.createSparseMatrix({values:N,index:M,ptr:F,size:[_,w],datatype:v===e._datatype&&x===r._datatype?a:void 0}),T=E?[]:void 0,B=[],O=0;O<w;O++){F[O]=M.length;var I=O+1;for(c=D[O],f=D[O+1],l=c;l<f;l++)if(p=b[l],E)for(u=g[p],s=g[p+1],o=u;o<s;o++)B[h=m[o]]!==I?(B[h]=I,M.push(h),T[h]=C(y[l],d[o])):T[h]=A(T[h],C(y[l],d[o]));else for(u=g[p],s=g[p+1],o=u;o<s;o++)B[h=m[o]]!==I&&(B[h]=I,M.push(h));if(E)for(var z=F[O],R=M.length,k=z;k<R;k++){var P=M[k];N[k]=T[P]}}return F[w]=M.length,S}});return t(cm,i,{"Array, Array":t.referTo("Matrix, Matrix",e=>(t,n)=>{l(oe(t),oe(n));var i=e(r(t),r(n));return iQ(i)?i.valueOf():i}),"Matrix, Matrix":function(e,r){var a=e.size(),u=r.size();if(l(a,u),1===a.length){if(1===u.length){if(0===a[0])throw Error("Cannot multiply two empty vectors");return o(e,r)}if("dense"!==r.storage())throw Error("Support for SparseMatrix not implemented");return function(e,r){var a,o=e._data,u=e._size,s=e._datatype||e.getDataType(),l=r._data,c=r._size,f=r._datatype||r.getDataType(),h=u[0],p=c[1],d=n,m=i;s&&f&&s===f&&"string"==typeof s&&"mixed"!==s&&(a=s,d=t.find(n,[a,a]),m=t.find(i,[a,a]));for(var g=[],v=0;v<p;v++){for(var y=m(o[0],l[0][v]),b=1;b<h;b++)y=d(y,m(o[b],l[b][v]));g[v]=y}return e.createDenseMatrix({data:g,size:[p],datatype:s===e._datatype&&f===r._datatype?a:void 0})}(e,r)}return 1===u.length?c(e,r):f(e,r)},"Matrix, Array":t.referTo("Matrix,Matrix",e=>(t,n)=>e(t,r(n))),"Array, Matrix":t.referToSelf(e=>(t,n)=>e(r(t,n.storage()),n)),"SparseMatrix, any":function(e,t){return u(e,t,i,!1)},"DenseMatrix, any":function(e,t){return s(e,t,i,!1)},"any, SparseMatrix":function(e,t){return u(t,e,i,!0)},"any, DenseMatrix":function(e,t){return s(t,e,i,!0)},"Array, any":function(e,t){return s(r(e),t,i,!1).valueOf()},"any, Array":function(e,t){return s(r(t),e,i,!0).valueOf()},"any, any":i,"any, any, ...any":t.referToSelf(e=>(t,r,n)=>{for(var i=e(t,r),a=0;a<n.length;a++)i=e(i,n[a]);return i})})}),cv=aM("multiplyScalar",["typed"],e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":oz,"Complex, Complex":function(e,t){return e.mul(t)},"BigNumber, BigNumber":function(e,t){return e.times(t)},"bigint, bigint":function(e,t){return e*t},"Fraction, Fraction":function(e,t){return e.mul(t)},"number | Fraction | BigNumber | Complex, Unit":(e,t)=>t.multiply(e),"Unit, number | Fraction | BigNumber | Complex | Unit":(e,t)=>e.multiply(t)})}),cy="norm",cb=aM(cy,["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],e=>{var{typed:t,abs:r,add:n,pow:i,conj:a,sqrt:o,multiply:u,equalScalar:s,larger:l,smaller:c,matrix:f,ctranspose:h,eigs:p}=e;return t(cy,{number:Math.abs,Complex:function(e){return e.abs()},BigNumber:function(e){return e.abs()},boolean:function(e){return Math.abs(e)},Array:function(e){return d(f(e),2)},Matrix:function(e){return d(e,2)},"Array, number | BigNumber | string":function(e,t){return d(f(e),t)},"Matrix, number | BigNumber | string":function(e,t){return d(e,t)}});function d(e,t){var f,m,g=e.size();if(1===g.length){if(t===Number.POSITIVE_INFINITY||"inf"===t)return f=0,e.forEach(function(e){var t=r(e);l(t,f)&&(f=t)},!0),f;if(t===Number.NEGATIVE_INFINITY||"-inf"===t)return e.forEach(function(e){var t=r(e);(!m||c(t,m))&&(m=t)},!0),m||0;if("fro"===t)return d(e,2);if("number"==typeof t&&!isNaN(t)){if(!s(t,0)){var v=0;return e.forEach(function(e){v=n(i(r(e),t),v)},!0),i(v,1/t)}return Number.POSITIVE_INFINITY}throw Error("Unsupported parameter value")}if(2===g.length)if(g[0]&&g[1])return function(e,t){if(1===t)return i=[],s=0,e.forEach(function(e,t){var a=t[1],o=n(i[a]||0,r(e));l(o,s)&&(s=o),i[a]=o},!0),s;if(t===Number.POSITIVE_INFINITY||"inf"===t)return c=[],f=0,e.forEach(function(e,t){var i=t[0],a=n(c[i]||0,r(e));l(a,f)&&(f=a),c[i]=a},!0),f;if("fro"===t)return d=0,e.forEach(function(e,t){d=n(d,u(e,a(e)))}),r(o(d));if(2===t){var i,s,c,f,d,m=e.size();if(m[0]!==m[1])throw RangeError("Invalid matrix dimensions");var g=p(u(h(e),e)).values.toArray();return r(o(g[g.length-1]))}throw Error("Unsupported parameter value "+t)}(e,t);else throw RangeError("Invalid matrix dimensions")}});e=>{var{typed:t}=e;return t("not",{"null | undefined":()=>!0,number:uy,Complex:function(e){return 0===e.re&&0===e.im},BigNumber:function(e){return e.isZero()||e.isNaN()},bigint:e=>!e,Unit:t.referToSelf(e=>r=>t.find(e,r.valueType())(r.value)),"Array | Matrix":t.referToSelf(e=>t=>oC(t,e))})};var cD=aM("number",["typed"],e=>{var{typed:t}=e,r=t("number",{"":function(){return 0},number:function(e){return e},string:function(e){if("NaN"===e)return NaN;var t,r,n=(r=(t=e).match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/))?{input:t,radix:({"0b":2,"0o":8,"0x":16})[r[1]],integerPart:r[2],fractionalPart:r[3]}:null;if(n){for(var i=parseInt(n.integerPart,n.radix),a=0,o=0;o<n.fractionalPart.length;o++)a+=parseInt(n.fractionalPart[o],n.radix)/Math.pow(n.radix,o+1);var u=i+a;if(isNaN(u))throw SyntaxError('String "'+n.input+'" is not a valid number');return u}var s=0,l=e.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);l&&(s=Number(l[2]),e=l[1]);var c=Number(e);if(isNaN(c))throw SyntaxError('String "'+e+'" is not a valid number');if(l){if(c>2**s-1)throw SyntaxError('String "'.concat(e,'" is out of range'));c>=2**(s-1)&&(c-=2**s)}return c},BigNumber:function(e){return e.toNumber()},bigint:function(e){return Number(e)},Fraction:function(e){return e.valueOf()},Unit:t.referToSelf(e=>t=>{var r=t.clone();return r.value=e(t.value),r}),null:function(e){return 0},"Unit, string | Unit":function(e,t){return e.toNumber(t)},"Array | Matrix":t.referToSelf(e=>t=>oC(t,e))});return r.fromJSON=function(e){return parseFloat(e.value)},r});function cx(){throw Error('No "bignumber" implementation available')}function c_(){throw Error('No "fraction" implementation available')}function cw(){throw Error('No "matrix" implementation available')}var cE=aM("numeric",["number","?bignumber","?fraction"],e=>{var{number:t,bignumber:r,fraction:n}=e,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:e=>t(e),BigNumber:r?e=>r(e):cx,bigint:e=>BigInt(e),Fraction:n?e=>n(e):c_};return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"number",r=arguments.length>2?arguments[2]:void 0;if(void 0!==r)throw SyntaxError("numeric() takes one or two arguments");var n=a_(e);if(!(n in i))throw TypeError("Cannot convert "+e+' of type "'+n+'"; valid input types are '+Object.keys(i).join(", "));if(!(t in a))throw TypeError("Cannot convert "+e+' to type "'+t+'"; valid output types are '+Object.keys(a).join(", "));return t===n?e:a[t](e)}});aM("oct",["typed","format"],e=>{var{typed:t,format:r}=e;return t("oct",{"number | BigNumber":function(e){return r(e,{notation:"oct"})},"number | BigNumber, number | BigNumber":function(e,t){return r(e,{notation:"oct",wordSize:t})}})});var cA="partitionSelect",cC=aM(cA,["typed","isNumeric","isNaN","compare"],e=>{var{typed:t,isNumeric:r,isNaN:n,compare:i}=e,a=(e,t)=>-i(e,t);return t(cA,{"Array | Matrix, number":function(e,t){return o(e,t,i)},"Array | Matrix, number, string":function(e,t,r){if("asc"===r)return o(e,t,i);if("desc"===r)return o(e,t,a);throw Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":o});function o(e,t,r){if(!aT(t)||t<0)throw Error("k must be a non-negative integer");if(iQ(e)){if(e.size().length>1)throw Error("Only one dimensional matrices supported");return u(e.valueOf(),t,r)}if(Array.isArray(e))return u(e,t,r)}function u(e,t,i){if(t>=e.length)throw Error("k out of bounds");for(var a=0;a<e.length;a++)if(r(e[a])&&n(e[a]))return e[a];for(var o=0,u=e.length-1;o<u;){for(var s=o,l=u,c=e[Math.floor(Math.random()*(u-o+1))+o];s<l;)if(i(e[s],c)>=0){var f=e[l];e[l]=e[s],e[s]=f,--l}else++s;i(e[s],c)>0&&--s,t<=s?u=s:o=s+1}return e[t]}});function cN(e){return e.isInteger()&&e.gte(0)}var cM={},cF=u("cmoHh"),cS=u("euRi5"),cT=u("hDsEw"),cB=u("3J2Zm"),cO=u("6Px8M"),cI=u("lDm0S"),cz={};!function(e,t,r){var n,i="random",a=r.pow(256,6),o=r.pow(2,52),s=2*o;function l(u,l,d){var m=[],g=h(function e(t,r){var n,i=[],a=typeof t;if(r&&"object"==a)for(n in t)try{i.push(e(t[n],r-1))}catch(e){}return i.length?i:"string"==a?t:t+"\0"}((l=!0==l?{entropy:!0}:l||{}).entropy?[u,p(t)]:null==u?function(){try{var r;return n&&(r=n.randomBytes)?r=r(256):(r=new Uint8Array(256),(e.crypto||e.msCrypto).getRandomValues(r)),p(r)}catch(r){var i=e.navigator,a=i&&i.plugins;return[+new Date,e,a,e.screen,p(t)]}}():u,3),m),v=new c(m),y=function(){for(var e=v.g(6),t=a,r=0;e<o;)e=(e+r)*256,t*=256,r=v.g(1);for(;e>=s;)e/=2,t/=2,r>>>=1;return(e+r)/t};return y.int32=function(){return 0|v.g(4)},y.quick=function(){return v.g(4)/0x100000000},y.double=y,h(p(v.S),t),(l.pass||d||function(e,t,n,a){return(a&&(a.S&&f(a,v),e.state=function(){return f(v,{})}),n)?(r[i]=e,t):e})(y,g,"global"in l?l.global:this==r,l.state)}function c(e){var t,r=e.length,n=this,i=0,a=n.i=n.j=0,o=n.S=[];for(r||(e=[r++]);i<256;)o[i]=i++;for(i=0;i<256;i++)o[i]=o[a=255&a+e[i%r]+(t=o[i])],o[a]=t;(n.g=function(e){for(var t,r=0,i=n.i,a=n.j,o=n.S;e--;)t=o[i=255&i+1],r=256*r+o[255&(o[i]=o[a=255&a+t])+(o[a]=t)];return n.i=i,n.j=a,r})(256)}function f(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function h(e,t){for(var r,n=e+"",i=0;i<n.length;)t[255&i]=255&(r^=19*t[255&i])+n.charCodeAt(i++);return p(t)}function p(e){return String.fromCharCode.apply(0,e)}if(h(r.random(),t),cz){cz=l;try{n=u("kjyEk")}catch(e){}}else"function"==typeof define&&define.amd?define(function(){return l}):r["seed"+i]=l}("undefined"!=typeof self?self:cz,[],Math),cz.alea=cF,cz.xor128=cS,cz.xorwow=cT,cz.xorshift7=cB,cz.xor4096=cO,cz.tychei=cI;var cR=r(cM=cz)(Date.now());function ck(e){var t;return t=null===e?cR:r(cM)(String(e)),function(){return t()}}var cP=aM("pow",["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],e=>{var{typed:t,config:r,identity:n,multiply:i,matrix:a,inv:o,number:u,fraction:s,Complex:l}=e;return t("pow",{"number, number":c,"Complex, Complex":function(e,t){return e.pow(t)},"BigNumber, BigNumber":function(e,t){return t.isInteger()||e>=0||r.predictable?e.pow(t):new l(e.toNumber(),0).pow(t.toNumber(),0)},"bigint, bigint":(e,t)=>e**t,"Fraction, Fraction":function(e,t){var n=e.pow(t);if(null!=n)return n;if(!r.predictable)return c(e.valueOf(),t.valueOf());throw Error("Result of pow is non-rational and cannot be expressed as a fraction")},"Array, number":f,"Array, BigNumber":function(e,t){return f(e,t.toNumber())},"Matrix, number":h,"Matrix, BigNumber":function(e,t){return h(e,t.toNumber())},"Unit, number | BigNumber":function(e,t){return e.pow(t)}});function c(e,t){if(r.predictable&&!aT(t)&&e<0)try{var n=s(t),i=u(n);if((t===i||1e-14>Math.abs((t-i)/t))&&n.d%2n===1n)return(n.n%2n===0n?1:-1)*Math.pow(-e,t)}catch(e){}return r.predictable&&(e<-1&&t===1/0||e>-1&&e<0&&t===-1/0)?NaN:aT(t)||e>=0||r.predictable?oJ(e,t):e*e<1&&t===1/0||e*e>1&&t===-1/0?0:new l(e,0).pow(t,0)}function f(e,t){if(!aT(t))throw TypeError("For A^b, b must be an integer (value is "+t+")");var r=oe(e);if(2!==r.length)throw Error("For A^b, A must be 2 dimensional (A has "+r.length+" dimensions)");if(r[0]!==r[1])throw Error("For A^b, A must be square (size is "+r[0]+"x"+r[1]+")");if(t<0)try{return f(o(e),-t)}catch(e){if("Cannot calculate inverse, determinant is zero"===e.message)throw TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+t+")");throw e}for(var a=n(r[0]).valueOf(),u=e;t>=1;)(1&t)==1&&(a=i(u,a)),t>>=1,u=i(u,u);return a}function h(e,t){return a(f(e.valueOf(),t))}}),cL=/\$([\w.]+)/g;function cq(e,t,r){return e.replace(cL,function(e,n){var i=n.split("."),a=t[i.shift()];for(void 0!==a&&a.isMatrix&&(a=a.toArray());i.length&&void 0!==a;){var o=i.shift();a=o?a[o]:a+"."}if(void 0!==a)if(!iX(a))return a5(a,r);else return a;return e})}var cU="prod",cj=(e=>{var{typed:t,config:r,multiplyScalar:n,numeric:i}=e;return t(cU,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(e,t){throw Error("prod(A, dim) is not yet supported")},"...":function(e){return a(e)}});function a(e){var t;if(oA(e,function(e){try{t=void 0===t?e:n(t,e)}catch(t){throw sv(t,"prod",e)}}),"string"==typeof t&&(t=i(t,aB(t,r))),void 0===t)throw Error("Cannot calculate prod of an empty array");return t}},aM("qr",["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],e=>{var{typed:t,matrix:n,zeros:i,identity:a,isZero:o,equal:u,sign:s,sqrt:l,conj:c,unaryMinus:f,addScalar:h,divideScalar:p,multiplyScalar:d,subtractScalar:m,complex:g}=e;return r(iR)(t("qr",{DenseMatrix:function(e){return y(e)},SparseMatrix:function(e){var t=0;throw Error("qr not implemented for sparse matrices yet")},Array:function(e){var t=y(n(e));return{Q:t.Q.valueOf(),R:t.R.valueOf()}}}),{_denseQRimpl:v});function v(e){var t,r,n,g=e._size[0],v=e._size[1],y=a([g],"dense"),b=y._data,D=e.clone(),x=D._data,_=i([g],"");for(n=0;n<Math.min(v,g);++n){var w=x[n][n],E=f(u(w,0)?1:s(w)),A=c(E),C=0;for(t=n;t<g;t++)C=h(C,d(x[t][n],c(x[t][n])));var N=d(E,l(C));if(!o(N)){var M=m(w,N);for(_[n]=1,t=n+1;t<g;t++)_[t]=p(x[t][n],M);var F=f(c(p(M,N))),S=void 0;for(r=n;r<v;r++){for(S=0,t=n;t<g;t++)S=h(S,d(c(_[t]),x[t][r]));for(S=d(S,F),t=n;t<g;t++)x[t][r]=d(m(x[t][r],d(_[t],S)),A)}for(t=0;t<g;t++){for(S=0,r=n;r<g;r++)S=h(S,d(b[t][r],_[r]));for(S=d(S,F),r=n;r<g;++r)b[t][r]=p(m(b[t][r],d(S,c(_[r]))),A)}}}return{Q:y,R:D,toString:function(){return"Q: "+this.Q.toString()+"\nR: "+this.R.toString()}}}function y(e){var t=v(e),r=t.R._data;if(e._data.length>0)for(var n="Complex"===r[0][0].type?g(0):0,i=0;i<r.length;++i)for(var a=0;a<i&&a<(r[0]||[]).length;++a)r[i][a]=n;return t}}));function cH(e,t){var r=[];if((e=e.slice(0)).length>1)for(var n=0,i=e.shift();n<i;n++)r.push(cH(e,t));else for(var a=0,o=e.shift();a<o;a++)r.push(t());return r}var c$=2n**30n,cV="range",cG=aM(cV,["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],e=>{var{typed:t,config:r,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:u,largerEq:s,add:l,isPositive:c}=e;return t(cV,{string:h,"string, boolean":h,number:function(e){throw TypeError("Too few arguments to function range(): ".concat(e))},boolean:function(e){throw TypeError("Unexpected type of argument 1 to function range(): ".concat(e,", number|bigint|BigNumber|Fraction"))},"number, number":function(e,t){return f(p(e,t,1,!1))},"number, number, number":function(e,t,r){return f(p(e,t,r,!1))},"number, number, boolean":function(e,t,r){return f(p(e,t,1,r))},"number, number, number, boolean":function(e,t,r,n){return f(p(e,t,r,n))},"bigint, bigint|number":function(e,t){return f(p(e,t,1n,!1))},"number, bigint":function(e,t){return f(p(BigInt(e),t,1n,!1))},"bigint, bigint|number, bigint|number":function(e,t,r){return f(p(e,t,BigInt(r),!1))},"number, bigint, bigint|number":function(e,t,r){return f(p(BigInt(e),t,BigInt(r),!1))},"bigint, bigint|number, boolean":function(e,t,r){return f(p(e,t,1n,r))},"number, bigint, boolean":function(e,t,r){return f(p(BigInt(e),t,1n,r))},"bigint, bigint|number, bigint|number, boolean":function(e,t,r,n){return f(p(e,t,BigInt(r),n))},"number, bigint, bigint|number, boolean":function(e,t,r,n){return f(p(BigInt(e),t,BigInt(r),n))},"BigNumber, BigNumber":function(e,t){var r=e.constructor;return f(p(e,t,new r(1),!1))},"BigNumber, BigNumber, BigNumber":function(e,t,r){return f(p(e,t,r,!1))},"BigNumber, BigNumber, boolean":function(e,t,r){var n=e.constructor;return f(p(e,t,new n(1),r))},"BigNumber, BigNumber, BigNumber, boolean":function(e,t,r,n){return f(p(e,t,r,n))},"Fraction, Fraction":function(e,t){return f(p(e,t,1,!1))},"Fraction, Fraction, Fraction":function(e,t,r){return f(p(e,t,r,!1))},"Fraction, Fraction, boolean":function(e,t,r){return f(p(e,t,1,r))},"Fraction, Fraction, Fraction, boolean":function(e,t,r,n){return f(p(e,t,r,n))},"Unit, Unit, Unit":function(e,t,r){return f(p(e,t,r,!1))},"Unit, Unit, Unit, boolean":function(e,t,r,n){return f(p(e,t,r,n))}});function f(e){return"Matrix"===r.matrix?n?n(e):cw():e}function h(e,t){var n=function(e){var t=e.split(":").map(function(e){return Number(e)});if(t.some(function(e){return isNaN(e)}))return null;switch(t.length){case 2:return{start:t[0],end:t[1],step:1};case 3:return{start:t[0],end:t[2],step:t[1]};default:return null}}(e);if(!n)throw SyntaxError('String "'+e+'" is no valid range');return"BigNumber"===r.number?(void 0===i&&cx(),f(p(i(n.start),i(n.end),i(n.step)),t)):f(p(n.start,n.end,n.step,t))}function p(e,t,r,n){for(var i=[],f=c(r)?n?o:a:n?s:u,h=e;f(h,t);)i.push(h),h=l(h,r);return i}}),cW=aM("re",["typed"],e=>{var{typed:t}=e;return t("re",{"number | BigNumber | Fraction":e=>e,Complex:e=>e.re,"Array | Matrix":t.referToSelf(e=>t=>oC(t,e))})}),cY="reshape",cZ=aM(cY,["typed","isInteger","matrix"],e=>{var{typed:t,isInteger:r}=e;return t(cY,{"Matrix, Array":function(e,t){return e.reshape(t,!0)},"Array, Array":function(e,t){return t.forEach(function(e){if(!r(e))throw TypeError("Invalid size for dimension: "+e)}),oo(e,t)}})}),cJ="rotationMatrix",cX=(e=>{var{typed:t,config:r,multiplyScalar:n,addScalar:i,unaryMinus:a,norm:o,BigNumber:u,matrix:s,DenseMatrix:l,SparseMatrix:c,cos:f,sin:h}=e;return t(cJ,{"":function(){return"Matrix"===r.matrix?s([]):[]},string:function(e){return s(e)},"number | BigNumber | Complex | Unit":function(e){return p(e,"Matrix"===r.matrix?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(e,t){return p(e,t)},"number | BigNumber | Complex | Unit, Array":function(e,t){var r=s(t);return d(r),v(e,r,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(e,t){d(t);var n=t.storage()||("Matrix"===r.matrix?"dense":void 0);return v(e,t,n)},"number | BigNumber | Complex | Unit, Array, string":function(e,t,r){var n=s(t);return d(n),v(e,n,r)},"number | BigNumber | Complex | Unit, Matrix, string":function(e,t,r){return d(t),v(e,t,r)}});function p(e,t){var r=iG(e)?new u(-1):-1,i=f(e),a=h(e);return g([[i,n(r,a)],[a,i]],t)}function d(e){var t=e.size();if(t.length<1||3!==t[0])throw RangeError("Vector must be of dimensions 1x3")}function m(e){return e.reduce((e,t)=>n(e,t))}function g(e,t){if(t){if("sparse"===t)return new c(e);if("dense"===t)return new l(e);throw TypeError('Unknown matrix type "'.concat(t,'"'))}return e}function v(e,t,r){var n=o(t);if(0===n)throw RangeError("Rotation around zero vector");var s=iG(e)?u:null,l=s?new s(1):1,c=s?new s(-1):-1,p=s?new s(t.get([0])/n):t.get([0])/n,d=s?new s(t.get([1])/n):t.get([1])/n,v=s?new s(t.get([2])/n):t.get([2])/n,y=f(e),b=i(l,a(y)),D=h(e);return g([[i(y,m([p,p,b])),i(m([p,d,b]),m([c,v,D])),i(m([p,v,b]),m([d,D]))],[i(m([p,d,b]),m([v,D])),i(y,m([d,d,b])),i(m([d,v,b]),m([c,p,D]))],[i(m([p,v,b]),m([c,d,D])),i(m([d,v,b]),m([p,D])),i(y,m([v,v,b]))]],r)}},"Number of decimals in function round must be an integer"),cK="round",cQ=aM(cK,["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],e=>{var{typed:t,config:r,matrix:n,equalScalar:i,zeros:a,BigNumber:o,DenseMatrix:u}=e,s=um({typed:t,equalScalar:i}),l=uA({typed:t,DenseMatrix:u}),c=us({typed:t});function f(e){return Math.abs(aj(e).exponent)}return t(cK,{number:function(e){var t=oX(e,f(r.relTol));return oX(aW(e,t,r.relTol,r.absTol)?t:e)},"number, number":function(e,t){var n=f(r.relTol);if(t>=n)return oX(e,t);var i=oX(e,n);return oX(aW(e,i,r.relTol,r.absTol)?i:e,t)},"number, BigNumber":function(e,t){if(!t.isInteger())throw TypeError(cX);return new o(e).toDecimalPlaces(t.toNumber())},Complex:function(e){return e.round()},"Complex, number":function(e,t){if(t%1)throw TypeError(cX);return e.round(t)},"Complex, BigNumber":function(e,t){if(!t.isInteger())throw TypeError(cX);var r=t.toNumber();return e.round(r)},BigNumber:function(e){var t=new o(e).toDecimalPlaces(f(r.relTol));return(uY(e,t,r.relTol,r.absTol)?t:e).toDecimalPlaces(0)},"BigNumber, BigNumber":function(e,t){if(!t.isInteger())throw TypeError(cX);var n=f(r.relTol);if(t>=n)return e.toDecimalPlaces(t.toNumber());var i=e.toDecimalPlaces(n);return(uY(e,i,r.relTol,r.absTol)?i:e).toDecimalPlaces(t.toNumber())},bigint:e=>e,"bigint, number":(e,t)=>e,"bigint, BigNumber":(e,t)=>e,Fraction:function(e){return e.round()},"Fraction, number":function(e,t){if(t%1)throw TypeError(cX);return e.round(t)},"Fraction, BigNumber":function(e,t){if(!t.isInteger())throw TypeError(cX);return e.round(t.toNumber())},"Unit, number, Unit":t.referToSelf(e=>function(t,r,n){var i=t.toNumeric(n);return n.multiply(e(i,r))}),"Unit, BigNumber, Unit":t.referToSelf(e=>(t,r,n)=>e(t,r.toNumber(),n)),"Array | Matrix, number | BigNumber, Unit":t.referToSelf(e=>(t,r,n)=>oC(t,t=>e(t,r,n),!0)),"Array | Matrix | Unit, Unit":t.referToSelf(e=>(t,r)=>e(t,0,r)),"Array | Matrix":t.referToSelf(e=>t=>oC(t,e,!0)),"SparseMatrix, number | BigNumber":t.referToSelf(e=>(t,r)=>s(t,r,e,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(e=>(t,r)=>c(t,r,e,!1)),"Array, number | BigNumber":t.referToSelf(e=>(t,r)=>c(n(t),r,e,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":t.referToSelf(e=>(t,r)=>i(t,0)?a(r.size(),r.storage()):l(r,t,e,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":t.referToSelf(e=>(t,r)=>i(t,0)?a(r.size(),r.storage()):c(r,t,e,!0)),"number | Complex | BigNumber | Fraction, Array":t.referToSelf(e=>(t,r)=>c(n(r),t,e,!0).valueOf())})}),c0="schur",c1=aM(c0,["typed","matrix","identity","multiply","qr","norm","subtract"],e=>{var{typed:t,matrix:r,identity:n,multiply:i,qr:a,norm:o,subtract:u}=e;return t(c0,{Array:function(e){var t=s(r(e));return{U:t.U.valueOf(),T:t.T.valueOf()}},Matrix:function(e){return s(e)}});function s(e){var t,r=e.size()[0],s=e,l=n(r),c=0;do{t=s;var f=a(s),h=f.Q;if(s=i(f.R,h),l=i(l,h),c++>100)break}while(o(u(s,t))>1e-4)return{U:l,T:s}}}),c2="setDifference",c8=aM(c2,["typed","size","subset","compareNatural","Index","DenseMatrix"],e=>{var{typed:t,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=e;return t(c2,{"Array | Matrix, Array | Matrix":function(e,t){var u;if(0===n(r(e),new a(0)))u=[];else{if(0===n(r(t),new a(0)))return of(e.toArray());var s,l=op(of(Array.isArray(e)?e:e.toArray()).sort(i)),c=op(of(Array.isArray(t)?t:t.toArray()).sort(i));u=[];for(var f=0;f<l.length;f++){s=!1;for(var h=0;h<c.length;h++)if(0===i(l[f].value,c[h].value)&&l[f].identifier===c[h].identifier){s=!0;break}s||u.push(l[f])}}return Array.isArray(e)&&Array.isArray(t)?od(u):new o(od(u))}})}),c3="setIntersect";e=>{var{typed:t,size:r,subset:n,compareNatural:i,Index:a,DenseMatrix:o}=e;return t(c3,{"Array | Matrix, Array | Matrix":function(e,t){var u;if(0===n(r(e),new a(0))||0===n(r(t),new a(0)))u=[];else{var s=op(of(Array.isArray(e)?e:e.toArray()).sort(i)),l=op(of(Array.isArray(t)?t:t.toArray()).sort(i));u=[];for(var c=0;c<s.length;c++)for(var f=0;f<l.length;f++)if(0===i(s[c].value,l[f].value)&&s[c].identifier===l[f].identifier){u.push(s[c]);break}}return Array.isArray(e)&&Array.isArray(t)?od(u):new o(od(u))}})};var c5="setSymDifference";e=>{var{typed:t,size:r,concat:n,subset:i,setDifference:a,Index:o}=e;return t(c5,{"Array | Matrix, Array | Matrix":function(e,t){if(0===i(r(e),new o(0)))return of(t);if(0===i(r(t),new o(0)))return of(e);var u=of(e),s=of(t);return n(a(u,s),a(s,u))}})};var c6="sign",c4=aM(c6,["typed","BigNumber","Fraction","complex"],e=>{var{typed:t,BigNumber:r,complex:n,Fraction:i}=e;return t(c6,{number:oW,Complex:function(e){return 0===e.im?n(oW(e.re)):e.sign()},BigNumber:function(e){return new r(e.cmp(0))},bigint:function(e){return e>0n?1n:e<0n?-1n:0n},Fraction:function(e){return new i(e.s)},"Array | Matrix":t.referToSelf(e=>t=>oC(t,e,!0)),Unit:t.referToSelf(e=>r=>{if(!r._isDerived()&&0!==r.units[0].unit.offset)throw TypeError("sign is ambiguous for units with offset");return t.find(e,r.valueType())(r.value)})})}),c7=aM("sin",["typed"],e=>{var{typed:t}=e,r=sp({typed:t});return t("sin",{number:Math.sin,"Complex | BigNumber":e=>e.sin()},r)}),c9="size",fe=aM(c9,["typed","config","?matrix"],e=>{var{typed:t,config:r,matrix:n}=e;return t(c9,{Matrix:function(e){return e.create(e.size(),"number")},Array:oe,string:function(e){return"Array"===r.matrix?[e.length]:n([e.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(e){return"Array"===r.matrix?[]:n?n([],"dense","number"):cw()}})});function ft(e,t,r,n,i,a,o){var u=0;for(r[o]=e;u>=0;){var s=r[o+u],l=r[n+s];-1===l?(u--,a[t++]=s):(r[n+s]=r[i+l],r[o+ ++u]=l)}return t}var fr=aM("csAmd",["add","multiply","transpose"],e=>{var{add:t,multiply:r,transpose:n}=e;return function(e,o){if(!o||e<=0||e>3)return null;var u,s,l,c,f,h,p,d,m,g,v,y,b,D,x,_,w=o._size,E=w[0],A=w[1],C=0,N=Math.max(16,10*Math.sqrt(A));N=Math.min(A-2,N);var M=function(e,i,a,o,u){var s=n(i);if(1===e&&o===a)return t(i,s);if(2===e){for(var l=s._index,c=s._ptr,f=0,h=0;h<a;h++){var p=c[h];if(c[h]=f,!(c[h+1]-p>u))for(var d=c[h+1];p<d;p++)l[f++]=l[p]}c[a]=f,i=n(s)}return r(s,i)}(e,o,E,A,N);!function(e,t,r){for(var n=e._values,i=e._index,a=e._ptr,o=e._size[1],u=0,s=0;s<o;s++){var l=a[s];for(a[s]=u;l<a[s+1];l++)t(i[l],s,n?n[l]:1,null)&&(i[u]=i[l],n&&(n[u]=n[l]),u++)}a[o]=u,i.splice(u,i.length-u),n&&n.splice(u,n.length-u)}(M,a,0);for(var F=M._index,S=M._ptr,T=S[A],B=[],O=[],I=A+1,z=2*(A+1),R=3*(A+1),k=4*(A+1),P=5*(A+1),L=6*(A+1),q=7*(A+1),U=function(e,t,r,n,a,o,u,s,l,c,f,h){for(var p=0;p<e;p++)r[0+p]=t[p+1]-t[p];r[n+e]=0;for(var d=0;d<=e;d++)r[a+d]=-1,o[d]=-1,r[u+d]=-1,r[s+d]=-1,r[l+d]=1,r[c+d]=1,r[f+d]=0,r[h+d]=r[n+d];var m=i(0,0,r,c,e);return r[f+e]=-2,t[e]=-1,r[c+e]=0,m}(A,S,O,0,R,B,z,q,I,L,k,P),j=function(e,t,r,n,i,a,o,u,s,l,c){for(var f=0,h=0;h<e;h++){var p=r[n+h];if(0===p)r[i+h]=-2,f++,t[h]=-1,r[a+h]=0;else if(p>o)r[u+h]=0,r[i+h]=-1,f++,t[h]=-e-2,r[u+e]++;else{var d=r[s+p];-1!==d&&(l[d]=h),r[c+h]=r[s+p],r[s+p]=h}}return f}(A,S,O,P,k,L,N,I,R,B,z),H=0;j<A;){for(l=-1;H<A&&-1===(l=O[R+H]);H++);-1!==O[z+l]&&(B[O[z+l]]=-1),O[R+H]=O[z+l];var $=O[k+l],V=O[I+l];j+=V;var G=0;O[I+l]=-V;var W=S[l],Y=0===$?W:T,Z=Y;for(c=1;c<=$+1;c++){for(c>$?(h=l,p=W,d=O[0+l]-$):(p=S[h=F[W++]],d=O[0+h]),f=1;f<=d;f++)(m=O[I+(u=F[p++])])<=0||(G+=m,O[I+u]=-m,F[Z++]=u,-1!==O[z+u]&&(B[O[z+u]]=B[u]),-1!==B[u]?O[z+B[u]]=O[z+u]:O[R+O[P+u]]=O[z+u]);h!==l&&(S[h]=-l-2,O[L+h]=0)}for(0!==$&&(T=Z),O[P+l]=G,S[l]=Y,O[0+l]=Z-Y,O[k+l]=-2,U=i(U,C,O,L,A),g=Y;g<Z;g++)if(!((v=O[k+(u=F[g])])<=0)){var J=U-(m=-O[I+u]);for(W=S[u],y=S[u]+v-1;W<=y;W++)O[L+(h=F[W])]>=U?O[L+h]-=m:0!==O[L+h]&&(O[L+h]=O[P+h]+J)}for(g=Y;g<Z;g++){for(x=0,b=(y=S[u=F[g]])+O[k+u]-1,D=y,_=0,W=y;W<=b;W++)if(0!==O[L+(h=F[W])]){var X=O[L+h]-U;X>0?(_+=X,F[D++]=h,x+=h):(S[h]=-l-2,O[L+h]=0)}O[k+u]=D-y+1;var K=D,Q=y+O[0+u];for(W=b+1;W<Q;W++){var ee=O[I+(s=F[W])];ee<=0||(_+=ee,F[D++]=s,x+=s)}0===_?(S[u]=-l-2,G-=m=-O[I+u],V+=m,j+=m,O[I+u]=0,O[k+u]=-1):(O[P+u]=Math.min(O[P+u],_),F[D]=F[K],F[K]=F[y],F[y]=l,O[0+u]=D-y+1,x=(x<0?-x:x)%A,O[z+u]=O[q+x],O[q+x]=u,B[u]=x)}for(O[P+l]=G,U=i(U+(C=Math.max(C,G)),C,O,L,A),g=Y;g<Z;g++)if(!(O[I+(u=F[g])]>=0))for(u=O[q+(x=B[u])],O[q+x]=-1;-1!==u&&-1!==O[z+u];u=O[z+u],U++){for(d=O[0+u],v=O[k+u],W=S[u]+1;W<=S[u]+d-1;W++)O[L+F[W]]=U;var et=u;for(s=O[z+u];-1!==s;){var er=O[0+s]===d&&O[k+s]===v;for(W=S[s]+1;er&&W<=S[s]+d-1;W++)O[L+F[W]]!==U&&(er=0);er?(S[s]=-u-2,O[I+u]+=O[I+s],O[I+s]=0,O[k+s]=-1,s=O[z+s],O[z+et]=s):(et=s,s=O[z+s])}}for(W=Y,g=Y;g<Z;g++)(m=-O[I+(u=F[g])])<=0||(O[I+u]=m,_=Math.min(_=O[P+u]+G-m,A-j-m),-1!==O[R+_]&&(B[O[R+_]]=u),O[z+u]=O[R+_],B[u]=-1,O[R+_]=u,H=Math.min(H,_),O[P+u]=_,F[W++]=u);O[I+l]=V,0==(O[0+l]=W-Y)&&(S[l]=-1,O[L+l]=0),0!==$&&(T=W)}for(u=0;u<A;u++)S[u]=-S[u]-2;for(s=0;s<=A;s++)O[R+s]=-1;for(s=A;s>=0;s--)O[I+s]>0||(O[z+s]=O[R+S[s]],O[R+S[s]]=s);for(h=A;h>=0;h--)O[I+h]<=0||-1===S[h]||(O[z+h]=O[R+S[h]],O[R+S[h]]=h);for(l=0,u=0;u<=A;u++)-1===S[u]&&(l=ft(u,l,O,R,z,B,L));return B.splice(B.length-1,1),B};function i(e,t,r,n,i){if(e<2||e+t<0){for(var a=0;a<i;a++)0!==r[n+a]&&(r[n+a]=1);e=2}return e}function a(e,t){return e!==t}}),fn=aM("csCounts",["transpose"],e=>{var{transpose:t}=e;return function(e,r,n,i){if(!e||!r||!n)return null;var a,o,u,s,l,c,f,h=e._size,p=h[0],d=h[1],m=4*d+(i?d+p+1:0),g=[],v=2*d,y=3*d,b=4*d,D=5*d+1;for(u=0;u<m;u++)g[u]=-1;var x=[],_=t(e),w=_._index,E=_._ptr;for(u=0;u<d;u++)for(x[o=n[u]]=+(-1===g[y+o]);-1!==o&&-1===g[y+o];o=r[o])g[y+o]=u;if(i){for(u=0;u<d;u++)g[n[u]]=u;for(a=0;a<p;a++){for(u=d,c=E[a],f=E[a+1],l=c;l<f;l++)u=Math.min(u,g[w[l]]);g[D+a]=g[b+u],g[b+u]=a}}for(a=0;a<d;a++)g[0+a]=a;for(u=0;u<d;u++){for(-1!==r[o=n[u]]&&x[r[o]]--,s=i?g[b+u]:o;-1!==s;s=i?g[D+s]:-1)for(l=E[s];l<E[s+1];l++){var A=function(e,t,r,n,i,a,o){var u,s,l,c=0;if(e<=t||r[n+t]<=r[i+e])return -1;r[i+e]=r[n+t];var f=r[a+e];if(r[a+e]=t,-1===f)c=1,l=e;else{for(c=2,l=f;l!==r[0+l];l=r[0+l]);for(u=f;u!==l;u=s)s=r[o+u],r[o+u]=l}return{jleaf:c,q:l}}(a=w[l],o,g,y,d,v,0);A.jleaf>=1&&x[o]++,2===A.jleaf&&x[A.q]--}-1!==r[o]&&(g[0+o]=r[o])}for(o=0;o<d;o++)-1!==r[o]&&(x[r[o]]+=x[o]);return x}}),fi=aM("csSqr",["add","multiply","transpose"],e=>{var{add:t,multiply:r,transpose:n}=e,i=fr({add:t,multiply:r,transpose:n}),a=fn({transpose:n});return function(e,t,r){var n,o=t._ptr,u=t._size[1],s={};if(s.q=i(e,t),e&&!s.q)return null;if(r){var l=e?function(e,t,r,n){for(var i=e._values,a=e._index,o=e._ptr,u=e._size,s=e._datatype,l=u[0],c=u[1],f=[],h=[],p=0,d=0;d<c;d++){h[d]=p;for(var m=r?r[d]:d,g=o[m],v=o[m+1],y=g;y<v;y++){var b=a[y];f[p]=b,p++}}return h[c]=p,e.createSparseMatrix({values:null,index:f,ptr:h,size:[l,c],datatype:s})}(t,0,s.q,0):t;s.parent=function(e,t){if(!e)return null;var r,n,i=e._index,a=e._ptr,o=e._size,u=o[0],s=o[1],l=[],c=[];for(r=0;r<u;r++)c[s+r]=-1;for(var f=0;f<s;f++){l[f]=-1,c[0+f]=-1;for(var h=a[f],p=a[f+1],d=h;d<p;d++){var m=i[d];for(r=(0,c[s+m]);-1!==r&&r<f;r=n)n=c[0+r],c[0+r]=f,-1===n&&(l[r]=f);t&&(c[s+m]=f)}}return l}(l,1);var c=function(e,t){if(!e)return null;var r,n=0,i=[],a=[],o=2*t;for(r=0;r<t;r++)a[0+r]=-1;for(r=t-1;r>=0;r--)-1!==e[r]&&(a[t+r]=a[0+e[r]],a[0+e[r]]=r);for(r=0;r<t;r++)-1===e[r]&&(n=ft(r,n,a,0,t,i,o));return i}(s.parent,u);if(s.cp=a(l,s.parent,c,1),l&&s.parent&&s.cp&&function(e,t){var r,n,i,a,o,u=e._ptr,s=e._index,l=e._size,c=l[0],f=l[1];t.pinv=[],t.leftmost=[];var h=t.parent,p=t.pinv,d=t.leftmost,m=[],g=c+f,v=c+2*f;for(n=0;n<f;n++)m[c+n]=-1,m[g+n]=-1,m[v+n]=0;for(r=0;r<c;r++)d[r]=-1;for(n=f-1;n>=0;n--)for(a=u[n],o=u[n+1],i=a;i<o;i++)d[s[i]]=n;for(r=c-1;r>=0;r--)p[r]=-1,-1!==(n=d[r])&&(0==m[v+n]++&&(m[g+n]=r),m[0+r]=m[c+n],m[c+n]=r);for(n=0,t.lnz=0,t.m2=c;n<f;n++)if(r=m[c+n],t.lnz++,r<0&&(r=t.m2++),p[r]=n,!(--v[n]<=0)){t.lnz+=m[v+n];var y=h[n];-1!==y&&(0===m[v+y]&&(m[g+y]=m[g+n]),m[0+m[g+n]]=m[c+y],m[c+y]=m[0+r],m[v+y]+=m[v+n])}for(r=0;r<c;r++)p[r]<0&&(p[r]=n++);return!0}(l,s))for(s.unz=0,n=0;n<u;n++)s.unz+=s.cp[n]}else s.unz=4*o[u]+u,s.lnz=s.unz;return s}});function fa(e,t){e[t]=-e[t]-2}function fo(e){return e<0?-e-2:e}var fu=aM("csSpsolve",["divideScalar","multiply","subtract"],e=>{var{divideScalar:t,multiply:r,subtract:n}=e;return function(e,i,a,o,u,s,l){var c,f,h,p,d=e._values,m=e._index,g=e._ptr,v=e._size[1],y=i._values,b=i._index,D=i._ptr,x=function(e,t,r,n,i){var a,o,u,s=e._ptr,l=e._size,c=t._index,f=t._ptr,h=l[1],p=h;for(o=f[r],u=f[r+1],a=o;a<u;a++){var d=c[a];!(s[d]<0)&&(p=function(e,t,r,n,i){var a,o,u,s=t._index,l=t._ptr,c=t._size[1],f=0;for(n[0]=e;f>=0;){e=n[f];var h,p,d=i?i[e]:e;if(!(l[e]<0)){fa(l,e),n[c+f]=d<0?0:(h=l[d])<0?-h-2:h}var m=1;for(o=n[c+f],u=d<0?0:(p=l[d+1])<0?-p-2:p;o<u;o++)if(!(l[a=s[o]]<0)){n[c+f]=o,n[++f]=a,m=0;break}m&&(f--,n[--r]=e)}return r}(d,e,p,n,i))}for(a=p;a<h;a++)fa(s,n[a]);return p}(e,i,a,o,s);for(c=x;c<v;c++)u[o[c]]=0;for(f=D[a],h=D[a+1],c=f;c<h;c++)u[b[c]]=y[c];for(var _=x;_<v;_++){var w=o[_],E=s?s[w]:w;if(!(E<0))for(f=g[E],h=g[E+1],u[w]=t(u[w],d[l?f:h-1]),c=l?f+1:f,p=l?h:h-1;c<p;c++){var A=m[c];u[A]=n(u[A],r(d[c],u[w]))}}return x}}),fs=aM("csLu",["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],e=>{var{abs:t,divideScalar:r,multiply:n,subtract:i,larger:a,largerEq:o,SparseMatrix:u}=e,s=fu({divideScalar:r,multiply:n,subtract:i});return function(e,i,l){if(!e)return null;var c,f,h,p=e._size[1],d=100,m=100;i&&(c=i.q,d=i.lnz||d,m=i.unz||m);var g=[],v=[],y=[],b=new u({values:g,index:v,ptr:y,size:[p,p]}),D=[],x=[],_=[],w=new u({values:D,index:x,ptr:_,size:[p,p]}),E=[],A=[],C=[];for(f=0;f<p;f++)A[f]=0,E[f]=-1,y[f+1]=0;d=0,m=0;for(var N=0;N<p;N++){y[N]=d,_[N]=m;var M=c?c[N]:N,F=s(b,e,M,C,A,E,1),S=-1,T=-1;for(h=F;h<p;h++)if(E[f=C[h]]<0){var B=t(A[f]);a(B,T)&&(T=B,S=f)}else x[m]=E[f],D[m++]=A[f];if(-1===S||T<=0)return null;E[M]<0&&o(t(A[M]),n(T,l))&&(S=M);var O=A[S];for(x[m]=N,D[m++]=O,E[S]=N,v[d]=S,g[d++]=1,h=F;h<p;h++)E[f=C[h]]<0&&(v[d]=f,g[d++]=r(A[f],O)),A[f]=0}for(h=0,y[p]=d,_[p]=m;h<d;h++)v[h]=E[v[h]];return g.splice(d,g.length-d),v.splice(d,v.length-d),D.splice(m,D.length-m),x.splice(m,x.length-m),{L:b,U:w,pinv:E}}}),fl=aM("slu",["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],e=>{var{typed:t,abs:r,add:n,multiply:i,transpose:a,divideScalar:o,subtract:u,larger:s,largerEq:l,SparseMatrix:c}=e,f=fi({add:n,multiply:i,transpose:a}),h=fs({abs:r,divideScalar:o,multiply:i,subtract:u,larger:s,largerEq:l,SparseMatrix:c});return t("slu",{"SparseMatrix, number, number":function(e,t,r){if(!aT(t)||t<0||t>3)throw Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(r<0||r>1)throw Error("Partial pivoting threshold must be a number from 0 to 1");var n=f(t,e,!1),i=h(e,n,r);return{L:i.L,U:i.U,p:i.pinv,q:n.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}})}),fc="smaller",ff=aM(fc,["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],e=>{var{typed:t,config:r,bignumber:n,matrix:i,DenseMatrix:a,concat:o,SparseMatrix:u}=e,s=uw({typed:t}),l=uG({typed:t,SparseMatrix:u}),c=uA({typed:t,DenseMatrix:a}),f=uc({typed:t,matrix:i,concat:o}),h=u7({typed:t});function p(e,t){return e.lt(t)&&!uY(e,t,r.relTol,r.absTol)}return t(fc,fh({typed:t,config:r}),{"boolean, boolean":(e,t)=>e<t,"BigNumber, BigNumber":p,"bigint, bigint":(e,t)=>e<t,"Fraction, Fraction":(e,t)=>-1===e.compare(t),"Fraction, BigNumber":function(e,t){return p(n(e),t)},"BigNumber, Fraction":function(e,t){return p(e,n(t))},"Complex, Complex":function(e,t){throw TypeError("No ordering relation is defined for complex numbers")}},h,f({SS:l,DS:s,Ss:c}))}),fh=aM(fc,["typed","config"],e=>{var{typed:t,config:r}=e;return t(fc,{"number, number":function(e,t){return e<t&&!aW(e,t,r.relTol,r.absTol)}})}),fp="smallerEq",fd=aM(fp,["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],e=>{var{typed:t,config:r,matrix:n,DenseMatrix:i,concat:a,SparseMatrix:o}=e,u=uw({typed:t}),s=uG({typed:t,SparseMatrix:o}),l=uA({typed:t,DenseMatrix:i}),c=uc({typed:t,matrix:n,concat:a}),f=u7({typed:t});return t(fp,fm({typed:t,config:r}),{"boolean, boolean":(e,t)=>e<=t,"BigNumber, BigNumber":function(e,t){return e.lte(t)||uY(e,t,r.relTol,r.absTol)},"bigint, bigint":(e,t)=>e<=t,"Fraction, Fraction":(e,t)=>1!==e.compare(t),"Complex, Complex":function(){throw TypeError("No ordering relation is defined for complex numbers")}},f,c({SS:s,DS:u,Ss:l}))}),fm=aM(fp,["typed","config"],e=>{var{typed:t,config:r}=e;return t(fp,{"number, number":function(e,t){return e<=t||aW(e,t,r.relTol,r.absTol)}})}),fg={},fv={},fy={};function fb(e){return(fy=fb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}).__esModule=!0,fy.default=fy,fb(e)}(fy=fb).__esModule=!0,fy.default=fy;var fD=fy.default,fx={},f_=fy.default;function fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}(fx=function(e,t){if("object"!=f_(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=f_(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}).__esModule=!0,fx.default=fx,(fv=function(e){var t=fx(e,"string");return"symbol"==fD(t)?t:t+""}).__esModule=!0,fv.default=fv,(fg=function(e,t,r){return(t=fv(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}).__esModule=!0,fg.default=fg;var fE=aM("Spa",["addScalar","equalScalar","FibonacciHeap"],e=>{var{addScalar:t,equalScalar:r,FibonacciHeap:n}=e;function i(){if(!(this instanceof i))throw SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(e,t){if(this._values[e])this._values[e].value=t;else{var r=this._heap.insert(e,t);this._values[e]=r}},i.prototype.get=function(e){var t=this._values[e];return t?t.value:0},i.prototype.accumulate=function(e,r){var n=this._values[e];n?n.value=t(n.value,r):(n=this._heap.insert(e,r),this._values[e]=n)},i.prototype.forEach=function(e,t,n){var i=this._heap,a=this._values,o=[],u=i.extractMinimum();for(u&&o.push(u);u&&u.key<=t;)u.key>=e&&!r(u.value,0)&&n(u.key,u.value,this),(u=i.extractMinimum())&&o.push(u);for(var s=0;s<o.length;s++){var l=o[s];a[(u=i.insert(l.key,l.value)).key]=u}},i.prototype.swap=function(e,t){var r=this._values[e],n=this._values[t];if(!r&&n)r=this._heap.insert(e,n.value),this._heap.remove(n),this._values[e]=r,this._values[t]=void 0;else if(r&&!n)n=this._heap.insert(t,r.value),this._heap.remove(r),this._values[t]=n,this._values[e]=void 0;else if(r&&n){var i=r.value;r.value=n.value,n.value=i}},i},{isClass:!0}),fA=aM("SparseMatrix",["typed","equalScalar","Matrix"],e=>{var{typed:t,equalScalar:r,Matrix:n}=e;function i(e,t){if(!(this instanceof i))throw SyntaxError("Constructor must be called with the new operator");if(t&&!iX(t))throw Error("Invalid datatype: "+t);if(iQ(e)){var r,n,o;r=this,n=e,o=t,"SparseMatrix"===n.type?(r._values=n._values?aw(n._values):void 0,r._index=aw(n._index),r._ptr=aw(n._ptr),r._size=aw(n._size),r._datatype=o||n._datatype):a(r,n.valueOf(),o||n._datatype)}else if(e&&iK(e.index)&&iK(e.ptr)&&iK(e.size))this._values=e.values,this._index=e.index,this._ptr=e.ptr,this._size=e.size,this._datatype=t||e.datatype;else if(iK(e))a(this,e,t);else if(e)throw TypeError("Unsupported type of data ("+a_(e)+")");else this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=t}function a(e,n,i){e._values=[],e._index=[],e._ptr=[],e._datatype=i;var a=n.length,o=0,u=r,s=0;if(iX(i)&&(u=t.find(r,[i,i])||r,s=t.convert(0,i)),a>0){var l=0;do{e._ptr.push(e._index.length);for(var c=0;c<a;c++){var f=n[c];if(iK(f)){if(0===l&&o<f.length&&(o=f.length),l<f.length){var h=f[l];u(h,s)||(e._values.push(h),e._index.push(c))}}else 0===l&&o<1&&(o=1),u(f,s)||(e._values.push(f),e._index.push(c))}l++}while(l<o)}e._ptr.push(e._index.length),e._size=[a,o]}function o(e,t,r,n){if(r-t==0)return r;for(var i=t;i<r;i++)if(n[i]===e)return i;return t}function u(e,t,r,n,i,a,o){i.splice(e,0,n),a.splice(e,0,t);for(var u=r+1;u<o.length;u++)o[u]++}function s(e,n,i,a){var o,u,s,l=a||0,c=r,f=0;iX(e._datatype)&&(c=t.find(r,[e._datatype,e._datatype])||r,f=t.convert(0,e._datatype),l=t.convert(l,e._datatype));var h=!c(l,f),p=e._size[0],d=e._size[1];if(i>d){for(u=d;u<i;u++)if(e._ptr[u]=e._values.length,h)for(o=0;o<p;o++)e._values.push(l),e._index.push(o);e._ptr[i]=e._values.length}else i<d&&(e._ptr.splice(i+1,d-i),e._values.splice(e._ptr[i],e._values.length),e._index.splice(e._ptr[i],e._index.length));if(d=i,n>p){if(h){var m=0;for(u=0;u<d;u++){e._ptr[u]=e._ptr[u]+m,s=e._ptr[u+1]+m;var g=0;for(o=p;o<n;o++,g++)e._values.splice(s+g,0,l),e._index.splice(s+g,0,o),m++}e._ptr[d]=e._values.length}}else if(n<p){var v=0;for(u=0;u<d;u++){e._ptr[u]=e._ptr[u]-v;var y=e._ptr[u],b=e._ptr[u+1]-v;for(s=y;s<b;s++)(o=e._index[s])>n-1&&(e._values.splice(s,1),e._index.splice(s,1),v++)}e._ptr[u]=e._values.length}return e._size[0]=n,e._size[1]=i,e}function l(e,t,r,n,i){var a,o,u=n[0],s=n[1],l=[];for(a=0;a<u;a++)for(o=0,l[a]=[];o<s;o++)l[a][o]=0;for(o=0;o<s;o++)for(var c=r[o],f=r[o+1],h=c;h<f;h++)l[a=t[h]][o]=e?i?aw(e[h]):e[h]:1;return l}return i.prototype=new n,i.prototype.createSparseMatrix=function(e,t){return new i(e,t)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return om(this._values,a_)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(e,t){return new i(e,t)},i.prototype.density=function(){var e=this._size[0],t=this._size[1];return 0!==e&&0!==t?this._index.length/(e*t):0},i.prototype.subset=function(e,t,r){if(!this._values)throw Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return function(e,t){if(!i3(t))throw TypeError("Invalid index");if(t.isScalar())return e.get(t.min());var r,n,a,o,u=t.size();if(u.length!==e._size.length)throw new a9(u.length,e._size.length);var s=t.min(),l=t.max();for(r=0,n=e._size.length;r<n;r++)on(s[r],e._size[r]),on(l[r],e._size[r]);var c=e._values,f=e._index,h=e._ptr,p=t.dimension(0),d=t.dimension(1),m=[],g=[];p.forEach(function(e,t){g[e]=t[0],m[e]=!0});var v=c?[]:void 0,y=[],b=[];return d.forEach(function(e){for(b.push(y.length),a=h[e],o=h[e+1];a<o;a++)!0===m[r=f[a]]&&(y.push(g[r]),v&&v.push(c[a]))}),b.push(y.length),new i({values:v,index:y,ptr:b,size:u,datatype:e._datatype})}(this,e);case 2:case 3:return function(e,t,r,n){if(!t||!0!==t.isIndex)throw TypeError("Invalid index");var i,a=t.size(),o=t.isScalar();if(iQ(r)?(i=r.size(),r=r.toArray()):i=oe(r),o){if(0!==i.length)throw TypeError("Scalar expected");e.set(t.min(),r,n)}else{if(1!==a.length&&2!==a.length)throw new a9(a.length,e._size.length,"<");if(i.length<a.length){for(var u=0,s=0;1===a[u]&&1===i[u];)u++;for(;1===a[u];)s++,u++;r=oc(r,a.length,s,i)}if(!aA(a,i))throw new a9(a,i,">");if(1===a.length)t.dimension(0).forEach(function(t,i){on(t),e.set([t,0],r[i[0]],n)});else{var l=t.dimension(0),c=t.dimension(1);l.forEach(function(t,i){on(t),c.forEach(function(a,o){on(a),e.set([t,a],r[i[0]][o[0]],n)})})}}return e}(this,e,t,r);default:throw SyntaxError("Wrong number of arguments")}},i.prototype.get=function(e){if(!iK(e))throw TypeError("Array expected");if(e.length!==this._size.length)throw new a9(e.length,this._size.length);if(!this._values)throw Error("Cannot invoke get on a Pattern only matrix");var t=e[0],r=e[1];on(t,this._size[0]),on(r,this._size[1]);var n=o(t,this._ptr[r],this._ptr[r+1],this._index);return n<this._ptr[r+1]&&this._index[n]===t?this._values[n]:0},i.prototype.set=function(e,n,i){if(!iK(e))throw TypeError("Array expected");if(e.length!==this._size.length)throw new a9(e.length,this._size.length);if(!this._values)throw Error("Cannot invoke set on a Pattern only matrix");var a=e[0],l=e[1],c=this._size[0],f=this._size[1],h=r,p=0;iX(this._datatype)&&(h=t.find(r,[this._datatype,this._datatype])||r,p=t.convert(0,this._datatype)),(a>c-1||l>f-1)&&(s(this,Math.max(a+1,c),Math.max(l+1,f),i),c=this._size[0],f=this._size[1]),on(a,c),on(l,f);var d=o(a,this._ptr[l],this._ptr[l+1],this._index);return d<this._ptr[l+1]&&this._index[d]===a?h(n,p)?function(e,t,r,n,i){r.splice(e,1),n.splice(e,1);for(var a=t+1;a<i.length;a++)i[a]--}(d,l,this._values,this._index,this._ptr):this._values[d]=n:h(n,p)||u(d,a,l,n,this._values,this._index,this._ptr),this},i.prototype.resize=function(e,t,r){if(!i0(e))throw TypeError("Array or Matrix expected");var n=e.valueOf().map(e=>Array.isArray(e)&&1===e.length?e[0]:e);if(2!==n.length)throw Error("Only two dimensions matrix are supported");return n.forEach(function(e){if(!iV(e)||!aT(e)||e<0)throw TypeError("Invalid size, must contain positive integers (size: "+a5(n)+")")}),s(r?this.clone():this,n[0],n[1],t)},i.prototype.reshape=function(e,t){if(!iK(e))throw TypeError("Array expected");if(2!==e.length)throw Error("Sparse matrices can only be reshaped in two dimensions");e.forEach(function(t){if(!iV(t)||!aT(t)||t<=-2||0===t)throw TypeError("Invalid size, must contain positive integers or -1 (size: "+a5(e)+")")});var r=this._size[0]*this._size[1],n=(e=ou(e,r))[0]*e[1];if(r!==n)throw Error("Reshaping sparse matrix will result in the wrong number of elements");var i=t?this.clone():this;if(this._size[0]===e[0]&&this._size[1]===e[1])return i;for(var a=[],s=0;s<i._ptr.length;s++)for(var l=0;l<i._ptr[s+1]-i._ptr[s];l++)a.push(s);for(var c=i._values.slice(),f=i._index.slice(),h=0;h<i._index.length;h++){var p=f[h],d=a[h],m=p*i._size[1]+d;a[h]=m%e[1],f[h]=Math.floor(m/e[1])}i._values.length=0,i._index.length=0,i._ptr.length=e[1]+1,i._size=e.slice();for(var g=0;g<i._ptr.length;g++)i._ptr[g]=0;for(var v=0;v<c.length;v++){var y=f[v],b=a[v],D=c[v];u(o(y,i._ptr[b],i._ptr[b+1],i._index),y,b,D,i._values,i._index,i._ptr)}return i},i.prototype.clone=function(){return new i({values:this._values?aw(this._values):void 0,index:aw(this._index),ptr:aw(this._ptr),size:aw(this._size),datatype:this._datatype})},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(e,n){if(!this._values)throw Error("Cannot invoke map on a Pattern only matrix");var a=this,o=this._size[0],u=this._size[1],s=sx(e,a,"map");return function(e,n,a,o,u,s,l){var c=[],f=[],h=[],p=r,d=0;iX(e._datatype)&&(p=t.find(r,[e._datatype,e._datatype])||r,d=t.convert(0,e._datatype));for(var m=function(e,t,r){var n=s(e,t,r);p(n,d)||(c.push(n),f.push(t))},g=0;g<=u;g++){h.push(c.length);var v=e._ptr[g],y=e._ptr[g+1];if(l)for(var b=v;b<y;b++){var D=e._index[b];D>=0&&D<=a&&m(e._values[b],D-n,g-o)}else{for(var x={},_=v;_<y;_++)x[e._index[_]]=e._values[_];for(var w=n;w<=a;w++)m(w in x?x[w]:0,w-n,g-o)}}return h.push(c.length),new i({values:c,index:f,ptr:h,size:[a-n+1,u-o+1]})}(this,0,o-1,0,u-1,function(e,t,r){return s(e,[t,r],a)},n)},i.prototype.forEach=function(e,t){if(!this._values)throw Error("Cannot invoke forEach on a Pattern only matrix");for(var r=this._size[0],n=this._size[1],i=sx(e,this,"forEach"),a=0;a<n;a++){var o=this._ptr[a],u=this._ptr[a+1];if(t)for(var s=o;s<u;s++){var l=this._index[s];i(this._values[s],[l,a],this)}else{for(var c={},f=o;f<u;f++)c[this._index[f]]=this._values[f];for(var h=0;h<r;h++)i(h in c?c[h]:0,[h,a],this)}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw Error("Cannot iterate a Pattern only matrix");for(var e=this._size[1],t=0;t<e;t++)for(var r=this._ptr[t],n=this._ptr[t+1],i=r;i<n;i++){var a=this._index[i];yield{value:this._values[i],index:[a,t]}}},i.prototype.toArray=function(){return l(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return l(this._values,this._index,this._ptr,this._size,!1)},i.prototype.format=function(e){for(var t=this._size[0],r=this._size[1],n=this.density(),i="Sparse Matrix ["+a5(t,e)+" x "+a5(r,e)+"] density: "+a5(n,e)+"\n",a=0;a<r;a++)for(var o=this._ptr[a],u=this._ptr[a+1],s=o;s<u;s++)i+="\n    ("+a5(this._index[s],e)+", "+a5(a,e)+") ==> "+(this._values?a5(this._values[s],e):"X");return i},i.prototype.toString=function(){return a5(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(e){if(e){if(iG(e)&&(e=e.toNumber()),!iV(e)||!aT(e))throw TypeError("The parameter k must be an integer number")}else e=0;var t=e>0?e:0,r=e<0?-e:0,n=this._size[0],a=this._size[1],o=Math.min(n-r,a-t),u=[],s=[],l=[];l[0]=0;for(var c=t;c<a&&u.length<o;c++)for(var f=this._ptr[c],h=this._ptr[c+1],p=f;p<h;p++){var d=this._index[p];if(d===c-t+r){u.push(this._values[p]),s[u.length-1]=d-r;break}}return l.push(u.length),new i({values:u,index:s,ptr:l,size:[o,1]})},i.fromJSON=function(e){return new i(e)},i.diagonal=function(e,n,a,o,u){if(!iK(e))throw TypeError("Array expected, size parameter");if(2!==e.length)throw Error("Only two dimensions matrix are supported");if(e=e.map(function(e){if(iG(e)&&(e=e.toNumber()),!iV(e)||!aT(e)||e<1)throw Error("Size values must be positive integers");return e}),a){if(iG(a)&&(a=a.toNumber()),!iV(a)||!aT(a))throw TypeError("The parameter k must be an integer number")}else a=0;var s,l=r,c=0;iX(u)&&(l=t.find(r,[u,u])||r,c=t.convert(0,u));var f=a>0?a:0,h=a<0?-a:0,p=e[0],d=e[1],m=Math.min(p-h,d-f);if(iK(n)){if(n.length!==m)throw Error("Invalid value array length");s=function(e){return n[e]}}else if(iQ(n)){var g=n.size();if(1!==g.length||g[0]!==m)throw Error("Invalid matrix length");s=function(e){return n.get([e])}}else s=function(){return n};for(var v=[],y=[],b=[],D=0;D<d;D++){b.push(v.length);var x=D-f;if(x>=0&&x<m){var _=s(x);l(_,c)||(y.push(x+h),v.push(_))}}return b.push(v.length),new i({values:v,index:y,ptr:b,size:[p,d]})},i.prototype.swapRows=function(e,t){if(!iV(e)||!aT(e)||!iV(t)||!aT(t))throw Error("Row index must be positive integers");if(2!==this._size.length)throw Error("Only two dimensional matrix is supported");return on(e,this._size[0]),on(t,this._size[0]),i._swapRows(e,t,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(e,t,r,n,i){for(var a=n[e],o=n[e+1],u=a;u<o;u++)i(r[u],t[u])},i._swapRows=function(e,t,r,n,i,a){for(var u=0;u<r;u++){var s=a[u],l=a[u+1],c=o(e,s,l,i),f=o(t,s,l,i);if(c<l&&f<l&&i[c]===e&&i[f]===t){if(n){var h=n[c];n[c]=n[f],n[f]=h}continue}if(c<l&&i[c]===e&&(f>=l||i[f]!==t)){var p=n?n[c]:void 0;i.splice(f,0,t),n&&n.splice(f,0,p),i.splice(f<=c?c+1:c,1),n&&n.splice(f<=c?c+1:c,1);continue}if(f<l&&i[f]===t&&(c>=l||i[c]!==e)){var d=n?n[f]:void 0;i.splice(c,0,e),n&&n.splice(c,0,d),i.splice(c<=f?f+1:f,1),n&&n.splice(c<=f?f+1:f,1)}}},i},{isClass:!0}),fC=aM("sqrt",["config","typed","Complex"],e=>{var{config:t,typed:r,Complex:n}=e;return r("sqrt",{number:i,Complex:function(e){return e.sqrt()},BigNumber:function(e){return!e.isNegative()||t.predictable?e.sqrt():i(e.toNumber())},Unit:function(e){return e.pow(.5)}});function i(e){return isNaN(e)?NaN:e>=0||t.predictable?Math.sqrt(e):new n(e,0).sqrt()}}),fN="stirlingS2";e=>{var{typed:t,addScalar:r,subtractScalar:n,multiplyScalar:i,divideScalar:a,pow:o,factorial:u,combinations:s,isNegative:l,isInteger:c,number:f,bignumber:h,larger:p}=e,d=[],m=[];return t(fN,{"number | BigNumber, number | BigNumber":function(e,t){if(!c(e)||l(e)||!c(t)||l(t))throw TypeError("Non-negative integer value expected in function stirlingS2");if(p(t,e))throw TypeError("k must be less than or equal to n in function stirlingS2");var n=!(iV(e)&&iV(t)),a=n?m:d,o=n?h:f,u=f(e),s=f(t);if(a[u]&&a[u].length>s)return a[u][s];for(var g=0;g<=u;++g)if(a[g]||(a[g]=[o(+(0===g))]),0!==g)for(var v=a[g],y=a[g-1],b=v.length;b<=g&&b<=s;++b)b===g?v[b]=1:v[b]=r(i(o(b),y[b]),y[b-1]);return a[u][s]}})};var fM="subset",fF=aM(fM,["typed","matrix","zeros","add"],e=>{var{typed:t,matrix:r,zeros:n,add:i}=e;return t(fM,{"Matrix, Index":function(e,t){return oi(t)?r():(or(e,t),e.subset(t))},"Array, Index":t.referTo("Matrix, Index",function(e){return function(t,n){var i=e(r(t),n);return n.isScalar()?i:i.valueOf()}}),"Object, Index":fB,"string, Index":fS,"Matrix, Index, any, any":function(e,t,r,a){return oi(t)?e:(or(e,t),e.clone().subset(t,function(e,t){if("string"==typeof e)throw Error("can't boradcast a string");if(t._isScalar)return e;var r=t.size();if(!r.every(e=>e>0))return e;try{return i(e,n(r))}catch(t){return e}}(r,t),a))},"Array, Index, any, any":t.referTo("Matrix, Index, any, any",function(e){return function(t,n,i,a){var o=e(r(t),n,i,a);return o.isMatrix?o.valueOf():o}}),"Array, Index, any":t.referTo("Matrix, Index, any, any",function(e){return function(t,n,i){return e(r(t),n,i,void 0).valueOf()}}),"Matrix, Index, any":t.referTo("Matrix, Index, any, any",function(e){return function(t,r,n){return e(t,r,n,void 0)}}),"string, Index, string":fT,"string, Index, string, string":fT,"Object, Index, any":fO})});function fS(e,t){if(!i3(t))throw TypeError("Index expected");if(oi(t))return"";if(or(Array.from(e),t),1!==t.size().length)throw new a9(t.size().length,1);var r=e.length;on(t.min()[0],r),on(t.max()[0],r);var n=t.dimension(0),i="";return n.forEach(function(t){i+=e.charAt(t)}),i}function fT(e,t,r,n){if(!t||!0!==t.isIndex)throw TypeError("Index expected");if(oi(t))return e;if(or(Array.from(e),t),1!==t.size().length)throw new a9(t.size().length,1);if(void 0!==n){if("string"!=typeof n||1!==n.length)throw TypeError("Single character expected as defaultValue")}else n=" ";var i=t.dimension(0);if(i.size()[0]!==r.length)throw new a9(i.size()[0],r.length);var a=e.length;on(t.min()[0]),on(t.max()[0]);for(var o=[],u=0;u<a;u++)o[u]=e.charAt(u);if(i.forEach(function(e,t){o[e]=r.charAt(t[0])}),o.length>a)for(var s=a-1,l=o.length;s<l;s++)o[s]||(o[s]=n);return o.join("")}function fB(e,t){if(!oi(t)){if(1!==t.size().length)throw new a9(t.size(),1);var r=t.dimension(0);if("string"!=typeof r)throw TypeError("String expected as index to retrieve an object property");return iL(e,r)}}function fO(e,t,r){if(oi(t))return e;if(1!==t.size().length)throw new a9(t.size(),1);var n=t.dimension(0);if("string"!=typeof n)throw TypeError("String expected as index to retrieve an object property");var i=aw(e);return iq(i,n,r),i}var fI="subtract",fz=aM(fI,["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],e=>{var{typed:t,matrix:r,equalScalar:n,subtractScalar:i,unaryMinus:a,DenseMatrix:o,concat:u}=e,s=ui({typed:t}),l=uw({typed:t}),c=u4({typed:t,equalScalar:n}),f=uo({typed:t,DenseMatrix:o}),h=uA({typed:t,DenseMatrix:o}),p=uc({typed:t,matrix:r,concat:u});return t(fI,{"any, any":i},p({elop:i,SS:c,DS:s,SD:l,Ss:h,sS:f}))}),fR="subtractScalar",fk=aM(fR,["typed"],e=>{var{typed:t}=e;return t(fR,{"number, number":oI,"Complex, Complex":function(e,t){return e.sub(t)},"BigNumber, BigNumber":function(e,t){return e.minus(t)},"bigint, bigint":function(e,t){return e-t},"Fraction, Fraction":function(e,t){return e.sub(t)},"Unit, Unit":t.referToSelf(e=>(r,n)=>{if(null===r.value||void 0===r.value)throw Error("Parameter x contains a unit with undefined value");if(null===n.value||void 0===n.value)throw Error("Parameter y contains a unit with undefined value");if(!r.equalBase(n))throw Error("Units do not match");var i=r.clone();return i.value=t.find(e,[i.valueType(),n.valueType()])(i.value,n.value),i.fixPrefix=!1,i})})}),fP=(e=>{var{typed:t,config:r,add:n,numeric:i}=e;return t("sum",{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(e,t){try{return oN(e,t,n)}catch(e){throw sv(e,"sum")}},"...":function(e){if(oE(e))throw TypeError("Scalar values expected in function sum");return a(e)}});function a(e){var t;return oA(e,function(e){try{t=void 0===t?e:n(t,e)}catch(t){throw sv(t,"sum",e)}}),void 0===t&&(t=i(0,r.number)),"string"==typeof t&&(t=i(t,aB(t,r))),t}},"sylvester");e=>{var{typed:t,schur:r,matrixFromColumns:n,matrix:i,multiply:a,range:o,concat:u,transpose:s,index:l,subset:c,add:f,subtract:h,identity:p,lusolve:d,abs:m}=e;return t(fP,{"Matrix, Matrix, Matrix":g,"Array, Matrix, Matrix":function(e,t,r){return g(i(e),t,r)},"Array, Array, Matrix":function(e,t,r){return g(i(e),i(t),r)},"Array, Matrix, Array":function(e,t,r){return g(i(e),t,i(r))},"Matrix, Array, Matrix":function(e,t,r){return g(e,i(t),r)},"Matrix, Array, Array":function(e,t,r){return g(e,i(t),i(r))},"Matrix, Matrix, Array":function(e,t,r){return g(e,t,i(r))},"Array, Array, Array":function(e,t,r){return g(i(e),i(t),i(r)).toArray()}});function g(e,t,g){for(var v=t.size()[0],y=e.size()[0],b=r(e),D=b.T,x=b.U,_=r(a(-1,t)),w=_.T,E=_.U,A=a(a(s(x),g),E),C=o(0,y),N=[],M=(e,t)=>u(e,t,1),F=(e,t)=>u(e,t,0),S=0;S<v;S++)if(S<v-1&&m(c(w,l(S+1,S)))>1e-5){for(var T=F(c(A,l(C,S)),c(A,l(C,S+1))),B=0;B<S;B++)T=f(T,F(a(N[B],c(w,l(B,S))),a(N[B],c(w,l(B,S+1)))));var O=a(p(y),a(-1,c(w,l(S,S)))),I=a(p(y),a(-1,c(w,l(S+1,S)))),z=a(p(y),a(-1,c(w,l(S,S+1)))),R=a(p(y),a(-1,c(w,l(S+1,S+1)))),k=d(F(M(f(D,O),I),M(z,f(D,R))),T);N[S]=k.subset(l(o(0,y),0)),N[S+1]=k.subset(l(o(y,2*y),0)),S++}else{for(var P=c(A,l(C,S)),L=0;L<S;L++)P=f(P,a(N[L],c(w,l(L,S))));var q=h(D,a(c(w,l(S,S)),p(y)));N[S]=d(q,P)}return a(x,a(i(n(...N)),s(E)))}};var fL="transpose",fq=aM(fL,["typed","matrix"],e=>{var{typed:t,matrix:r}=e;return t(fL,{Array:e=>n(r(e)).valueOf(),Matrix:n,any:aw});function n(e){var t,r=e.size();switch(r.length){case 1:t=e.clone();break;case 2:var n=r[0],i=r[1];if(0===i)throw RangeError("Cannot transpose a 2D matrix with no columns (size: "+a5(r)+")");switch(e.storage()){case"dense":t=function(e,t,r){for(var n,i=e._data,a=[],o=0;o<r;o++){n=a[o]=[];for(var u=0;u<t;u++)n[u]=aw(i[u][o])}return e.createDenseMatrix({data:a,size:[r,t],datatype:e._datatype})}(e,n,i);break;case"sparse":t=function(e,t,r){for(var n,i,a,o=e._values,u=e._index,s=e._ptr,l=o?[]:void 0,c=[],f=[],h=[],p=0;p<t;p++)h[p]=0;for(n=0,i=u.length;n<i;n++)h[u[n]]++;for(var d=0,m=0;m<t;m++)f.push(d),d+=h[m],h[m]=f[m];for(f.push(d),a=0;a<r;a++)for(var g=s[a],v=s[a+1],y=g;y<v;y++){var b=h[u[y]]++;c[b]=a,o&&(l[b]=aw(o[y]))}return e.createSparseMatrix({values:l,index:c,ptr:f,size:[r,t],datatype:e._datatype})}(e,n,i)}break;default:throw RangeError("Matrix must be a vector or two dimensional (size: "+a5(r)+")")}return t}}),fU=function(){return fU=r(sD).create,r(sD)},fj=aM("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],function(e){var{BigNumber:t,Complex:r,DenseMatrix:n,Fraction:i}=e,a=fU();return a.clear(),a.addTypes([{name:"number",test:iV},{name:"Complex",test:iY},{name:"BigNumber",test:iG},{name:"bigint",test:iW},{name:"Fraction",test:iZ},{name:"Unit",test:iJ},{name:"identifier",test:e=>iX&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(e)},{name:"string",test:iX},{name:"Chain",test:ax},{name:"Array",test:iK},{name:"Matrix",test:iQ},{name:"DenseMatrix",test:i1},{name:"SparseMatrix",test:i2},{name:"Range",test:i8},{name:"Index",test:i3},{name:"boolean",test:i5},{name:"ResultSet",test:i6},{name:"Help",test:i4},{name:"function",test:i7},{name:"Date",test:i9},{name:"RegExp",test:ae},{name:"null",test:an},{name:"undefined",test:ai},{name:"AccessorNode",test:aa},{name:"ArrayNode",test:ao},{name:"AssignmentNode",test:au},{name:"BlockNode",test:as},{name:"ConditionalNode",test:al},{name:"ConstantNode",test:ac},{name:"FunctionNode",test:ah},{name:"FunctionAssignmentNode",test:af},{name:"IndexNode",test:ap},{name:"Node",test:ad},{name:"ObjectNode",test:am},{name:"OperatorNode",test:ag},{name:"ParenthesisNode",test:av},{name:"RangeNode",test:ay},{name:"RelationalNode",test:ab},{name:"SymbolNode",test:aD},{name:"Map",test:ar},{name:"Object",test:at}]),a.addConversions([{from:"number",to:"BigNumber",convert:function(e){if(t||fH(e),e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+e+"). Use function bignumber(x) to convert to BigNumber.");return new t(e)}},{from:"number",to:"Complex",convert:function(e){return r||f$(e),new r(e,0)}},{from:"BigNumber",to:"Complex",convert:function(e){return r||f$(e),new r(e.toNumber(),0)}},{from:"bigint",to:"number",convert:function(e){if(e>Number.MAX_SAFE_INTEGER)throw TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+e+")");return Number(e)}},{from:"bigint",to:"BigNumber",convert:function(e){return t||fH(e),new t(e.toString())}},{from:"bigint",to:"Fraction",convert:function(e){return i||fV(e),new i(e)}},{from:"Fraction",to:"BigNumber",convert:function(e){throw TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(e){return r||f$(e),new r(e.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(e){i||fV(e);var t=new i(e);if(t.valueOf()!==e)throw TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+e+"). Use function fraction(x) to convert to Fraction.");return t}},{from:"string",to:"number",convert:function(e){var t=Number(e);if(isNaN(t))throw Error('Cannot convert "'+e+'" to a number');return t}},{from:"string",to:"BigNumber",convert:function(e){t||fH(e);try{return new t(e)}catch(t){throw Error('Cannot convert "'+e+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(e){try{return BigInt(e)}catch(t){throw Error('Cannot convert "'+e+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(e){i||fV(e);try{return new i(e)}catch(t){throw Error('Cannot convert "'+e+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(e){r||f$(e);try{return new r(e)}catch(t){throw Error('Cannot convert "'+e+'" to Complex')}}},{from:"boolean",to:"number",convert:function(e){return+e}},{from:"boolean",to:"BigNumber",convert:function(e){return t||fH(e),new t(+e)}},{from:"boolean",to:"bigint",convert:function(e){return BigInt(+e)}},{from:"boolean",to:"Fraction",convert:function(e){return i||fV(e),new i(+e)}},{from:"boolean",to:"string",convert:function(e){return String(e)}},{from:"Array",to:"Matrix",convert:function(e){return n||function(){throw Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new n(e)}},{from:"Matrix",to:"Array",convert:function(e){return e.valueOf()}}]),a.onMismatch=(e,t,r)=>{var n=a.createError(e,t,r);if(["wrongType","mismatch"].includes(n.data.category)&&1===t.length&&i0(t[0])&&r.some(e=>!e.params.includes(","))){var i=TypeError("Function '".concat(e,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(e,")'."));throw i.data=n.data,i}throw n},a.onMismatch=(e,t,r)=>{var n=a.createError(e,t,r);if(["wrongType","mismatch"].includes(n.data.category)&&1===t.length&&i0(t[0])&&r.some(e=>!e.params.includes(","))){var i=TypeError("Function '".concat(e,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(e,")'."));throw i.data=n.data,i}throw n},a});function fH(e){throw Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function f$(e){throw Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function fV(e){throw Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}var fG="typeOf",fW=aM(fG,["typed"],e=>{var{typed:t}=e;return t(fG,{any:a_})}),fY="unaryMinus",fZ=aM(fY,["typed"],e=>{var{typed:t}=e;return t(fY,{number:oR,"Complex | BigNumber | Fraction":e=>e.neg(),bigint:e=>-e,Unit:t.referToSelf(e=>r=>{var n=r.clone();return n.value=t.find(e,n.valueType())(r.value),n}),"Array | Matrix":t.referToSelf(e=>t=>oC(t,e,!0))})}),fJ="unaryPlus",fX=(e=>{var{typed:t,config:r,numeric:n}=e;return t(fJ,{number:ok,Complex:function(e){return e},BigNumber:function(e){return e},bigint:function(e){return e},Fraction:function(e){return e},Unit:function(e){return e.clone()},"Array | Matrix":t.referToSelf(e=>t=>oC(t,e,!0)),boolean:function(e){return n(+!!e,r.number)},string:function(e){return n(e,aB(e,r))}})},"unequal"),fK=aM(fX,["typed","equalScalar"],e=>{var{typed:t,equalScalar:r}=e;return t(fX,{"any, any":function(e,t){return null===e?null!==t:null===t?null!==e:void 0===e?void 0!==t:void 0===t?void 0!==e:!r(e,t)}})});function fQ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fQ(Object(n),!0).forEach(function(t){r(fg)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fQ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}e=>{var t,n,i,{on:a,config:o,addScalar:u,subtractScalar:s,multiplyScalar:l,divideScalar:c,pow:f,abs:h,fix:p,round:d,equal:m,isNumeric:g,format:v,number:y,Complex:b,BigNumber:D,Fraction:x}=e;function _(e,t){if(!(this instanceof _))throw Error("Constructor must be called with the new operator");if(!(null==e||g(e)||iY(e)))throw TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,void 0===t)this.units=[],this.dimensions=B.map(e=>0);else if("string"==typeof t){var n=_.parse(t);this.units=n.units,this.dimensions=n.dimensions}else if(iJ(t)&&null===t.value)this.fixPrefix=t.fixPrefix,this.skipAutomaticSimplification=t.skipAutomaticSimplification,this.dimensions=t.dimensions.slice(0),this.units=t.units.map(e=>r(iR)({},e));else throw TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.value=this._normalize(e)}function w(){for(;" "===i||"	"===i;)A()}function E(e){return e>="0"&&e<="9"}function A(){n++,i=t.charAt(n)}function C(e){n=e,i=t.charAt(n)}function N(){var e,t="",r=n;if("+"===i?A():"-"===i&&(t+=i,A()),!((e=i)>="0"&&e<="9"||"."===e))return C(r),null;if("."===i){if(t+=i,A(),!E(i))return C(r),null}else{for(;E(i);)t+=i,A();"."===i&&(t+=i,A())}for(;E(i);)t+=i,A();if("E"===i||"e"===i){var a="",o=n;if(a+=i,A(),("+"===i||"-"===i)&&(a+=i,A()),!E(i))return C(o),t;for(t+=a;E(i);)t+=i,A()}return t}function M(e){return i===e?(A(),e):null}Object.defineProperty(_,"name",{value:"Unit"}),_.prototype.constructor=_,_.prototype.type="Unit",_.prototype.isUnit=!0,_.parse=function(e,r){if(r=r||{},n=-1,i="","string"!=typeof(t=e))throw TypeError("Invalid argument in Unit.parse, string expected");var a=new _;a.units=[];var u=1,s=!1;A(),w();var l=N(),c=null;if(l){if("BigNumber"===o.number)c=new D(l);else if("Fraction"===o.number)try{c=new x(l)}catch(e){c=parseFloat(l)}else c=parseFloat(l);w(),M("*")?(u=1,s=!0):M("/")&&(u=-1,s=!0)}for(var f=[],h=1;;){for(w();"("===i;)f.push(u),h*=u,u=1,A(),w();var p=void 0;if(i){var d=i;if(null===(p=function(){for(var e="";E(i)||_.isValidAlpha(i);)e+=i,A();var t=e.charAt(0);return _.isValidAlpha(t)?e:null}()))throw SyntaxError('Unexpected "'+d+'" in "'+t+'" at index '+n.toString())}else break;var m=F(p);if(null===m)throw SyntaxError('Unit "'+p+'" not found.');var g=u*h;if(w(),M("^")){w();var v=N();if(null===v)throw SyntaxError('In "'+e+'", "^" must be followed by a floating-point number');g*=v}a.units.push({unit:m.unit,prefix:m.prefix,power:g});for(var y=0;y<B.length;y++)a.dimensions[y]+=(m.unit.dimensions[y]||0)*g;for(w();")"===i;){if(0===f.length)throw SyntaxError('Unmatched ")" in "'+t+'" at index '+n.toString());h/=f.pop(),A(),w()}if(s=!1,M("*")?(u=1,s=!0):M("/")?(u=-1,s=!0):u=1,m.unit.base){var b=m.unit.base.key;L.auto[b]={unit:m.unit,prefix:m.prefix}}}if(w(),i)throw SyntaxError('Could not parse: "'+e+'"');if(s)throw SyntaxError('Trailing characters: "'+e+'"');if(0!==f.length)throw SyntaxError('Unmatched "(" in "'+t+'"');if(0===a.units.length&&!r.allowNoUnits)throw SyntaxError('"'+e+'" contains no units');return a.value=void 0!==c?a._normalize(c):null,a},_.prototype.clone=function(){var e=new _;e.fixPrefix=this.fixPrefix,e.skipAutomaticSimplification=this.skipAutomaticSimplification,e.value=aw(this.value),e.dimensions=this.dimensions.slice(0),e.units=[];for(var t=0;t<this.units.length;t++)for(var r in e.units[t]={},this.units[t])aC(this.units[t],r)&&(e.units[t][r]=this.units[t][r]);return e},_.prototype.valueType=function(){return a_(this.value)},_.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},_.prototype._normalize=function(e){if(null==e||0===this.units.length)return e;for(var t=e,r=_._getNumberConverter(a_(e)),n=0;n<this.units.length;n++){var i=r(this.units[n].unit.value),a=r(this.units[n].prefix.value),o=r(this.units[n].power);t=l(t,f(l(i,a),o))}return t},_.prototype._denormalize=function(e,t){if(null==e||0===this.units.length)return e;for(var r=e,n=_._getNumberConverter(a_(e)),i=0;i<this.units.length;i++){var a=n(this.units[i].unit.value),o=n(this.units[i].prefix.value),u=n(this.units[i].power);r=c(r,f(l(a,o),u))}return r};var F=sO(e=>{if(aC(R,e)){var t=R[e],r=t.prefixes[""];return{unit:t,prefix:r}}for(var n in R)if(aC(R,n)&&function(e,t){var r=e.length-t.length,n=e.length;return e.substring(r,n)===t}(e,n)){var i=R[n],a=e.length-n.length,o=e.substring(0,a),u=aC(i.prefixes,o)?i.prefixes[o]:void 0;if(void 0!==u)return{unit:i,prefix:u}}return null},{hasher:e=>e[0],limit:100});function S(e){return e.equalBase(O.NONE)&&null!==e.value&&!o.predictable?e.value:e}_.isValuelessUnit=function(e){return null!==F(e)},_.prototype.hasBase=function(e){if("string"==typeof e&&(e=O[e]),!e)return!1;for(var t=0;t<B.length;t++)if(Math.abs((this.dimensions[t]||0)-(e.dimensions[t]||0))>1e-12)return!1;return!0},_.prototype.equalBase=function(e){for(var t=0;t<B.length;t++)if(Math.abs((this.dimensions[t]||0)-(e.dimensions[t]||0))>1e-12)return!1;return!0},_.prototype.equals=function(e){return this.equalBase(e)&&m(this.value,e.value)},_.prototype.multiply=function(e){for(var t=this.clone(),r=iJ(e)?e:new _(e),n=0;n<B.length;n++)t.dimensions[n]=(this.dimensions[n]||0)+(r.dimensions[n]||0);for(var i=0;i<r.units.length;i++){var a=f0({},r.units[i]);t.units.push(a)}return null!==this.value||null!==r.value?t.value=l(null===this.value?this._normalize(1):this.value,null===r.value?r._normalize(1):r.value):t.value=null,iJ(e)&&(t.skipAutomaticSimplification=!1),S(t)},_.prototype.divideInto=function(e){return new _(e).divide(this)},_.prototype.divide=function(e){for(var t=this.clone(),r=iJ(e)?e:new _(e),n=0;n<B.length;n++)t.dimensions[n]=(this.dimensions[n]||0)-(r.dimensions[n]||0);for(var i=0;i<r.units.length;i++){var a=f0(f0({},r.units[i]),{},{power:-r.units[i].power});t.units.push(a)}return null!==this.value||null!==r.value?t.value=c(null===this.value?this._normalize(1):this.value,null===r.value?r._normalize(1):r.value):t.value=null,iJ(e)&&(t.skipAutomaticSimplification=!1),S(t)},_.prototype.pow=function(e){for(var t=this.clone(),r=0;r<B.length;r++)t.dimensions[r]=(this.dimensions[r]||0)*e;for(var n=0;n<t.units.length;n++)t.units[n].power*=e;return null!==t.value?t.value=f(t.value,e):t.value=null,t.skipAutomaticSimplification=!1,S(t)},_.prototype.abs=function(){var e=this.clone();if(null!==e.value)if(e._isDerived()||0===e.units.length||0===e.units[0].unit.offset)e.value=h(e.value);else{var t=e._numberConverter(),r=l(t(e.units[0].unit.value),t(e.units[0].unit.offset));e.value=s(h(u(e.value,r)),r)}for(var n in e.units)("VA"===e.units[n].unit.name||"VAR"===e.units[n].unit.name)&&(e.units[n].unit=R.W);return e},_.prototype.to=function(e){var t,r=null===this.value?this._normalize(1):this.value;if("string"==typeof e)t=_.parse(e);else if(iJ(e))t=e.clone();else throw Error("String or Unit expected as parameter");if(!this.equalBase(t))throw Error("Units do not match ('".concat(t.toString(),"' != '").concat(this.toString(),"')"));if(null!==t.value)throw Error("Cannot convert to a unit with a value");if(null===this.value||this._isDerived()||0===this.units.length||0===t.units.length||this.units[0].unit.offset===t.units[0].unit.offset)t.value=aw(r);else{var n=_._getNumberConverter(a_(r)),i=l(this.units[0].unit.value,this.units[0].unit.offset),a=l(t.units[0].unit.value,t.units[0].unit.offset);t.value=u(r,n(s(i,a)))}return t.fixPrefix=!0,t.skipAutomaticSimplification=!0,t},_.prototype.toNumber=function(e){return y(this.toNumeric(e))},_.prototype.toNumeric=function(e){var t;return(t=e?this.to(e):this.clone())._isDerived()||0===t.units.length?t._denormalize(t.value):t._denormalize(t.value,t.units[0].prefix.value)},_.prototype.toString=function(){return this.format()},_.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.units.length>0?this.formatUnits():null,fixPrefix:this.fixPrefix}},_.fromJSON=function(e){var t,r=new _(e.value,null!==(t=e.unit)&&void 0!==t?t:void 0);return r.fixPrefix=e.fixPrefix||!1,r},_.prototype.valueOf=_.prototype.toString,_.prototype.simplify=function(){var e,t,r=this.clone(),n=[];for(var i in q)if(aC(q,i)&&r.hasBase(O[i])){e=i;break}if("NONE"===e)r.units=[];else if(e&&aC(q,e)&&(t=q[e]),t)r.units=[{unit:t.unit,prefix:t.prefix,power:1}];else{for(var a=!1,o=0;o<B.length;o++){var u=B[o];Math.abs(r.dimensions[o]||0)>1e-12&&(aC(q,u)?n.push({unit:q[u].unit,prefix:q[u].prefix,power:r.dimensions[o]||0}):a=!0)}n.length<r.units.length&&!a&&(r.units=n)}return r},_.prototype.toSI=function(){for(var e=this.clone(),t=[],r=0;r<B.length;r++){var n=B[r];if(Math.abs(e.dimensions[r]||0)>1e-12)if(aC(L.si,n))t.push({unit:L.si[n].unit,prefix:L.si[n].prefix,power:e.dimensions[r]||0});else throw Error("Cannot express custom unit "+n+" in SI units")}return(e.units=t,e.fixPrefix=!0,e.skipAutomaticSimplification=!0,null!==this.value)?(e.value=null,this.to(e)):e},_.prototype.formatUnits=function(){for(var e="",t="",r=0,n=0,i=0;i<this.units.length;i++)this.units[i].power>0?(r++,e+=" "+this.units[i].prefix.name+this.units[i].unit.name,Math.abs(this.units[i].power-1)>1e-15&&(e+="^"+this.units[i].power)):this.units[i].power<0&&n++;if(n>0)for(var a=0;a<this.units.length;a++)this.units[a].power<0&&(r>0?(t+=" "+this.units[a].prefix.name+this.units[a].unit.name,Math.abs(this.units[a].power+1)>1e-15&&(t+="^"+-this.units[a].power)):(t+=" "+this.units[a].prefix.name+this.units[a].unit.name,t+="^"+this.units[a].power));e=e.substr(1),t=t.substr(1),r>1&&n>0&&(e="("+e+")"),n>1&&r>0&&(t="("+t+")");var o=e;return r>0&&n>0&&(o+=" / "),o+=t},_.prototype.format=function(e){var t=this.skipAutomaticSimplification||null===this.value?this.clone():this.simplify(),r=!1;for(var n in void 0!==t.value&&null!==t.value&&iY(t.value)&&(r=1e-14>Math.abs(t.value.re)),t.units)aC(t.units,n)&&t.units[n].unit&&("VA"===t.units[n].unit.name&&r?t.units[n].unit=R.VAR:"VAR"!==t.units[n].unit.name||r||(t.units[n].unit=R.VA));1===t.units.length&&!t.fixPrefix&&1e-14>Math.abs(t.units[0].power-Math.round(t.units[0].power))&&(t.units[0].prefix=t._bestPrefix());var i=t._denormalize(t.value),a=null!==t.value?v(i,e||{}):"",o=t.formatUnits();return t.value&&iY(t.value)&&(a="("+a+")"),o.length>0&&a.length>0&&(a+=" "),a+=o},_.prototype._bestPrefix=function(){if(1!==this.units.length||Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var e=null!==this.value?h(this.value):0,t=h(this.units[0].unit.value),r=this.units[0].prefix;if(0===e)return r;var n=this.units[0].power,i=Math.log(e/Math.pow(r.value*t,n))/Math.LN10-1.2;if(i>-2.200001&&i<1.800001)return r;i=Math.abs(i);var a=this.units[0].unit.prefixes;for(var o in a)if(aC(a,o)){var u=a[o];if(u.scientific){var s=Math.abs(Math.log(e/Math.pow(u.value*t,n))/Math.LN10-1.2);(s<i||s===i&&u.name.length<r.name.length)&&(r=u,i=s)}}return r},_.prototype.splitUnit=function(e){for(var t=this.clone(),r=[],n=0;n<e.length&&(t=t.to(e[n]),n!==e.length-1);n++){var i=t.toNumeric(),a=d(i),o=void 0,l=new _(m(a,i)?a:p(t.toNumeric()),e[n].toString());r.push(l),t=s(t,l)}for(var c=0,f=0;f<r.length;f++)c=u(c,r[f].value);return m(c,this.value)&&(t.value=0),r.push(t),r};var T={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},R:{name:"R",value:1e27,scientific:!0},Q:{name:"Q",value:1e30,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0},r:{name:"r",value:1e-27,scientific:!0},q:{name:"q",value:1e-30,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},ronna:{name:"ronna",value:1e27,scientific:!0},quetta:{name:"quetta",value:1e30,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0},ronto:{name:"ronto",value:1e-27,scientific:!0},quecto:{name:"quecto",value:1e-30,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},R:{name:"R",value:1e54,scientific:!0},Q:{name:"Q",value:1e60,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0},r:{name:"r",value:1e-54,scientific:!0},q:{name:"q",value:1e-60,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},R:{name:"R",value:1e81,scientific:!0},Q:{name:"Q",value:1e90,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0},r:{name:"r",value:1e-81,scientific:!0},q:{name:"q",value:1e-90,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:1048576,scientific:!0},Gi:{name:"Gi",value:0x40000000,scientific:!0},Ti:{name:"Ti",value:0x10000000000,scientific:!0},Pi:{name:"Pi",value:0x4000000000000,scientific:!0},Ei:{name:"Ei",value:0x1000000000000000,scientific:!0},Zi:{name:"Zi",value:11805916207174113e5,scientific:!0},Yi:{name:"Yi",value:12089258196146292e8,scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:1048576,scientific:!0},gibi:{name:"gibi",value:0x40000000,scientific:!0},tebi:{name:"tebi",value:0x10000000000,scientific:!0},pebi:{name:"pebi",value:0x4000000000000,scientific:!0},exi:{name:"exi",value:0x1000000000000000,scientific:!0},zebi:{name:"zebi",value:11805916207174113e5,scientific:!0},yobi:{name:"yobi",value:12089258196146292e8,scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};T.SHORTLONG=r(iR)({},T.SHORT,T.LONG),T.BINARY_SHORT=r(iR)({},T.BINARY_SHORT_SI,T.BINARY_SHORT_IEC),T.BINARY_LONG=r(iR)({},T.BINARY_LONG_SI,T.BINARY_LONG_IEC);var B=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],O={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var I in O)aC(O,I)&&(O[I].key=I);var z={name:"",base:{},value:1,offset:0,dimensions:B.map(e=>0)},R={meter:{name:"meter",base:O.LENGTH,prefixes:T.LONG,value:1,offset:0},inch:{name:"inch",base:O.LENGTH,prefixes:T.NONE,value:.0254,offset:0},foot:{name:"foot",base:O.LENGTH,prefixes:T.NONE,value:.3048,offset:0},yard:{name:"yard",base:O.LENGTH,prefixes:T.NONE,value:.9144,offset:0},mile:{name:"mile",base:O.LENGTH,prefixes:T.NONE,value:1609.344,offset:0},link:{name:"link",base:O.LENGTH,prefixes:T.NONE,value:.201168,offset:0},rod:{name:"rod",base:O.LENGTH,prefixes:T.NONE,value:5.0292,offset:0},chain:{name:"chain",base:O.LENGTH,prefixes:T.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:O.LENGTH,prefixes:T.NONE,value:1e-10,offset:0},m:{name:"m",base:O.LENGTH,prefixes:T.SHORT,value:1,offset:0},in:{name:"in",base:O.LENGTH,prefixes:T.NONE,value:.0254,offset:0},ft:{name:"ft",base:O.LENGTH,prefixes:T.NONE,value:.3048,offset:0},yd:{name:"yd",base:O.LENGTH,prefixes:T.NONE,value:.9144,offset:0},mi:{name:"mi",base:O.LENGTH,prefixes:T.NONE,value:1609.344,offset:0},li:{name:"li",base:O.LENGTH,prefixes:T.NONE,value:.201168,offset:0},rd:{name:"rd",base:O.LENGTH,prefixes:T.NONE,value:5.02921,offset:0},ch:{name:"ch",base:O.LENGTH,prefixes:T.NONE,value:20.1168,offset:0},mil:{name:"mil",base:O.LENGTH,prefixes:T.NONE,value:254e-7,offset:0},m2:{name:"m2",base:O.SURFACE,prefixes:T.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:O.SURFACE,prefixes:T.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:O.SURFACE,prefixes:T.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:O.SURFACE,prefixes:T.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:O.SURFACE,prefixes:T.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:O.SURFACE,prefixes:T.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:O.SURFACE,prefixes:T.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:O.SURFACE,prefixes:T.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:O.SURFACE,prefixes:T.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:O.SURFACE,prefixes:T.NONE,value:1e4,offset:0},m3:{name:"m3",base:O.VOLUME,prefixes:T.CUBIC,value:1,offset:0},L:{name:"L",base:O.VOLUME,prefixes:T.SHORT,value:.001,offset:0},l:{name:"l",base:O.VOLUME,prefixes:T.SHORT,value:.001,offset:0},litre:{name:"litre",base:O.VOLUME,prefixes:T.LONG,value:.001,offset:0},cuin:{name:"cuin",base:O.VOLUME,prefixes:T.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:O.VOLUME,prefixes:T.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:O.VOLUME,prefixes:T.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:O.VOLUME,prefixes:T.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:O.VOLUME,prefixes:T.NONE,value:15e-6,offset:0},drop:{name:"drop",base:O.VOLUME,prefixes:T.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:O.VOLUME,prefixes:T.NONE,value:5e-8,offset:0},minim:{name:"minim",base:O.VOLUME,prefixes:T.NONE,value:61611519921875e-21,offset:0},fluiddram:{name:"fluiddram",base:O.VOLUME,prefixes:T.NONE,value:36966911953125e-19,offset:0},fluidounce:{name:"fluidounce",base:O.VOLUME,prefixes:T.NONE,value:295735295625e-16,offset:0},gill:{name:"gill",base:O.VOLUME,prefixes:T.NONE,value:11829411825e-14,offset:0},cc:{name:"cc",base:O.VOLUME,prefixes:T.NONE,value:1e-6,offset:0},cup:{name:"cup",base:O.VOLUME,prefixes:T.NONE,value:2365882365e-13,offset:0},pint:{name:"pint",base:O.VOLUME,prefixes:T.NONE,value:473176473e-12,offset:0},quart:{name:"quart",base:O.VOLUME,prefixes:T.NONE,value:946352946e-12,offset:0},gallon:{name:"gallon",base:O.VOLUME,prefixes:T.NONE,value:.003785411784,offset:0},beerbarrel:{name:"beerbarrel",base:O.VOLUME,prefixes:T.NONE,value:.117347765304,offset:0},oilbarrel:{name:"oilbarrel",base:O.VOLUME,prefixes:T.NONE,value:.158987294928,offset:0},hogshead:{name:"hogshead",base:O.VOLUME,prefixes:T.NONE,value:.238480942392,offset:0},g:{name:"g",base:O.MASS,prefixes:T.SHORT,value:.001,offset:0},gram:{name:"gram",base:O.MASS,prefixes:T.LONG,value:.001,offset:0},ton:{name:"ton",base:O.MASS,prefixes:T.SHORT,value:907.18474,offset:0},t:{name:"t",base:O.MASS,prefixes:T.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:O.MASS,prefixes:T.LONG,value:1e3,offset:0},grain:{name:"grain",base:O.MASS,prefixes:T.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:O.MASS,prefixes:T.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:O.MASS,prefixes:T.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:O.MASS,prefixes:T.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:O.MASS,prefixes:T.NONE,value:45.359237,offset:0},stick:{name:"stick",base:O.MASS,prefixes:T.NONE,value:.115,offset:0},stone:{name:"stone",base:O.MASS,prefixes:T.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:O.MASS,prefixes:T.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:O.MASS,prefixes:T.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:O.MASS,prefixes:T.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:O.MASS,prefixes:T.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:O.MASS,prefixes:T.NONE,value:45.359237,offset:0},s:{name:"s",base:O.TIME,prefixes:T.SHORT,value:1,offset:0},min:{name:"min",base:O.TIME,prefixes:T.NONE,value:60,offset:0},h:{name:"h",base:O.TIME,prefixes:T.NONE,value:3600,offset:0},second:{name:"second",base:O.TIME,prefixes:T.LONG,value:1,offset:0},sec:{name:"sec",base:O.TIME,prefixes:T.LONG,value:1,offset:0},minute:{name:"minute",base:O.TIME,prefixes:T.NONE,value:60,offset:0},hour:{name:"hour",base:O.TIME,prefixes:T.NONE,value:3600,offset:0},day:{name:"day",base:O.TIME,prefixes:T.NONE,value:86400,offset:0},week:{name:"week",base:O.TIME,prefixes:T.NONE,value:604800,offset:0},month:{name:"month",base:O.TIME,prefixes:T.NONE,value:2629800,offset:0},year:{name:"year",base:O.TIME,prefixes:T.NONE,value:0x1e187e0,offset:0},decade:{name:"decade",base:O.TIME,prefixes:T.NONE,value:315576e3,offset:0},century:{name:"century",base:O.TIME,prefixes:T.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:O.TIME,prefixes:T.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:O.FREQUENCY,prefixes:T.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:O.FREQUENCY,prefixes:T.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:O.ANGLE,prefixes:T.SHORT,value:1,offset:0},radian:{name:"radian",base:O.ANGLE,prefixes:T.LONG,value:1,offset:0},deg:{name:"deg",base:O.ANGLE,prefixes:T.SHORT,value:null,offset:0},degree:{name:"degree",base:O.ANGLE,prefixes:T.LONG,value:null,offset:0},grad:{name:"grad",base:O.ANGLE,prefixes:T.SHORT,value:null,offset:0},gradian:{name:"gradian",base:O.ANGLE,prefixes:T.LONG,value:null,offset:0},cycle:{name:"cycle",base:O.ANGLE,prefixes:T.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:O.ANGLE,prefixes:T.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:O.ANGLE,prefixes:T.NONE,value:null,offset:0},A:{name:"A",base:O.CURRENT,prefixes:T.SHORT,value:1,offset:0},ampere:{name:"ampere",base:O.CURRENT,prefixes:T.LONG,value:1,offset:0},K:{name:"K",base:O.TEMPERATURE,prefixes:T.SHORT,value:1,offset:0},degC:{name:"degC",base:O.TEMPERATURE,prefixes:T.SHORT,value:1,offset:273.15},degF:{name:"degF",base:O.TEMPERATURE,prefixes:T.SHORT,value:new x(5,9),offset:459.67},degR:{name:"degR",base:O.TEMPERATURE,prefixes:T.SHORT,value:new x(5,9),offset:0},kelvin:{name:"kelvin",base:O.TEMPERATURE,prefixes:T.LONG,value:1,offset:0},celsius:{name:"celsius",base:O.TEMPERATURE,prefixes:T.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:O.TEMPERATURE,prefixes:T.LONG,value:new x(5,9),offset:459.67},rankine:{name:"rankine",base:O.TEMPERATURE,prefixes:T.LONG,value:new x(5,9),offset:0},mol:{name:"mol",base:O.AMOUNT_OF_SUBSTANCE,prefixes:T.SHORT,value:1,offset:0},mole:{name:"mole",base:O.AMOUNT_OF_SUBSTANCE,prefixes:T.LONG,value:1,offset:0},cd:{name:"cd",base:O.LUMINOUS_INTENSITY,prefixes:T.SHORT,value:1,offset:0},candela:{name:"candela",base:O.LUMINOUS_INTENSITY,prefixes:T.LONG,value:1,offset:0},N:{name:"N",base:O.FORCE,prefixes:T.SHORT,value:1,offset:0},newton:{name:"newton",base:O.FORCE,prefixes:T.LONG,value:1,offset:0},dyn:{name:"dyn",base:O.FORCE,prefixes:T.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:O.FORCE,prefixes:T.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:O.FORCE,prefixes:T.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:O.FORCE,prefixes:T.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:O.FORCE,prefixes:T.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:O.FORCE,prefixes:T.NONE,value:9.80665,offset:0},J:{name:"J",base:O.ENERGY,prefixes:T.SHORT,value:1,offset:0},joule:{name:"joule",base:O.ENERGY,prefixes:T.LONG,value:1,offset:0},erg:{name:"erg",base:O.ENERGY,prefixes:T.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:O.ENERGY,prefixes:T.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:O.ENERGY,prefixes:T.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:O.ENERGY,prefixes:T.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:O.ENERGY,prefixes:T.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:O.POWER,prefixes:T.SHORT,value:1,offset:0},watt:{name:"watt",base:O.POWER,prefixes:T.LONG,value:1,offset:0},hp:{name:"hp",base:O.POWER,prefixes:T.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:O.POWER,prefixes:T.SHORT,value:b.I,offset:0},VA:{name:"VA",base:O.POWER,prefixes:T.SHORT,value:1,offset:0},Pa:{name:"Pa",base:O.PRESSURE,prefixes:T.SHORT,value:1,offset:0},psi:{name:"psi",base:O.PRESSURE,prefixes:T.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:O.PRESSURE,prefixes:T.NONE,value:101325,offset:0},bar:{name:"bar",base:O.PRESSURE,prefixes:T.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:O.PRESSURE,prefixes:T.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:O.PRESSURE,prefixes:T.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:O.PRESSURE,prefixes:T.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:O.PRESSURE,prefixes:T.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:O.ELECTRIC_CHARGE,prefixes:T.LONG,value:1,offset:0},C:{name:"C",base:O.ELECTRIC_CHARGE,prefixes:T.SHORT,value:1,offset:0},farad:{name:"farad",base:O.ELECTRIC_CAPACITANCE,prefixes:T.LONG,value:1,offset:0},F:{name:"F",base:O.ELECTRIC_CAPACITANCE,prefixes:T.SHORT,value:1,offset:0},volt:{name:"volt",base:O.ELECTRIC_POTENTIAL,prefixes:T.LONG,value:1,offset:0},V:{name:"V",base:O.ELECTRIC_POTENTIAL,prefixes:T.SHORT,value:1,offset:0},ohm:{name:"ohm",base:O.ELECTRIC_RESISTANCE,prefixes:T.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:O.ELECTRIC_INDUCTANCE,prefixes:T.LONG,value:1,offset:0},H:{name:"H",base:O.ELECTRIC_INDUCTANCE,prefixes:T.SHORT,value:1,offset:0},siemens:{name:"siemens",base:O.ELECTRIC_CONDUCTANCE,prefixes:T.LONG,value:1,offset:0},S:{name:"S",base:O.ELECTRIC_CONDUCTANCE,prefixes:T.SHORT,value:1,offset:0},weber:{name:"weber",base:O.MAGNETIC_FLUX,prefixes:T.LONG,value:1,offset:0},Wb:{name:"Wb",base:O.MAGNETIC_FLUX,prefixes:T.SHORT,value:1,offset:0},tesla:{name:"tesla",base:O.MAGNETIC_FLUX_DENSITY,prefixes:T.LONG,value:1,offset:0},T:{name:"T",base:O.MAGNETIC_FLUX_DENSITY,prefixes:T.SHORT,value:1,offset:0},b:{name:"b",base:O.BIT,prefixes:T.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:O.BIT,prefixes:T.BINARY_LONG,value:1,offset:0},B:{name:"B",base:O.BIT,prefixes:T.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:O.BIT,prefixes:T.BINARY_LONG,value:8,offset:0}},k={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fldr:"fluiddram",fluiddrams:"fluiddram",floz:"fluidounce",fluidounces:"fluidounce",gi:"gill",gills:"gill",cp:"cup",cups:"cup",pt:"pint",pints:"pint",qt:"quart",quarts:"quart",gal:"gallon",gallons:"gallon",bbl:"beerbarrel",beerbarrels:"beerbarrel",obl:"oilbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function P(e){if("BigNumber"===e.number){var t=sR(D);R.rad.value=new D(1),R.deg.value=t.div(180),R.grad.value=t.div(200),R.cycle.value=t.times(2),R.arcsec.value=t.div(648e3),R.arcmin.value=t.div(10800)}else R.rad.value=1,R.deg.value=Math.PI/180,R.grad.value=Math.PI/200,R.cycle.value=2*Math.PI,R.arcsec.value=Math.PI/648e3,R.arcmin.value=Math.PI/10800;R.radian.value=R.rad.value,R.degree.value=R.deg.value,R.gradian.value=R.grad.value}P(o),a&&a("config",function(e,t){e.number!==t.number&&P(e)});var L={si:{NONE:{unit:z,prefix:T.NONE[""]},LENGTH:{unit:R.m,prefix:T.SHORT[""]},MASS:{unit:R.g,prefix:T.SHORT.k},TIME:{unit:R.s,prefix:T.SHORT[""]},CURRENT:{unit:R.A,prefix:T.SHORT[""]},TEMPERATURE:{unit:R.K,prefix:T.SHORT[""]},LUMINOUS_INTENSITY:{unit:R.cd,prefix:T.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:R.mol,prefix:T.SHORT[""]},ANGLE:{unit:R.rad,prefix:T.SHORT[""]},BIT:{unit:R.bits,prefix:T.SHORT[""]},FORCE:{unit:R.N,prefix:T.SHORT[""]},ENERGY:{unit:R.J,prefix:T.SHORT[""]},POWER:{unit:R.W,prefix:T.SHORT[""]},PRESSURE:{unit:R.Pa,prefix:T.SHORT[""]},ELECTRIC_CHARGE:{unit:R.C,prefix:T.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:R.F,prefix:T.SHORT[""]},ELECTRIC_POTENTIAL:{unit:R.V,prefix:T.SHORT[""]},ELECTRIC_RESISTANCE:{unit:R.ohm,prefix:T.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:R.H,prefix:T.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:R.S,prefix:T.SHORT[""]},MAGNETIC_FLUX:{unit:R.Wb,prefix:T.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:R.T,prefix:T.SHORT[""]},FREQUENCY:{unit:R.Hz,prefix:T.SHORT[""]}}};L.cgs=JSON.parse(JSON.stringify(L.si)),L.cgs.LENGTH={unit:R.m,prefix:T.SHORT.c},L.cgs.MASS={unit:R.g,prefix:T.SHORT[""]},L.cgs.FORCE={unit:R.dyn,prefix:T.SHORT[""]},L.cgs.ENERGY={unit:R.erg,prefix:T.NONE[""]},L.us=JSON.parse(JSON.stringify(L.si)),L.us.LENGTH={unit:R.ft,prefix:T.NONE[""]},L.us.MASS={unit:R.lbm,prefix:T.NONE[""]},L.us.TEMPERATURE={unit:R.degF,prefix:T.NONE[""]},L.us.FORCE={unit:R.lbf,prefix:T.NONE[""]},L.us.ENERGY={unit:R.BTU,prefix:T.BTU[""]},L.us.POWER={unit:R.hp,prefix:T.NONE[""]},L.us.PRESSURE={unit:R.psi,prefix:T.NONE[""]},L.auto=JSON.parse(JSON.stringify(L.si));var q=L.auto;for(var U in _.setUnitSystem=function(e){if(aC(L,e))q=L[e];else throw Error("Unit system "+e+" does not exist. Choices are: "+Object.keys(L).join(", "))},_.getUnitSystem=function(){for(var e in L)if(aC(L,e)&&L[e]===q)return e},_.typeConverters={BigNumber:function(e){return null!=e&&e.isFraction?new D(String(e.n)).div(String(e.d)).times(String(e.s)):new D(e+"")},Fraction:function(e){return new x(e)},Complex:function(e){return e},number:function(e){return null!=e&&e.isFraction?y(e):e}},_.prototype._numberConverter=function(){var e=_.typeConverters[this.valueType()];if(e)return e;throw TypeError('Unsupported Unit value type "'+this.valueType()+'"')},_._getNumberConverter=function(e){if(!_.typeConverters[e])throw TypeError('Unsupported type "'+e+'"');return _.typeConverters[e]},R)if(aC(R,U)){var j=R[U];j.dimensions=j.base.dimensions}for(var H in k)if(aC(k,H)){var $=R[k[H]],V={};for(var G in $)aC($,G)&&(V[G]=$[G]);V.name=H,R[H]=V}return _.isValidAlpha=function(e){return/^[a-zA-Z]$/.test(e)},_.createUnit=function(e,t){if("object"!=typeof e)throw TypeError("createUnit expects first parameter to be of type 'Object'");if(t&&t.override){for(var r in e)if(aC(e,r)&&_.deleteUnit(r),e[r].aliases)for(var n,i=0;i<e[r].aliases.length;i++)_.deleteUnit(e[r].aliases[i])}for(var a in e)aC(e,a)&&(n=_.createUnitSingle(a,e[a]));return n},_.createUnitSingle=function(e,t){if(null==t&&(t={}),"string"!=typeof e)throw TypeError("createUnitSingle expects first parameter to be of type 'string'");if(aC(R,e))throw Error('Cannot create unit "'+e+'": a unit with that name already exists');for(var r=0;r<e.length;r++){if(i=e.charAt(r),0===r&&!_.isValidAlpha(i))throw Error('Invalid unit name (must begin with alpha character): "'+e+'"');if(r>0&&!(_.isValidAlpha(i)||E(i)))throw Error('Invalid unit name (only alphanumeric characters are allowed): "'+e+'"')}var n,a,o,u=null,s=[],l=0;if(t&&"Unit"===t.type)u=t.clone();else if("string"==typeof t)""!==t&&(n=t);else if("object"==typeof t)n=t.definition,a=t.prefixes,l=t.offset,o=t.baseName,t.aliases&&(s=t.aliases.valueOf());else throw TypeError('Cannot create unit "'+e+'" from "'+t.toString()+'": expecting "string" or "Unit" or "Object"');if(s){for(var c=0;c<s.length;c++)if(aC(R,s[c]))throw Error('Cannot create alias "'+s[c]+'": a unit with that name already exists')}if(n&&"string"==typeof n&&!u)try{u=_.parse(n,{allowNoUnits:!0})}catch(t){throw t.message='Could not create unit "'+e+'" from "'+n+'": '+t.message,t}else n&&"Unit"===n.type&&(u=n.clone());s=s||[],l=l||0,a=a&&a.toUpperCase&&T[a.toUpperCase()]||T.NONE;var f={};if(u){f={name:e,value:u.value,dimensions:u.dimensions.slice(0),prefixes:a,offset:l};var h=!1;for(var p in O)if(aC(O,p)){for(var d=!0,m=0;m<B.length;m++)if(Math.abs((f.dimensions[m]||0)-(O[p].dimensions[m]||0))>1e-12){d=!1;break}if(d){h=!0,f.base=O[p];break}}if(!h){o=o||e+"_STUFF";var g={dimensions:u.dimensions.slice(0)};g.key=o,O[o]=g,q[o]={unit:f,prefix:T.NONE[""]},f.base=O[o]}}else{if(o=o||e+"_STUFF",B.indexOf(o)>=0)throw Error('Cannot create new base unit "'+e+'": a base unit with that name already exists (and cannot be overridden)');for(var v in B.push(o),O)aC(O,v)&&(O[v].dimensions[B.length-1]=0);for(var y={dimensions:[]},b=0;b<B.length;b++)y.dimensions[b]=0;y.dimensions[B.length-1]=1,y.key=o,O[o]=y,f={name:e,value:1,dimensions:O[o].dimensions.slice(0),prefixes:a,offset:l,base:O[o]},q[o]={unit:f,prefix:T.NONE[""]}}_.UNITS[e]=f;for(var D=0;D<s.length;D++){var x=s[D],w={};for(var A in f)aC(f,A)&&(w[A]=f[A]);w.name=x,_.UNITS[x]=w}return delete F.cache,new _(null,e)},_.deleteUnit=function(e){delete _.UNITS[e],delete F.cache},_.PREFIXES=T,_.BASE_DIMENSIONS=B,_.BASE_UNITS=O,_.UNIT_SYSTEMS=L,_.UNITS=R,_};var f1="usolve",f2=aM(f1,["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],e=>{var{typed:t,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:u}=e,s=l7({DenseMatrix:u});return t(f1,{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var r=(t=s(e,t,!0))._data,l=e._size[0],c=e._size[1],f=e._values,h=e._index,p=e._ptr,d=[],m=c-1;m>=0;m--){var g=r[m][0]||0;if(o(g,0))d[m]=[0];else{for(var v=0,y=[],b=[],D=p[m],x=p[m+1],_=x-1;_>=D;_--){var w=h[_];w===m?v=f[_]:w<m&&(y.push(f[_]),b.push(w))}if(o(v,0))throw Error("Linear system cannot be solved since matrix is singular");for(var E=n(g,v),A=0,C=b.length;A<C;A++){var N=b[A];r[N]=[a(r[N][0],i(E,y[A]))]}d[m]=[E]}}return new u({data:d,size:[l,1]})}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return l(e,t)},"Array, Array | Matrix":function(e,t){return l(r(e),t).valueOf()}});function l(e,t){for(var r=(t=s(e,t,!0))._data,l=e._size[0],c=e._size[1],f=[],h=e._data,p=c-1;p>=0;p--){var d=r[p][0]||0,m=void 0;if(o(d,0))m=0;else{var g=h[p][p];if(o(g,0))throw Error("Linear system cannot be solved since matrix is singular");m=n(d,g);for(var v=p-1;v>=0;v--)r[v]=[a(r[v][0]||0,i(m,h[v][p]))]}f[p]=[m]}return new u({data:f,size:[l,1]})}}),f8="usolveAll",f3=aM(f8,["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],e=>{var{typed:t,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:a,equalScalar:o,DenseMatrix:u}=e,s=l7({DenseMatrix:u});return t(f8,{"SparseMatrix, Array | Matrix":function(e,t){return function(e,t){for(var r=[s(e,t,!0)._data.map(e=>e[0])],l=e._size[0],c=e._size[1],f=e._values,h=e._index,p=e._ptr,d=c-1;d>=0;d--)for(var m=r.length,g=0;g<m;g++){for(var v=r[g],y=[],b=[],D=p[d],x=p[d+1],_=0,w=x-1;w>=D;w--){var E=h[w];E===d?_=f[w]:E<d&&(y.push(f[w]),b.push(E))}if(o(_,0))if(o(v[d],0)){if(0===g){var A=[...v];A[d]=1;for(var C=0,N=b.length;C<N;C++){var M=b[C];A[M]=a(A[M],y[C])}r.push(A)}}else{if(0===g)return[];r.splice(g,1),g-=1,m-=1}else{v[d]=n(v[d],_);for(var F=0,S=b.length;F<S;F++){var T=b[F];v[T]=a(v[T],i(v[d],y[F]))}}}return r.map(e=>new u({data:e.map(e=>[e]),size:[l,1]}))}(e,t)},"DenseMatrix, Array | Matrix":function(e,t){return l(e,t)},"Array, Array | Matrix":function(e,t){return l(r(e),t).map(e=>e.valueOf())}});function l(e,t){for(var r=[s(e,t,!0)._data.map(e=>e[0])],l=e._data,c=e._size[0],f=e._size[1],h=f-1;h>=0;h--)for(var p=r.length,d=0;d<p;d++){var m=r[d];if(o(l[h][h],0))if(o(m[h],0)){if(0===d){var g=[...m];g[h]=1;for(var v=h-1;v>=0;v--)g[v]=a(g[v],l[v][h]);r.push(g)}}else{if(0===d)return[];r.splice(d,1),d-=1,p-=1}else{m[h]=n(m[h],l[h][h]);for(var y=h-1;y>=0;y--)m[y]=a(m[y],i(m[h],l[y][h]))}}return r.map(e=>new u({data:e.map(e=>[e]),size:[c,1]}))}}),f5="unbiased",f6="variance",f4=(e=>{var{typed:t,add:r,subtract:n,multiply:i,divide:a,mapSlices:o,isNaN:u}=e;return t(f6,{"Array | Matrix":function(e){return s(e,f5)},"Array | Matrix, string":s,"Array | Matrix, number | BigNumber":function(e,t){return l(e,t,f5)},"Array | Matrix, number | BigNumber, string":l,"...":function(e){return s(e,f5)}});function s(e,t){var o,s=0;if(0===e.length)throw SyntaxError("Function variance requires one or more parameters (0 provided)");if(oA(e,function(e){try{o=void 0===o?e:r(o,e),s++}catch(t){throw sv(t,"variance",e)}}),0===s)throw Error("Cannot calculate variance of an empty array");var l=a(o,s);if(o=void 0,oA(e,function(e){var t=n(e,l);o=void 0===o?i(t,t):r(o,i(t,t))}),u(o))return o;switch(t){case"uncorrected":return a(o,s);case"biased":return a(o,s+1);case"unbiased":var c=iG(o)?o.mul(0):0;return 1===s?c:a(o,s-1);default:throw Error('Unknown normalization "'+t+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function l(e,t,r){try{if(0===e.length)throw SyntaxError("Function variance requires one or more parameters (0 provided)");return o(e,t,e=>s(e,r))}catch(e){throw sv(e,"variance")}}},"xgcd");e=>{var{typed:t,config:r,matrix:n,BigNumber:i}=e;return t(f4,{"number, number":function(e,t){var i=oZ(e,t);return"Array"===r.matrix?i:n(i)},"BigNumber, BigNumber":function(e,t){var a,o,u,s,l=new i(0),c=new i(1),f=l,h=c,p=c,d=l;if(!e.isInt()||!t.isInt())throw Error("Parameters in function xgcd must be integer numbers");for(;!t.isZero();)o=e.div(t).floor(),u=e.mod(t),a=f,f=h.minus(o.times(f)),h=a,a=p,p=d.minus(o.times(p)),d=a,e=t,t=u;return s=e.lt(l)?[e.neg(),h.neg(),d.neg()]:[e,e.isZero()?0:h,d],"Array"===r.matrix?s:n(s)}})};var f7="zeros",f9=aM(f7,["typed","config","matrix","BigNumber"],e=>{var{typed:t,config:r,matrix:n,BigNumber:i}=e;return t(f7,{"":function(){return"Array"===r.matrix?a([]):a([],"default")},"...number | BigNumber | string":function(e){if("string"==typeof e[e.length-1]){var t=e.pop();return a(e,t)}return"Array"===r.matrix?a(e):a(e,"default")},Array:a,Matrix:function(e){var t=e.storage();return a(e.valueOf(),t)},"Array | Matrix, string":function(e,t){return a(e.valueOf(),t)}});function a(e,t){var r,a=(r=!1,e.forEach(function(e,t,n){iG(e)&&(r=!0,n[t]=e.toNumber())}),r)?new i(0):0;if(function(e){e.forEach(function(e){if("number"!=typeof e||!aT(e)||e<0)throw Error("Parameters in function zeros must be positive integers")})}(e),t){var o=n(t);return e.length>0?o.resize(e,a):o}var u=[];return e.length>0?oa(u,e,a):u}}),he=uF({config:aN}),ht=ss({}),hr=lf({}),hn=cc({}),hi=sw({Matrix:hn}),ha=fj({BigNumber:he,Complex:ht,DenseMatrix:hi,Fraction:hr}),ho=oK({typed:ha}),hu=up({typed:ha}),hs=u_({typed:ha}),hl=so({Complex:ht,typed:ha}),hc=sh({typed:ha}),hf=sd({typed:ha}),hh=sJ({config:aN,typed:ha}),hp=le({typed:ha}),hd=lA({typed:ha}),hm=lM({typed:ha}),hg=lR({typed:ha}),hv=lG({config:aN,typed:ha}),hy=lY({equalScalar:hh,typed:ha});var hb=cv({typed:ha}),hD=cD({typed:ha}),hx=cW({typed:ha}),h_=c4({BigNumber:he,Fraction:hr,complex:hl,typed:ha}),hw=c7({typed:ha}),hE=fA({Matrix:hn,equalScalar:hh,typed:ha}),hA=fk({typed:ha}),hC=uN({BigNumber:he,typed:ha}),hN=lq({typed:ha}),hM=cl({DenseMatrix:hi,Matrix:hn,SparseMatrix:hE,typed:ha}),hF=cZ({isInteger:hg,matrix:hM,typed:ha}),hS=fC({Complex:ht,config:aN,typed:ha}),hT=fq({matrix:hM,typed:ha}),hB=f9({BigNumber:he,config:aN,matrix:hM,typed:ha}),hO=sc({isInteger:hg,matrix:hM,typed:ha}),hI=sg({conj:hc,transpose:hT,typed:ha}),hz=sC({DenseMatrix:hi,SparseMatrix:hE,matrix:hM,typed:ha}),hR=sW({DenseMatrix:hi,SparseMatrix:hE,concat:hO,equalScalar:hh,matrix:hM,typed:ha}),hk=ll({Fraction:hr,typed:ha}),hP=lN({BigNumber:he,DenseMatrix:hi,SparseMatrix:hE,config:aN,matrix:hM,typed:ha}),hL=l$({typed:ha}),hq=lQ({DenseMatrix:hi,SparseMatrix:hE,concat:hO,config:aN,matrix:hM,typed:ha}),hU=cE({bignumber:hC,fraction:hk,number:hD}),hj=cQ({BigNumber:he,DenseMatrix:hi,config:aN,equalScalar:hh,matrix:hM,typed:ha,zeros:hB}),hH=fe({matrix:hM,config:aN,typed:ha}),h$=ff({DenseMatrix:hi,SparseMatrix:hE,bignumber:hC,concat:hO,config:aN,matrix:hM,typed:ha}),hV=fZ({typed:ha}),hG=uf({DenseMatrix:hi,SparseMatrix:hE,addScalar:hu,concat:hO,equalScalar:hh,matrix:hM,typed:ha}),hW=se({BigNumber:he,DenseMatrix:hi,Fraction:hr,concat:hO,config:aN,equalScalar:hh,matrix:hM,typed:ha}),hY=sF({numeric:hU,typed:ha}),hZ=li({DenseMatrix:hi,config:aN,equalScalar:hh,matrix:hM,round:hj,typed:ha,zeros:hB}),hJ=lB({ImmutableDenseMatrix:lF({DenseMatrix:hi,smaller:h$}),getMatrixDataType:hd}),hX=lJ({DenseMatrix:hi,SparseMatrix:hE,bignumber:hC,concat:hO,config:aN,matrix:hM,typed:ha}),hK=ce({DenseMatrix:hi,divideScalar:hY,equalScalar:hh,matrix:hM,multiplyScalar:hb,subtractScalar:hA,typed:ha}),hQ=ch({flatten:hp,matrix:hM,size:hH,typed:ha});var h0=cj({addScalar:hu,complex:hl,conj:hc,divideScalar:hY,equal:hR,identity:hP,isZero:hy,matrix:hM,multiplyScalar:hb,sign:h_,sqrt:hS,subtractScalar:hA,typed:ha,unaryMinus:hV,zeros:hB}),h1=fd({DenseMatrix:hi,SparseMatrix:hE,concat:hO,config:aN,matrix:hM,typed:ha}),h2=fF({add:hG,matrix:hM,typed:ha,zeros:hB}),h8=fz({DenseMatrix:hi,concat:hO,equalScalar:hh,matrix:hM,subtractScalar:hA,typed:ha,unaryMinus:hV}),h3=f2({DenseMatrix:hi,divideScalar:hY,equalScalar:hh,matrix:hM,multiplyScalar:hb,subtractScalar:hA,typed:ha}),h5=si({compare:hW,typed:ha}),h6=sS({addScalar:hu,conj:hc,multiplyScalar:hb,size:hH,typed:ha}),h4=s5({larger:hX,smaller:h$}),h7=cg({addScalar:hu,dot:h6,equalScalar:hh,matrix:hM,multiplyScalar:hb,typed:ha}),h9=cG({bignumber:hC,matrix:hM,add:hG,config:aN,isPositive:hv,larger:hX,largerEq:hq,smaller:h$,smallerEq:h1,typed:ha}),pe=fl({SparseMatrix:hE,abs:ho,add:hG,divideScalar:hY,larger:hX,largerEq:hq,multiply:h7,subtract:h8,transpose:hT,typed:ha}),pt=f3({DenseMatrix:hi,divideScalar:hY,equalScalar:hh,matrix:hM,multiplyScalar:hb,subtractScalar:hA,typed:ha}),pr=uK({DenseMatrix:hi,config:aN,equalScalar:hh,matrix:hM,round:hj,typed:ha,zeros:hB}),pn=u0({Index:hJ,matrix:hM,range:h9,typed:ha}),pi=sE({divideScalar:hY,isZero:hy,matrix:hM,multiply:h7,subtractScalar:hA,typed:ha,unaryMinus:hV}),pa=lI({abs:ho,addScalar:hu,det:pi,divideScalar:hY,identity:hP,matrix:hM,multiply:h7,typed:ha,unaryMinus:hV}),po=cP({Complex:ht,config:aN,fraction:hk,identity:hP,inv:pa,matrix:hM,multiply:h7,number:hD,typed:ha});var pu=fE({FibonacciHeap:h4,addScalar:hu,equalScalar:hh}),ps=ly({BigNumber:he,Complex:ht,config:aN,multiplyScalar:hb,pow:po,typed:ha}),pl=ct({DenseMatrix:hi,Spa:pu,SparseMatrix:hE,abs:ho,addScalar:hu,divideScalar:hY,equalScalar:hh,larger:hX,matrix:hM,multiplyScalar:hb,subtractScalar:hA,typed:ha,unaryMinus:hV}),pc=sV({abs:ho,add:hG,addScalar:hu,atan:hs,bignumber:hC,column:pn,complex:hl,config:aN,cos:hf,diag:hz,divideScalar:hY,dot:h6,equal:hR,flatten:hp,im:hm,inv:pa,larger:hX,matrix:hM,matrixFromColumns:hQ,multiply:h7,multiplyScalar:hb,number:hD,qr:h0,re:hx,reshape:hF,sin:hw,size:hH,smaller:h$,sqrt:hS,subtract:h8,typed:ha,usolve:h3,usolveAll:pt});var pf=cb({abs:ho,add:hG,conj:hc,ctranspose:hI,eigs:pc,equalScalar:hh,larger:hX,matrix:hM,multiply:h7,pow:po,smaller:h$,sqrt:hS,typed:ha});class ph{constructor(e,t){this._position=hM([e,t])}get position(){return this._position}set position(e){this._position=e}set inner(e){this._position=e.position}get magnitude(){let e=this._position.get([0]),t=this._position.get([1]);return Math.sqrt(e*e+t*t)}set magnitude(e){let t=this.magnitude;0!==t&&(this._position=h7(this._position,e/t))}set limit(e){this.magnitude>e&&(this.magnitude=e)}get x(){return this._position.get([0])}set x(e){this._position.set([0],e)}get y(){return this._position.get([1])}set y(e){this._position.set([1],e)}get angle(){return 180*Math.atan2(this.y,this.x)/Math.PI}toString(){return`Vector2D(${this.x}, ${this.y})`}normalize(){this.limit=1}add(e){this._position=hG(this._position,e.position)}subtract(e){this.add(new ph(-e.x,-e.y))}equals(e){return 1e-5>Math.abs(this.x-e.x)&&1e-5>Math.abs(this.y-e.y)}}class pp{static{this.ZERO_VECTOR=new ph(0,0)}static add(e,t){let r=hG(e.position,t.position);return new ph(r.get([0]),r.get([1]))}static subtract(e,t){let r=h8(e.position,t.position);return new ph(r.get([0]),r.get([1]))}static multiply(e,t){let r=h7(e.position,t);return new ph(r.get([0]),r.get([1]))}static distance(e,t){return pp.subtract(e,t).magnitude}static zero(){return new ph(0,0)}static north(){return new ph(0,-1)}static east(){return new ph(1,0)}static south(){return new ph(0,1)}static west(){return new ph(-1,0)}static canvasSize(){return new ph(window.innerWidth,window.innerHeight)}static equals(e,t){return e.x===t.x&&e.y===t.y}static copy(e){return new ph(e.x,e.y)}static normalize(e){let t=pp.copy(e);return t.normalize(),t}static fromAngle(e){let t=e*Math.PI/180;return new ph(Math.cos(t),Math.sin(t))}static getRandom(e){return new ph(Math.random()*e.x,Math.random()*e.y)}static circularOverlap(e,t,r){return pp.distance(e,t)<=r}}class pd{constructor(){this._data=new Map}get data(){return this._data}static empty(){return new pd}reload(){this._data=new Map}update(e){this._data.forEach(t=>t.update(e)),this.removeDeadEntities()}add(e){this._data.set(e.id,e)}clear(){this._data=new Map}removeDeadEntities(){this._data.forEach((e,t)=>{e.isAlive||this._data.delete(t)})}}class pm{constructor(e){this._id=e}get id(){return this._id}get isAlive(){return console.warn("Calling isAlive on ModelEntity instance, objects should not be initialized directly!"),!0}draw(e){let t="ModelEntity should never be initiated directly!";throw console.error(t,this),Error(t)}update(e){console.warn("No update function implemented",this,e)}}var pg=class{constructor(e){this._target=e}apply(e){let t=e.movementComponent,r=t.location,n=pp.subtract(this._target,r),i=pp.normalize(n);t.velocity=pp.multiply(i,t.maxSpeed)}updateTarget(e){this._target=e}};class pv{constructor(){this.events={}}static getInstance(){return pv.instance||(pv.instance=new pv),pv.instance}reset(){this.events={}}on(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)}off(e,t){this.events[e]&&(this.events[e]=this.events[e].filter(e=>e!==t))}emit(e,t){this.events[e]&&this.events[e].forEach(e=>e(t))}}var py=((n=py||{}).MouseMoveCtrl="mousemove-ctrl",n.KeyDown="keydown",n.KeyUp="keyup",n.MouseUp="mouseup",n.MouseDown="mousedown",n.MouseClick="click",n.MouseContextMenu="contextmenu",n.ItemSpawn="item-spawn",n.ItemClick="item-click",n);class pb{constructor(){this._inputBus=pv.getInstance(),this._ctrlModifier=!1,this._shiftModifier=!1,this._mousePosition=pp.zero(),this.initializeListeners(),this.setupModifiers()}static{this._instance=null}static get instance(){return this._instance||(this._instance=new pb),this._instance}get ctrlModifier(){return this._ctrlModifier}get shiftModifier(){return this._shiftModifier}get mousePosition(){return this._mousePosition}addKeydown(e,t){this._inputBus.on(py.KeyDown+"-"+e,t)}addKeyup(e,t){this._inputBus.on(py.KeyUp+"-"+e,t)}addMousedown(e){this._inputBus.on(py.MouseDown,e)}addMousemove(e){this._inputBus.on(py.MouseMoveCtrl,e)}addMouseup(e){this._inputBus.on(py.MouseUp,e)}initializeListeners(){this.initializeKeyListeners(),this.initializeMouseListeners()}initializeKeyListeners(){document.addEventListener("keydown",e=>{this._inputBus.emit(py.KeyDown+"-"+e.code,e)}),document.addEventListener("keyup",e=>{this._inputBus.emit(py.KeyUp+"-"+e.code,e)})}initializeMouseListeners(){let e=document.querySelector("canvas#game_canvas");if(e)window.addEventListener("mousemove",e=>{this._ctrlModifier&&this._inputBus.emit(py.MouseMoveCtrl,e)}),this._inputBus.on(py.MouseMoveCtrl,e=>{this._mousePosition.x=e.clientX,this._mousePosition.y=e.clientY}),e.addEventListener("click",e=>{e.preventDefault(),this._inputBus.emit(py.MouseClick,e)}),document.addEventListener("contextmenu",e=>{e.preventDefault(),this._inputBus.emit(py.MouseContextMenu,e)});else throw console.error("Could not find canvas while trying to setup the InputManager!",this),Error("Could not find canvas while trying to setup the InputManager!")}setupModifiers(){this.addKeydown("ControlLeft",e=>{this._ctrlModifier||(this._ctrlModifier=!0)}),this.addKeyup("ControlLeft",e=>{this._ctrlModifier&&(this._ctrlModifier=!1)}),this.addKeydown("ShiftLeft",e=>{this._shiftModifier||(this._shiftModifier=!0)}),this.addKeyup("ShiftLeft",e=>{this._shiftModifier&&(this._shiftModifier=!1)})}}class pD extends pg{constructor(){super(pb.instance.mousePosition)}apply(e){this._target=pb.instance.mousePosition,super.apply(e)}}var px=class{constructor(e=10,t=5,r=1){this._currentAngle=0,this._radius=e,this._wanderDistance=t,this._wanderJitter=r}apply(e){let t=.01*Math.random(),r=t+t,n=e.movementComponent,i=new ph(Math.random()*r-t,Math.random()*r-t),a=pp.add(n.velocity,i);a.limit=n.maxSpeed,n.velocity=a}},p_=class{constructor(){this._behaviors=[],this._behaviors.push(new pD),this._behaviors.push(new px)}addBehavior(e){this._behaviors.push(e)}getBehavior(e){return this._behaviors.find(t=>t.constructor.name===e)||null}getAllBehaviors(){return this._behaviors}},pw=class{constructor(){this._behaviorManager=new p_,this._currentBehavior=this._behaviorManager.getBehavior("Wander")||new px,this._target=new ph(0,0)}get currentBehavior(){return this._currentBehavior}get behaviorManager(){return this._behaviorManager}apply(e){this._currentBehavior&&this._currentBehavior.apply(e)}setBehavior(e){let t=this._behaviorManager.getBehavior(e);t?this._currentBehavior=t:console.warn(`Behavior of type ${e} not found`)}updateTarget(e){this._target=e,this._currentBehavior instanceof pg&&this._currentBehavior.updateTarget(e)}};class pE{constructor(e,t){this._location=e,this._velocity=pp.zero(),this._orientation=pp.north(),this._acceleration=pp.zero(),this._maxSpeed=t}get location(){return this._location}set location(e){this._location=e}get velocity(){return this._velocity}set velocity(e){this._velocity=e,pp.equals(e,pp.zero())||(this._orientation=pp.normalize(e))}get orientation(){return this._orientation}set orientation(e){pp.equals(this._velocity,pp.zero())?this._orientation=pp.normalize(e):console.warn("Trying to set rotation for a moving object",this,e)}get maxSpeed(){return this._maxSpeed}set maxSpeed(e){e<0?(console.warn("maxSpeed cannot be negative, setting to 0"),this._maxSpeed=0):this._maxSpeed=e}applyForce(e){this._acceleration=pp.add(this._acceleration,e)}update(e){this._velocity=pp.add(this._velocity,this._acceleration),this._velocity.limit=this._maxSpeed,this._location=pp.add(this._location,pp.multiply(this._velocity,e)),this._resetAcceleration()}_resetAcceleration(){this._acceleration=pp.zero()}}class pA extends pE{constructor(e,t,r,n){super(e,t),this._a=r,this._b=n}get a(){return this._a}get b(){return this._b}isOutOfBounds(){let e=this._location.x,t=this._location.y,r=this.a.x,n=this.a.y,i=this.b.x,a=this.b.y;return e>i||e<r||t>a||t<n}}class pC extends pA{constructor(e,t){super(e,t,new ph(0,0),new ph(window.innerWidth,window.innerHeight))}get b(){return new ph(window.innerWidth,window.innerHeight)}}class pN extends pC{update(e){this._velocity=pp.add(this._velocity,this._acceleration),this._velocity.limit=this._maxSpeed,this._location=pp.add(this._location,pp.multiply(this._velocity,e)),this._location.x<this.a.x?this._location.x=this.b.x:this._location.x>this.b.x&&(this._location.x=this.a.x),this._location.y<this.a.y?this._location.y=this.b.y:this._location.y>this.b.y&&(this._location.y=this.a.y),this._resetAcceleration()}getWrappedPositions(e){let{x:t,y:r}=this._location,{x:n,y:i}=this.a,{x:a,y:o}=this.b,u=[new ph(t,r)];return t-e<n&&u.push(new ph(t+(a-n),r)),t+e>a&&u.push(new ph(t-(a-n),r)),r-e<i&&u.push(new ph(t,r+(o-i))),r+e>o&&u.push(new ph(t,r-(o-i))),t-e<n&&r-e<i&&u.push(new ph(t+(a-n),r+(o-i))),t+e>a&&r-e<i&&u.push(new ph(t-(a-n),r+(o-i))),t-e<n&&r+e>o&&u.push(new ph(t+(a-n),r-(o-i))),t+e>a&&r+e>o&&u.push(new ph(t-(a-n),r-(o-i))),u}}class pM{constructor(e,t,r=0){this._name=e,this._baseValue=t,this._value=t,this._decayRate=r,this._baseValueModifiers=new Map,this._decayRateModifiers=new Map}get name(){return this._name}get value(){return this._value}get baseValue(){return this._baseValue+Array.from(this._baseValueModifiers.values()).reduce((e,t)=>e+t,0)}get decayRate(){return this._decayRate+Array.from(this._decayRateModifiers.values()).reduce((e,t)=>e+t,0)}get fullValue(){return this.baseValue}get factor(){return this._value/this.fullValue}get percentage(){return 100*this.factor}addBaseValueModifier(e,t){this._baseValueModifiers.set(e,t)}addDecayRateModifier(e,t){this._decayRateModifiers.set(e,t)}removeBaseValueModifier(e){this._baseValueModifiers.delete(e)}removeDecayRateModifier(e){this._decayRateModifiers.delete(e)}applyDecay(e){0!==this.decayRate&&(this._value-=this.decayRate*e,this._value<0&&(this._value=0))}update(e){this.applyDecay(e)}isEmpty(){return this._value<=0}isFull(){return this._value>=this.fullValue}debug(){return`Stat ${this._name}: value=${this._value}, baseValue=${this.baseValue}, decayRate=${this.decayRate}`}reset(){this._value=this.baseValue}}class pF extends pM{constructor(e,t,r=0){super(e,t,r),this._value=0}applyDecay(e){0!==this.decayRate&&(this._value+=this.decayRate*e,this._value>this.baseValue&&(this._value=this.baseValue))}}class pS extends pM{static{this.id="health"}constructor(e=100,t=0){super(pS.id,e,t)}}class pT extends pM{static{this.id="durability"}constructor(e=100,t=.01){super(pT.id,e,t)}}class pB extends pM{static{this.id="mana"}constructor(e=100,t=.03){super(pB.id,e,t)}}class pO extends pM{static{this.id="stamina"}constructor(e=100,t=.02){super(pO.id,e,t)}}class pI extends pM{static{this.id="attack"}constructor(e=10){super(pI.id,e,0)}}class pz extends pM{static{this.id="defense"}constructor(e=5){super(pz.id,e,0)}}class pR extends pM{static{this.id="agility"}constructor(e=10){super(pR.id,e,0)}}class pk extends pM{static{this.id="intelligence"}constructor(e=10){super(pk.id,e,0)}}class pP extends pM{static{this.id="strength"}constructor(e=10){super(pP.id,e,0)}}class pL extends pM{static{this.id="magicResistance"}constructor(e=5){super(pL.id,e,0)}}class pq extends pM{static{this.id="physicalResistance"}constructor(e=5){super(pq.id,e,0)}}class pU extends pM{static{this.id="criticalHitChance"}constructor(e=.1){super(pU.id,e,0)}}class pj extends pM{static{this.id="healthRegen"}constructor(e=0,t=.01){super(pj.id,e,t)}}class pH extends pM{static{this.id="manaRegen"}constructor(e=0,t=.01){super(pH.id,e,t)}}class p$ extends pM{static{this.id="experience"}constructor(e=0){super(p$.id,e,0)}}class pV extends pF{static{this.id="hunger"}constructor(e=100){super(pV.id,e,.01)}}class pG{static drawEntity(e,t,r,n,i){let a=i.statsManager,o=a.getStatByName(pS.id),u=o?o.factor:-1,s=10+(n-10)*u;r.normalize();let l=new ph(t.x+r.x*s,t.y+r.y*s);e.beginPath(),e.arc(t.x,t.y,s,0,2*Math.PI),e.fillStyle="#2a1323",e.fill(),e.closePath(),e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(l.x,l.y),e.strokeStyle="#ff3366",e.lineWidth=2,e.stroke(),e.closePath();let c=a.getStatByName(pV.id),f=c?c.factor:-1,h=new ph(t.x-n,t.y+n),p=2*n;e.beginPath(),e.rect(h.x,h.y,p,5),e.fillStyle="#8B0000",e.fill(),e.closePath(),e.beginPath(),e.rect(h.x,h.y,p*Math.max(0,u),5),e.fillStyle="#00FF00",e.fill(),e.closePath();let d=h.y+5+2;e.beginPath(),e.rect(h.x,d,p,5),e.fillStyle="#bf9600",e.fill(),e.closePath(),e.beginPath(),e.rect(h.x,d,p*Math.max(0,f),5),e.fillStyle="#FFFF00",e.fill(),e.closePath()}static drawFood(e,t,r){let n=e.createRadialGradient(t.x,t.y,0,t.x,t.y,2*r);n.addColorStop(0,"rgba(255, 255, 0, 0.6)"),n.addColorStop(1,"rgba(255, 255, 0, 0)"),e.beginPath(),e.fillStyle=n,e.arc(t.x,t.y,2*r,0,2*Math.PI),e.fill(),e.closePath(),e.beginPath(),e.fillStyle="#ffff00",e.fillRect(t.x-r,t.y-r,2*r,2*r),e.closePath()}}class pW{addRule(e){if(this._rules.has(e.name)){console.error(`Rule with name "${e.name}" already exists.`);return}this._rules.set(e.name,e)}evaluateAll(e,t){this._rules.forEach(r=>r.evaluate(e,t))}removeRule(e){this._rules.has(e)?this._rules.delete(e):console.error(`Rule with name "${e}" not found.`)}clearRules(){this._rules.clear()}getRule(e){return this._rules.get(e)}hasRule(e){return this._rules.has(e)}constructor(){this._rules=new Map}}class pY{constructor(){this._eventBus=pv.getInstance(),this._stats=new Map,this._statRuleManager=new pW}get stats(){return Array.from(this._stats.values())}get statRuleManager(){return this._statRuleManager}addStat(e){this._stats.has(e.name)||this._stats.set(e.name,e)}update(e){this._stats.forEach(t=>{t.update(e),this._statRuleManager.evaluateAll(t,this),this._eventBus.emit("stat-change-"+t.name,t),t.isFull()&&this._eventBus.emit("stat-full-"+t.name,t),t.isEmpty()&&this._eventBus.emit("stat-empty-"+t.name,t)})}getStatByName(e){return this._stats.get(e)}resetStats(){this._stats.forEach(e=>e.reset())}getStatValue(e){let t=this.getStatByName(e);return t?t.value:void 0}addStatBaseValueModifier(e,t,r){let n=this.getStatByName(e);n&&n.addBaseValueModifier(t,r)}addStatDecayRateModifier(e,t,r){let n=this.getStatByName(e);n&&n.addDecayRateModifier(t,r)}}class pZ{constructor(){this._statsManager=new pY}get statsManager(){return this._statsManager}update(e){this._statsManager.update(e)}listenToStatEvents(){let e=pv.getInstance();e.on("stat-full-health",e=>{console.log(`Health is full! Value: ${e.value}`)}),e.on("stat-empty-health",e=>{console.log(`Health is empty! Value: ${e.value}`)})}debug(){return this._statsManager.stats.map(e=>e.debug()).join("\n")}}class pJ extends pm{constructor(e,t,r,n){super(e),this._movementComponent=new pN(t,r),this._behaviourComponent=new pw,this._statsComponent=new pZ,this.aliveStat=n,this._statsComponent.statsManager.addStat(n)}get movementComponent(){return this._movementComponent}get behaviourComponent(){return this._behaviourComponent}get isAlive(){return!this.aliveStat.isEmpty()}draw(e){this._movementComponent instanceof pN?this._movementComponent.getWrappedPositions(30).forEach(t=>{pG.drawEntity(e,t,this._movementComponent.orientation,30,this._statsComponent)}):pG.drawEntity(e,this._movementComponent.location,this._movementComponent.orientation,30,this._statsComponent)}update(e){this._behaviourComponent.apply(this),this._statsComponent.update(e),this._movementComponent.update(e)}}class pX{constructor(e,t,r,n,i){this._name=e,this.conditions=t,this.typeCondition=r,this.onActivateCallback=n,this.onDeactivateCallback=i}get name(){return this._name}evaluate(e,t){this.typeCondition(e)&&(this.conditions.every(t=>t(e))?this.onActivateCallback(t):this.onDeactivateCallback(t))}}const pK="health-hunger",pQ="mn-"+pK+"-modifier",p0=new class{constructor(e){this.conditions=[],this.typeCondition=()=>!0,this.onActivateCallback=()=>{},this.onDeactivateCallback=()=>{},this.ruleName=e}addCondition(e){return this.conditions.push(e),this}addTypeCondition(e){return this.typeCondition=e,this}onActivate(e){return this.onActivateCallback=e,this}onDeactivate(e){return this.onDeactivateCallback=e,this}build(){return new pX(this.ruleName,this.conditions,this.typeCondition,this.onActivateCallback,this.onDeactivateCallback)}}(pK).addTypeCondition(e=>e.name===pV.id).addCondition(e=>e.isFull()).onActivate(e=>{let t=e.getStatByName(pS.id);t?.addDecayRateModifier(pQ,.01)}).onDeactivate(e=>{let t=e.getStatByName(pS.id);t?.removeDecayRateModifier(pQ)}).build();class p1 extends pJ{constructor(e,t){super(e,t,.05+.1*Math.random(),new pS),this._statsComponent.statsManager.addStat(new pV),this._statsComponent.statsManager.statRuleManager.addRule(p0)}}class p2 extends iz{constructor(e){super(p2.getButtons(e),["controller-window"])}static getButtons(e){let t=iB.createButton("Play",()=>{e.start()}),r=iB.createButton("Pause",()=>{e.stop()}),n=iB.createButton("Next",()=>{e.controller.update(10)});return[t,r,n,iB.createButton("Reload",()=>{e.controller.reload(),pv.getInstance().reset()}),iB.createButton("Spawn",()=>{let t=e.controller.model,r=e.controller.view;t.add(new p1(iO.getId("entity"),pp.getRandom(pp.canvasSize()))),r.update(t)})]}_createHeaderDiv(e){let t=iB.createDiv(iO.getId("header"),{},["app-window","header"]),r=iB.createTitle(e,"p",{}),n=iB.createButton("_",()=>this._toggleMinimize());return t.appendChild(r),t.appendChild(n),t}}class p8 extends pJ{constructor(e,t){super(e,t,0,new pT)}draw(e){let t=10*this.aliveStat.factor;pG.drawFood(e,this._movementComponent.location,t)}}class p3{constructor(e,t){this._model=t,this._view=e}get model(){return this._model}set model(e){this._model=e}get view(){return this._view}update(e){this._model.update(e),this._view.update(this._model)}reload(){this._model.clear(),this._view.update(this._model)}updateRender(){this._view.update(this._model)}}class p5 extends p3{constructor(e,t){super(e,t),pv.getInstance().on(py.MouseClick,e=>{this._model.add(new p8(iO.getId("food"),new ph(e.clientX,e.clientY))),this._view.update(this._model)})}}class p6{constructor(){this._lastModel=pd.empty()}update(e){this._lastModel=e}redrawOnResize(){window.addEventListener("resize",()=>{this.update(this._lastModel)})}}class p4 extends p6{static{this.canvasSize=1e3}constructor(e){super(),this._canvas=e;let t=e.getContext("2d");if(t)this._context=t;else throw console.error("Canvas: ",e),Error("Context not found in canvas.");this.redrawOnResize()}update(e){super.update(e),this._context.clearRect(0,0,this._canvas.width,this._canvas.height),e.data.forEach(e=>{e&&e.draw(this._context)})}}class p7 extends p4{constructor(e){super(e)}}class p9 extends pd{constructor(){super()}}const de=new class{constructor(){this._lastFrameTime=0,this._isPlaying=!1;let e=iB.createGameCanvas("game_canvas",window.innerWidth,window.innerHeight);document.body.appendChild(e),this._controller=new p5(new p7(e),new p9),this._windowManager=new iT,this._windowManager.addWindow(new p2(this)),this._inputManager=pb.instance,this._inputManager.addMousemove(e=>{this._controller.model.add(new p8(iO.getId("food"),new ph(e.clientX,e.clientY))),this._controller.view.update(this._controller.model)})}get windowManager(){return this._windowManager}get controller(){return this._controller}get isPlaying(){return this._isPlaying}set isPlaying(e){this._isPlaying=e}gameLoop(e){if(!this._isPlaying)return;let t=e-this._lastFrameTime;this._lastFrameTime=e,this._controller.update(t),requestAnimationFrame(e=>this.gameLoop(e))}start(){this._isPlaying=!0,this._lastFrameTime=performance.now(),requestAnimationFrame(e=>this.gameLoop(e))}stop(){this._isPlaying=!1}};de.controller.model.add(new p1(iO.getId("monster"),pp.getRandom(pp.canvasSize()))),de.controller.model.add(new p1(iO.getId("monster"),pp.getRandom(pp.canvasSize()))),de.controller.model.add(new p1(iO.getId("monster"),pp.getRandom(pp.canvasSize()))),de.controller.updateRender();
//# sourceMappingURL=AGNIS.8490f444.js.map
